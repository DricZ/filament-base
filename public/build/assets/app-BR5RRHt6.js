var kr=Object.defineProperty;var xr=(a,e,t)=>e in a?kr(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var Ae=(a,e,t)=>xr(a,typeof e!="symbol"?e+"":e,t);function Ii(a,e){return function(){return a.apply(e,arguments)}}const{toString:_r}=Object.prototype,{getPrototypeOf:Rt}=Object,Xe=(a=>e=>{const t=_r.call(e);return a[t]||(a[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),oe=a=>(a=a.toLowerCase(),e=>Xe(e)===a),Ye=a=>e=>typeof e===a,{isArray:Ne}=Array,Re=Ye("undefined");function Ar(a){return a!==null&&!Re(a)&&a.constructor!==null&&!Re(a.constructor)&&re(a.constructor.isBuffer)&&a.constructor.isBuffer(a)}const Di=oe("ArrayBuffer");function Fr(a){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(a):e=a&&a.buffer&&Di(a.buffer),e}const Lr=Ye("string"),re=Ye("function"),Bi=Ye("number"),Qe=a=>a!==null&&typeof a=="object",Rr=a=>a===!0||a===!1,He=a=>{if(Xe(a)!=="object")return!1;const e=Rt(a);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in a)&&!(Symbol.iterator in a)},Vr=oe("Date"),Ir=oe("File"),Dr=oe("Blob"),Br=oe("FileList"),Mr=a=>Qe(a)&&re(a.pipe),Ur=a=>{let e;return a&&(typeof FormData=="function"&&a instanceof FormData||re(a.append)&&((e=Xe(a))==="formdata"||e==="object"&&re(a.toString)&&a.toString()==="[object FormData]"))},$r=oe("URLSearchParams"),[jr,zr,Hr,Wr]=["ReadableStream","Request","Response","Headers"].map(oe),Kr=a=>a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ie(a,e,{allOwnKeys:t=!1}={}){if(a===null||typeof a>"u")return;let i,s;if(typeof a!="object"&&(a=[a]),Ne(a))for(i=0,s=a.length;i<s;i++)e.call(null,a[i],i,a);else{const n=t?Object.getOwnPropertyNames(a):Object.keys(a),h=n.length;let u;for(i=0;i<h;i++)u=n[i],e.call(null,a[u],u,a)}}function Mi(a,e){e=e.toLowerCase();const t=Object.keys(a);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const we=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ui=a=>!Re(a)&&a!==we;function Tt(){const{caseless:a}=Ui(this)&&this||{},e={},t=(i,s)=>{const n=a&&Mi(e,s)||s;He(e[n])&&He(i)?e[n]=Tt(e[n],i):He(i)?e[n]=Tt({},i):Ne(i)?e[n]=i.slice():e[n]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ie(arguments[i],t);return e}const qr=(a,e,t,{allOwnKeys:i}={})=>(Ie(e,(s,n)=>{t&&re(s)?a[n]=Ii(s,t):a[n]=s},{allOwnKeys:i}),a),Gr=a=>(a.charCodeAt(0)===65279&&(a=a.slice(1)),a),Zr=(a,e,t,i)=>{a.prototype=Object.create(e.prototype,i),a.prototype.constructor=a,Object.defineProperty(a,"super",{value:e.prototype}),t&&Object.assign(a.prototype,t)},Jr=(a,e,t,i)=>{let s,n,h;const u={};if(e=e||{},a==null)return e;do{for(s=Object.getOwnPropertyNames(a),n=s.length;n-- >0;)h=s[n],(!i||i(h,a,e))&&!u[h]&&(e[h]=a[h],u[h]=!0);a=t!==!1&&Rt(a)}while(a&&(!t||t(a,e))&&a!==Object.prototype);return e},Xr=(a,e,t)=>{a=String(a),(t===void 0||t>a.length)&&(t=a.length),t-=e.length;const i=a.indexOf(e,t);return i!==-1&&i===t},Yr=a=>{if(!a)return null;if(Ne(a))return a;let e=a.length;if(!Bi(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=a[e];return t},Qr=(a=>e=>a&&e instanceof a)(typeof Uint8Array<"u"&&Rt(Uint8Array)),eo=(a,e)=>{const i=(a&&a[Symbol.iterator]).call(a);let s;for(;(s=i.next())&&!s.done;){const n=s.value;e.call(a,n[0],n[1])}},to=(a,e)=>{let t;const i=[];for(;(t=a.exec(e))!==null;)i.push(t);return i},no=oe("HTMLFormElement"),so=a=>a.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),yi=(({hasOwnProperty:a})=>(e,t)=>a.call(e,t))(Object.prototype),ro=oe("RegExp"),$i=(a,e)=>{const t=Object.getOwnPropertyDescriptors(a),i={};Ie(t,(s,n)=>{let h;(h=e(s,n,a))!==!1&&(i[n]=h||s)}),Object.defineProperties(a,i)},oo=a=>{$i(a,(e,t)=>{if(re(a)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=a[t];if(re(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ao=(a,e)=>{const t={},i=s=>{s.forEach(n=>{t[n]=!0})};return Ne(a)?i(a):i(String(a).split(e)),t},lo=()=>{},co=(a,e)=>a!=null&&Number.isFinite(a=+a)?a:e,Pt="abcdefghijklmnopqrstuvwxyz",bi="0123456789",ji={DIGIT:bi,ALPHA:Pt,ALPHA_DIGIT:Pt+Pt.toUpperCase()+bi},uo=(a=16,e=ji.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;a--;)t+=e[Math.random()*i|0];return t};function ho(a){return!!(a&&re(a.append)&&a[Symbol.toStringTag]==="FormData"&&a[Symbol.iterator])}const fo=a=>{const e=new Array(10),t=(i,s)=>{if(Qe(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const n=Ne(i)?[]:{};return Ie(i,(h,u)=>{const m=t(h,s+1);!Re(m)&&(n[u]=m)}),e[s]=void 0,n}}return i};return t(a,0)},mo=oe("AsyncFunction"),po=a=>a&&(Qe(a)||re(a))&&re(a.then)&&re(a.catch),zi=((a,e)=>a?setImmediate:e?((t,i)=>(we.addEventListener("message",({source:s,data:n})=>{s===we&&n===t&&i.length&&i.shift()()},!1),s=>{i.push(s),we.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",re(we.postMessage)),go=typeof queueMicrotask<"u"?queueMicrotask.bind(we):typeof process<"u"&&process.nextTick||zi,P={isArray:Ne,isArrayBuffer:Di,isBuffer:Ar,isFormData:Ur,isArrayBufferView:Fr,isString:Lr,isNumber:Bi,isBoolean:Rr,isObject:Qe,isPlainObject:He,isReadableStream:jr,isRequest:zr,isResponse:Hr,isHeaders:Wr,isUndefined:Re,isDate:Vr,isFile:Ir,isBlob:Dr,isRegExp:ro,isFunction:re,isStream:Mr,isURLSearchParams:$r,isTypedArray:Qr,isFileList:Br,forEach:Ie,merge:Tt,extend:qr,trim:Kr,stripBOM:Gr,inherits:Zr,toFlatObject:Jr,kindOf:Xe,kindOfTest:oe,endsWith:Xr,toArray:Yr,forEachEntry:eo,matchAll:to,isHTMLForm:no,hasOwnProperty:yi,hasOwnProp:yi,reduceDescriptors:$i,freezeMethods:oo,toObjectSet:ao,toCamelCase:so,noop:lo,toFiniteNumber:co,findKey:Mi,global:we,isContextDefined:Ui,ALPHABET:ji,generateString:uo,isSpecCompliantForm:ho,toJSONObject:fo,isAsyncFn:mo,isThenable:po,setImmediate:zi,asap:go};function V(a,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=a,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}P.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const Hi=V.prototype,Wi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(a=>{Wi[a]={value:a}});Object.defineProperties(V,Wi);Object.defineProperty(Hi,"isAxiosError",{value:!0});V.from=(a,e,t,i,s,n)=>{const h=Object.create(Hi);return P.toFlatObject(a,h,function(m){return m!==Error.prototype},u=>u!=="isAxiosError"),V.call(h,a.message,e,t,i,s),h.cause=a,h.name=a.name,n&&Object.assign(h,n),h};const vo=null;function kt(a){return P.isPlainObject(a)||P.isArray(a)}function Ki(a){return P.endsWith(a,"[]")?a.slice(0,-2):a}function Si(a,e,t){return a?a.concat(e).map(function(s,n){return s=Ki(s),!t&&n?"["+s+"]":s}).join(t?".":""):e}function yo(a){return P.isArray(a)&&!a.some(kt)}const bo=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function et(a,e,t){if(!P.isObject(a))throw new TypeError("target must be an object");e=e||new FormData,t=P.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,b){return!P.isUndefined(b[k])});const i=t.metaTokens,s=t.visitor||v,n=t.dots,h=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function g(w){if(w===null)return"";if(P.isDate(w))return w.toISOString();if(!m&&P.isBlob(w))throw new V("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(w)||P.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function v(w,k,b){let E=w;if(w&&!b&&typeof w=="object"){if(P.endsWith(k,"{}"))k=i?k:k.slice(0,-2),w=JSON.stringify(w);else if(P.isArray(w)&&yo(w)||(P.isFileList(w)||P.endsWith(k,"[]"))&&(E=P.toArray(w)))return k=Ki(k),E.forEach(function(A,B){!(P.isUndefined(A)||A===null)&&e.append(h===!0?Si([k],B,n):h===null?k:k+"[]",g(A))}),!1}return kt(w)?!0:(e.append(Si(b,k,n),g(w)),!1)}const y=[],O=Object.assign(bo,{defaultVisitor:v,convertValue:g,isVisitable:kt});function N(w,k){if(!P.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(w),P.forEach(w,function(E,x){(!(P.isUndefined(E)||E===null)&&s.call(e,E,P.isString(x)?x.trim():x,k,O))===!0&&N(E,k?k.concat(x):[x])}),y.pop()}}if(!P.isObject(a))throw new TypeError("data must be an object");return N(a),e}function wi(a){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(a).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Vt(a,e){this._pairs=[],a&&et(a,this,e)}const qi=Vt.prototype;qi.append=function(e,t){this._pairs.push([e,t])};qi.toString=function(e){const t=e?function(i){return e.call(this,i,wi)}:wi;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function So(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gi(a,e,t){if(!e)return a;const i=t&&t.encode||So;P.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let n;if(s?n=s(e,t):n=P.isURLSearchParams(e)?e.toString():new Vt(e,t).toString(i),n){const h=a.indexOf("#");h!==-1&&(a=a.slice(0,h)),a+=(a.indexOf("?")===-1?"?":"&")+n}return a}class Pi{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Zi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wo=typeof URLSearchParams<"u"?URLSearchParams:Vt,Po=typeof FormData<"u"?FormData:null,Eo=typeof Blob<"u"?Blob:null,Oo={isBrowser:!0,classes:{URLSearchParams:wo,FormData:Po,Blob:Eo},protocols:["http","https","file","blob","url","data"]},It=typeof window<"u"&&typeof document<"u",xt=typeof navigator=="object"&&navigator||void 0,Co=It&&(!xt||["ReactNative","NativeScript","NS"].indexOf(xt.product)<0),No=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",To=It&&window.location.href||"http://localhost",ko=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:It,hasStandardBrowserEnv:Co,hasStandardBrowserWebWorkerEnv:No,navigator:xt,origin:To},Symbol.toStringTag,{value:"Module"})),Y={...ko,...Oo};function xo(a,e){return et(a,new Y.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,n){return Y.isNode&&P.isBuffer(t)?(this.append(i,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}function _o(a){return P.matchAll(/\w+|\[(\w*)]/g,a).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ao(a){const e={},t=Object.keys(a);let i;const s=t.length;let n;for(i=0;i<s;i++)n=t[i],e[n]=a[n];return e}function Ji(a){function e(t,i,s,n){let h=t[n++];if(h==="__proto__")return!0;const u=Number.isFinite(+h),m=n>=t.length;return h=!h&&P.isArray(s)?s.length:h,m?(P.hasOwnProp(s,h)?s[h]=[s[h],i]:s[h]=i,!u):((!s[h]||!P.isObject(s[h]))&&(s[h]=[]),e(t,i,s[h],n)&&P.isArray(s[h])&&(s[h]=Ao(s[h])),!u)}if(P.isFormData(a)&&P.isFunction(a.entries)){const t={};return P.forEachEntry(a,(i,s)=>{e(_o(i),s,t,0)}),t}return null}function Fo(a,e,t){if(P.isString(a))try{return(e||JSON.parse)(a),P.trim(a)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(a)}const De={transitional:Zi,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,n=P.isObject(e);if(n&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return s?JSON.stringify(Ji(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e)||P.isReadableStream(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return xo(e,this.formSerializer).toString();if((u=P.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return et(u?{"files[]":e}:e,m&&new m,this.formSerializer)}}return n||s?(t.setContentType("application/json",!1),Fo(e)):e}],transformResponse:[function(e){const t=this.transitional||De.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(P.isResponse(e)||P.isReadableStream(e))return e;if(e&&P.isString(e)&&(i&&!this.responseType||s)){const h=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(h)throw u.name==="SyntaxError"?V.from(u,V.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Y.classes.FormData,Blob:Y.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],a=>{De.headers[a]={}});const Lo=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ro=a=>{const e={};let t,i,s;return a&&a.split(`
`).forEach(function(h){s=h.indexOf(":"),t=h.substring(0,s).trim().toLowerCase(),i=h.substring(s+1).trim(),!(!t||e[t]&&Lo[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},Ei=Symbol("internals");function Fe(a){return a&&String(a).trim().toLowerCase()}function We(a){return a===!1||a==null?a:P.isArray(a)?a.map(We):String(a)}function Vo(a){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(a);)e[i[1]]=i[2];return e}const Io=a=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(a.trim());function Et(a,e,t,i,s){if(P.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!P.isString(e)){if(P.isString(i))return e.indexOf(i)!==-1;if(P.isRegExp(i))return i.test(e)}}function Do(a){return a.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Bo(a,e){const t=P.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(a,i+t,{value:function(s,n,h){return this[i].call(this,e,s,n,h)},configurable:!0})})}class te{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function n(u,m,g){const v=Fe(m);if(!v)throw new Error("header name must be a non-empty string");const y=P.findKey(s,v);(!y||s[y]===void 0||g===!0||g===void 0&&s[y]!==!1)&&(s[y||m]=We(u))}const h=(u,m)=>P.forEach(u,(g,v)=>n(g,v,m));if(P.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(P.isString(e)&&(e=e.trim())&&!Io(e))h(Ro(e),t);else if(P.isHeaders(e))for(const[u,m]of e.entries())n(m,u,i);else e!=null&&n(t,e,i);return this}get(e,t){if(e=Fe(e),e){const i=P.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return Vo(s);if(P.isFunction(t))return t.call(this,s,i);if(P.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fe(e),e){const i=P.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Et(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function n(h){if(h=Fe(h),h){const u=P.findKey(i,h);u&&(!t||Et(i,i[u],u,t))&&(delete i[u],s=!0)}}return P.isArray(e)?e.forEach(n):n(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const n=t[i];(!e||Et(this,this[n],n,e,!0))&&(delete this[n],s=!0)}return s}normalize(e){const t=this,i={};return P.forEach(this,(s,n)=>{const h=P.findKey(i,n);if(h){t[h]=We(s),delete t[n];return}const u=e?Do(n):String(n).trim();u!==n&&delete t[n],t[u]=We(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return P.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&P.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Ei]=this[Ei]={accessors:{}}).accessors,s=this.prototype;function n(h){const u=Fe(h);i[u]||(Bo(s,h),i[u]=!0)}return P.isArray(e)?e.forEach(n):n(e),this}}te.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(te.prototype,({value:a},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>a,set(i){this[t]=i}}});P.freezeMethods(te);function Ot(a,e){const t=this||De,i=e||t,s=te.from(i.headers);let n=i.data;return P.forEach(a,function(u){n=u.call(t,n,s.normalize(),e?e.status:void 0)}),s.normalize(),n}function Xi(a){return!!(a&&a.__CANCEL__)}function Te(a,e,t){V.call(this,a??"canceled",V.ERR_CANCELED,e,t),this.name="CanceledError"}P.inherits(Te,V,{__CANCEL__:!0});function Yi(a,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?a(t):e(new V("Request failed with status code "+t.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Mo(a){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(a);return e&&e[1]||""}function Uo(a,e){a=a||10;const t=new Array(a),i=new Array(a);let s=0,n=0,h;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),v=i[n];h||(h=g),t[s]=m,i[s]=g;let y=n,O=0;for(;y!==s;)O+=t[y++],y=y%a;if(s=(s+1)%a,s===n&&(n=(n+1)%a),g-h<e)return;const N=v&&g-v;return N?Math.round(O*1e3/N):void 0}}function $o(a,e){let t=0,i=1e3/e,s,n;const h=(g,v=Date.now())=>{t=v,s=null,n&&(clearTimeout(n),n=null),a.apply(null,g)};return[(...g)=>{const v=Date.now(),y=v-t;y>=i?h(g,v):(s=g,n||(n=setTimeout(()=>{n=null,h(s)},i-y)))},()=>s&&h(s)]}const qe=(a,e,t=3)=>{let i=0;const s=Uo(50,250);return $o(n=>{const h=n.loaded,u=n.lengthComputable?n.total:void 0,m=h-i,g=s(m),v=h<=u;i=h;const y={loaded:h,total:u,progress:u?h/u:void 0,bytes:m,rate:g||void 0,estimated:g&&u&&v?(u-h)/g:void 0,event:n,lengthComputable:u!=null,[e?"download":"upload"]:!0};a(y)},t)},Oi=(a,e)=>{const t=a!=null;return[i=>e[0]({lengthComputable:t,total:a,loaded:i}),e[1]]},Ci=a=>(...e)=>P.asap(()=>a(...e)),jo=Y.hasStandardBrowserEnv?((a,e)=>t=>(t=new URL(t,Y.origin),a.protocol===t.protocol&&a.host===t.host&&(e||a.port===t.port)))(new URL(Y.origin),Y.navigator&&/(msie|trident)/i.test(Y.navigator.userAgent)):()=>!0,zo=Y.hasStandardBrowserEnv?{write(a,e,t,i,s,n){const h=[a+"="+encodeURIComponent(e)];P.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),P.isString(i)&&h.push("path="+i),P.isString(s)&&h.push("domain="+s),n===!0&&h.push("secure"),document.cookie=h.join("; ")},read(a){const e=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(a){this.write(a,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ho(a){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(a)}function Wo(a,e){return e?a.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):a}function Qi(a,e){return a&&!Ho(e)?Wo(a,e):e}const Ni=a=>a instanceof te?{...a}:a;function Ee(a,e){e=e||{};const t={};function i(g,v,y,O){return P.isPlainObject(g)&&P.isPlainObject(v)?P.merge.call({caseless:O},g,v):P.isPlainObject(v)?P.merge({},v):P.isArray(v)?v.slice():v}function s(g,v,y,O){if(P.isUndefined(v)){if(!P.isUndefined(g))return i(void 0,g,y,O)}else return i(g,v,y,O)}function n(g,v){if(!P.isUndefined(v))return i(void 0,v)}function h(g,v){if(P.isUndefined(v)){if(!P.isUndefined(g))return i(void 0,g)}else return i(void 0,v)}function u(g,v,y){if(y in e)return i(g,v);if(y in a)return i(void 0,g)}const m={url:n,method:n,data:n,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:u,headers:(g,v,y)=>s(Ni(g),Ni(v),y,!0)};return P.forEach(Object.keys(Object.assign({},a,e)),function(v){const y=m[v]||s,O=y(a[v],e[v],v);P.isUndefined(O)&&y!==u||(t[v]=O)}),t}const en=a=>{const e=Ee({},a);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:n,headers:h,auth:u}=e;e.headers=h=te.from(h),e.url=Gi(Qi(e.baseURL,e.url),a.params,a.paramsSerializer),u&&h.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let m;if(P.isFormData(t)){if(Y.hasStandardBrowserEnv||Y.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((m=h.getContentType())!==!1){const[g,...v]=m?m.split(";").map(y=>y.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...v].join("; "))}}if(Y.hasStandardBrowserEnv&&(i&&P.isFunction(i)&&(i=i(e)),i||i!==!1&&jo(e.url))){const g=s&&n&&zo.read(n);g&&h.set(s,g)}return e},Ko=typeof XMLHttpRequest<"u",qo=Ko&&function(a){return new Promise(function(t,i){const s=en(a);let n=s.data;const h=te.from(s.headers).normalize();let{responseType:u,onUploadProgress:m,onDownloadProgress:g}=s,v,y,O,N,w;function k(){N&&N(),w&&w(),s.cancelToken&&s.cancelToken.unsubscribe(v),s.signal&&s.signal.removeEventListener("abort",v)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function E(){if(!b)return;const A=te.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),I={data:!u||u==="text"||u==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:A,config:a,request:b};Yi(function(j){t(j),k()},function(j){i(j),k()},I),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(i(new V("Request aborted",V.ECONNABORTED,a,b)),b=null)},b.onerror=function(){i(new V("Network Error",V.ERR_NETWORK,a,b)),b=null},b.ontimeout=function(){let B=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const I=s.transitional||Zi;s.timeoutErrorMessage&&(B=s.timeoutErrorMessage),i(new V(B,I.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,a,b)),b=null},n===void 0&&h.setContentType(null),"setRequestHeader"in b&&P.forEach(h.toJSON(),function(B,I){b.setRequestHeader(I,B)}),P.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),u&&u!=="json"&&(b.responseType=s.responseType),g&&([O,w]=qe(g,!0),b.addEventListener("progress",O)),m&&b.upload&&([y,N]=qe(m),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",N)),(s.cancelToken||s.signal)&&(v=A=>{b&&(i(!A||A.type?new Te(null,a,b):A),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(v),s.signal&&(s.signal.aborted?v():s.signal.addEventListener("abort",v)));const x=Mo(s.url);if(x&&Y.protocols.indexOf(x)===-1){i(new V("Unsupported protocol "+x+":",V.ERR_BAD_REQUEST,a));return}b.send(n||null)})},Go=(a,e)=>{const{length:t}=a=a?a.filter(Boolean):[];if(e||t){let i=new AbortController,s;const n=function(g){if(!s){s=!0,u();const v=g instanceof Error?g:this.reason;i.abort(v instanceof V?v:new Te(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,n(new V(`timeout ${e} of ms exceeded`,V.ETIMEDOUT))},e);const u=()=>{a&&(h&&clearTimeout(h),h=null,a.forEach(g=>{g.unsubscribe?g.unsubscribe(n):g.removeEventListener("abort",n)}),a=null)};a.forEach(g=>g.addEventListener("abort",n));const{signal:m}=i;return m.unsubscribe=()=>P.asap(u),m}},Zo=function*(a,e){let t=a.byteLength;if(t<e){yield a;return}let i=0,s;for(;i<t;)s=i+e,yield a.slice(i,s),i=s},Jo=async function*(a,e){for await(const t of Xo(a))yield*Zo(t,e)},Xo=async function*(a){if(a[Symbol.asyncIterator]){yield*a;return}const e=a.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Ti=(a,e,t,i)=>{const s=Jo(a,e);let n=0,h,u=m=>{h||(h=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:v}=await s.next();if(g){u(),m.close();return}let y=v.byteLength;if(t){let O=n+=y;t(O)}m.enqueue(new Uint8Array(v))}catch(g){throw u(g),g}},cancel(m){return u(m),s.return()}},{highWaterMark:2})},tt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tn=tt&&typeof ReadableStream=="function",Yo=tt&&(typeof TextEncoder=="function"?(a=>e=>a.encode(e))(new TextEncoder):async a=>new Uint8Array(await new Response(a).arrayBuffer())),nn=(a,...e)=>{try{return!!a(...e)}catch{return!1}},Qo=tn&&nn(()=>{let a=!1;const e=new Request(Y.origin,{body:new ReadableStream,method:"POST",get duplex(){return a=!0,"half"}}).headers.has("Content-Type");return a&&!e}),ki=64*1024,_t=tn&&nn(()=>P.isReadableStream(new Response("").body)),Ge={stream:_t&&(a=>a.body)};tt&&(a=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ge[e]&&(Ge[e]=P.isFunction(a[e])?t=>t[e]():(t,i)=>{throw new V(`Response type '${e}' is not supported`,V.ERR_NOT_SUPPORT,i)})})})(new Response);const ea=async a=>{if(a==null)return 0;if(P.isBlob(a))return a.size;if(P.isSpecCompliantForm(a))return(await new Request(Y.origin,{method:"POST",body:a}).arrayBuffer()).byteLength;if(P.isArrayBufferView(a)||P.isArrayBuffer(a))return a.byteLength;if(P.isURLSearchParams(a)&&(a=a+""),P.isString(a))return(await Yo(a)).byteLength},ta=async(a,e)=>{const t=P.toFiniteNumber(a.getContentLength());return t??ea(e)},ia=tt&&(async a=>{let{url:e,method:t,data:i,signal:s,cancelToken:n,timeout:h,onDownloadProgress:u,onUploadProgress:m,responseType:g,headers:v,withCredentials:y="same-origin",fetchOptions:O}=en(a);g=g?(g+"").toLowerCase():"text";let N=Go([s,n&&n.toAbortSignal()],h),w;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let b;try{if(m&&Qo&&t!=="get"&&t!=="head"&&(b=await ta(v,i))!==0){let I=new Request(e,{method:"POST",body:i,duplex:"half"}),U;if(P.isFormData(i)&&(U=I.headers.get("content-type"))&&v.setContentType(U),I.body){const[j,H]=Oi(b,qe(Ci(m)));i=Ti(I.body,ki,j,H)}}P.isString(y)||(y=y?"include":"omit");const E="credentials"in Request.prototype;w=new Request(e,{...O,signal:N,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:i,duplex:"half",credentials:E?y:void 0});let x=await fetch(w);const A=_t&&(g==="stream"||g==="response");if(_t&&(u||A&&k)){const I={};["status","statusText","headers"].forEach(q=>{I[q]=x[q]});const U=P.toFiniteNumber(x.headers.get("content-length")),[j,H]=u&&Oi(U,qe(Ci(u),!0))||[];x=new Response(Ti(x.body,ki,j,()=>{H&&H(),k&&k()}),I)}g=g||"text";let B=await Ge[P.findKey(Ge,g)||"text"](x,a);return!A&&k&&k(),await new Promise((I,U)=>{Yi(I,U,{data:B,headers:te.from(x.headers),status:x.status,statusText:x.statusText,config:a,request:w})})}catch(E){throw k&&k(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,a,w),{cause:E.cause||E}):V.from(E,E&&E.code,a,w)}}),At={http:vo,xhr:qo,fetch:ia};P.forEach(At,(a,e)=>{if(a){try{Object.defineProperty(a,"name",{value:e})}catch{}Object.defineProperty(a,"adapterName",{value:e})}});const xi=a=>`- ${a}`,na=a=>P.isFunction(a)||a===null||a===!1,sn={getAdapter:a=>{a=P.isArray(a)?a:[a];const{length:e}=a;let t,i;const s={};for(let n=0;n<e;n++){t=a[n];let h;if(i=t,!na(t)&&(i=At[(h=String(t)).toLowerCase()],i===void 0))throw new V(`Unknown adapter '${h}'`);if(i)break;s[h||"#"+n]=i}if(!i){const n=Object.entries(s).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=e?n.length>1?`since :
`+n.map(xi).join(`
`):" "+xi(n[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i},adapters:At};function Ct(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new Te(null,a)}function _i(a){return Ct(a),a.headers=te.from(a.headers),a.data=Ot.call(a,a.transformRequest),["post","put","patch"].indexOf(a.method)!==-1&&a.headers.setContentType("application/x-www-form-urlencoded",!1),sn.getAdapter(a.adapter||De.adapter)(a).then(function(i){return Ct(a),i.data=Ot.call(a,a.transformResponse,i),i.headers=te.from(i.headers),i},function(i){return Xi(i)||(Ct(a),i&&i.response&&(i.response.data=Ot.call(a,a.transformResponse,i.response),i.response.headers=te.from(i.response.headers))),Promise.reject(i)})}const rn="1.7.9",it={};["object","boolean","number","function","string","symbol"].forEach((a,e)=>{it[a]=function(i){return typeof i===a||"a"+(e<1?"n ":" ")+a}});const Ai={};it.transitional=function(e,t,i){function s(n,h){return"[Axios v"+rn+"] Transitional option '"+n+"'"+h+(i?". "+i:"")}return(n,h,u)=>{if(e===!1)throw new V(s(h," has been removed"+(t?" in "+t:"")),V.ERR_DEPRECATED);return t&&!Ai[h]&&(Ai[h]=!0,console.warn(s(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(n,h,u):!0}};it.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function sa(a,e,t){if(typeof a!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const i=Object.keys(a);let s=i.length;for(;s-- >0;){const n=i[s],h=e[n];if(h){const u=a[n],m=u===void 0||h(u,n,a);if(m!==!0)throw new V("option "+n+" must be "+m,V.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new V("Unknown option "+n,V.ERR_BAD_OPTION)}}const Ke={assertOptions:sa,validators:it},le=Ke.validators;class Pe{constructor(e){this.defaults=e,this.interceptors={request:new Pi,response:new Pi}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const n=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?n&&!String(i.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+n):i.stack=n}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ee(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:n}=t;i!==void 0&&Ke.assertOptions(i,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),s!=null&&(P.isFunction(s)?t.paramsSerializer={serialize:s}:Ke.assertOptions(s,{encode:le.function,serialize:le.function},!0)),Ke.assertOptions(t,{baseUrl:le.spelling("baseURL"),withXsrfToken:le.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=n&&P.merge(n.common,n[t.method]);n&&P.forEach(["delete","get","head","post","put","patch","common"],w=>{delete n[w]}),t.headers=te.concat(h,n);const u=[];let m=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(m=m&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let v,y=0,O;if(!m){const w=[_i.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,g),O=w.length,v=Promise.resolve(t);y<O;)v=v.then(w[y++],w[y++]);return v}O=u.length;let N=t;for(y=0;y<O;){const w=u[y++],k=u[y++];try{N=w(N)}catch(b){k.call(this,b);break}}try{v=_i.call(this,N)}catch(w){return Promise.reject(w)}for(y=0,O=g.length;y<O;)v=v.then(g[y++],g[y++]);return v}getUri(e){e=Ee(this.defaults,e);const t=Qi(e.baseURL,e.url);return Gi(t,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){Pe.prototype[e]=function(t,i){return this.request(Ee(i||{},{method:e,url:t,data:(i||{}).data}))}});P.forEach(["post","put","patch"],function(e){function t(i){return function(n,h,u){return this.request(Ee(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:n,data:h}))}}Pe.prototype[e]=t(),Pe.prototype[e+"Form"]=t(!0)});class Dt{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(n){t=n});const i=this;this.promise.then(s=>{if(!i._listeners)return;let n=i._listeners.length;for(;n-- >0;)i._listeners[n](s);i._listeners=null}),this.promise.then=s=>{let n;const h=new Promise(u=>{i.subscribe(u),n=u}).then(s);return h.cancel=function(){i.unsubscribe(n)},h},e(function(n,h,u){i.reason||(i.reason=new Te(n,h,u),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Dt(function(s){e=s}),cancel:e}}}function ra(a){return function(t){return a.apply(null,t)}}function oa(a){return P.isObject(a)&&a.isAxiosError===!0}const Ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ft).forEach(([a,e])=>{Ft[e]=a});function on(a){const e=new Pe(a),t=Ii(Pe.prototype.request,e);return P.extend(t,Pe.prototype,e,{allOwnKeys:!0}),P.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return on(Ee(a,s))},t}const K=on(De);K.Axios=Pe;K.CanceledError=Te;K.CancelToken=Dt;K.isCancel=Xi;K.VERSION=rn;K.toFormData=et;K.AxiosError=V;K.Cancel=K.CanceledError;K.all=function(e){return Promise.all(e)};K.spread=ra;K.isAxiosError=oa;K.mergeConfig=Ee;K.AxiosHeaders=te;K.formToJSON=a=>Ji(P.isHTMLForm(a)?new FormData(a):a);K.getAdapter=sn.getAdapter;K.HttpStatusCode=Ft;K.default=K;function Le(a){"@babel/helpers - typeof";return Le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(a)}function G(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function aa(a,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(a,i.key,i)}}function Z(a,e,t){return e&&aa(a.prototype,e),Object.defineProperty(a,"prototype",{writable:!1}),a}function Ve(){return Ve=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},Ve.apply(this,arguments)}function ie(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),e&&Lt(a,e)}function Ze(a){return Ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(a)}function Lt(a,e){return Lt=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Lt(a,e)}function la(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ca(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ua(a,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ca(a)}function ne(a){var e=la();return function(){var i=Ze(a),s;if(e){var n=Ze(this).constructor;s=Reflect.construct(i,arguments,n)}else s=i.apply(this,arguments);return ua(this,s)}}var Bt=function(){function a(){G(this,a)}return Z(a,[{key:"listenForWhisper",value:function(t,i){return this.listen(".client-"+t,i)}},{key:"notification",value:function(t){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",t)}},{key:"stopListeningForWhisper",value:function(t,i){return this.stopListening(".client-"+t,i)}}]),a}(),an=function(){function a(e){G(this,a),this.namespace=e}return Z(a,[{key:"format",value:function(t){return[".","\\"].includes(t.charAt(0))?t.substring(1):(this.namespace&&(t=this.namespace+"."+t),t.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(t){this.namespace=t}}]),a}();function ha(a){try{new a}catch(e){if(e.message.includes("is not a constructor"))return!1}return!0}var Mt=function(a){ie(t,a);var e=ne(t);function t(i,s,n){var h;return G(this,t),h=e.call(this),h.name=s,h.pusher=i,h.options=n,h.eventFormatter=new an(h.options.namespace),h.subscribe(),h}return Z(t,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(s,n){return this.on(this.eventFormatter.format(s),n),this}},{key:"listenToAll",value:function(s){var n=this;return this.subscription.bind_global(function(h,u){if(!h.startsWith("pusher:")){var m=n.options.namespace.replace(/\./g,"\\"),g=h.startsWith(m)?h.substring(m.length+1):"."+h;s(g,u)}}),this}},{key:"stopListening",value:function(s,n){return n?this.subscription.unbind(this.eventFormatter.format(s),n):this.subscription.unbind(this.eventFormatter.format(s)),this}},{key:"stopListeningToAll",value:function(s){return s?this.subscription.unbind_global(s):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(s){return this.on("pusher:subscription_succeeded",function(){s()}),this}},{key:"error",value:function(s){return this.on("pusher:subscription_error",function(n){s(n)}),this}},{key:"on",value:function(s,n){return this.subscription.bind(s,n),this}}]),t}(Bt),ln=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"whisper",value:function(s,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),n),this}}]),t}(Mt),da=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"whisper",value:function(s,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),n),this}}]),t}(Mt),fa=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"here",value:function(s){return this.on("pusher:subscription_succeeded",function(n){s(Object.keys(n.members).map(function(h){return n.members[h]}))}),this}},{key:"joining",value:function(s){return this.on("pusher:member_added",function(n){s(n.info)}),this}},{key:"whisper",value:function(s,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(s),n),this}},{key:"leaving",value:function(s){return this.on("pusher:member_removed",function(n){s(n.info)}),this}}]),t}(ln),cn=function(a){ie(t,a);var e=ne(t);function t(i,s,n){var h;return G(this,t),h=e.call(this),h.events={},h.listeners={},h.name=s,h.socket=i,h.options=n,h.eventFormatter=new an(h.options.namespace),h.subscribe(),h}return Z(t,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(s,n){return this.on(this.eventFormatter.format(s),n),this}},{key:"stopListening",value:function(s,n){return this.unbindEvent(this.eventFormatter.format(s),n),this}},{key:"subscribed",value:function(s){return this.on("connect",function(n){s(n)}),this}},{key:"error",value:function(s){return this}},{key:"on",value:function(s,n){var h=this;return this.listeners[s]=this.listeners[s]||[],this.events[s]||(this.events[s]=function(u,m){h.name===u&&h.listeners[s]&&h.listeners[s].forEach(function(g){return g(m)})},this.socket.on(s,this.events[s])),this.listeners[s].push(n),this}},{key:"unbind",value:function(){var s=this;Object.keys(this.events).forEach(function(n){s.unbindEvent(n)})}},{key:"unbindEvent",value:function(s,n){this.listeners[s]=this.listeners[s]||[],n&&(this.listeners[s]=this.listeners[s].filter(function(h){return h!==n})),(!n||this.listeners[s].length===0)&&(this.events[s]&&(this.socket.removeListener(s,this.events[s]),delete this.events[s]),delete this.listeners[s])}}]),t}(Bt),un=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"whisper",value:function(s,n){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(s),data:n}),this}}]),t}(cn),ma=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"here",value:function(s){return this.on("presence:subscribed",function(n){s(n.map(function(h){return h.user_info}))}),this}},{key:"joining",value:function(s){return this.on("presence:joining",function(n){return s(n.user_info)}),this}},{key:"whisper",value:function(s,n){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(s),data:n}),this}},{key:"leaving",value:function(s){return this.on("presence:leaving",function(n){return s(n.user_info)}),this}}]),t}(un),Je=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(s,n){return this}},{key:"listenToAll",value:function(s){return this}},{key:"stopListening",value:function(s,n){return this}},{key:"subscribed",value:function(s){return this}},{key:"error",value:function(s){return this}},{key:"on",value:function(s,n){return this}}]),t}(Bt),hn=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"whisper",value:function(s,n){return this}}]),t}(Je),pa=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"whisper",value:function(s,n){return this}}]),t}(Je),ga=function(a){ie(t,a);var e=ne(t);function t(){return G(this,t),e.apply(this,arguments)}return Z(t,[{key:"here",value:function(s){return this}},{key:"joining",value:function(s){return this}},{key:"whisper",value:function(s,n){return this}},{key:"leaving",value:function(s){return this}}]),t}(hn),Ut=function(){function a(e){G(this,a),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(e),this.connect()}return Z(a,[{key:"setOptions",value:function(t){this.options=Ve(this._defaultOptions,t);var i=this.csrfToken();return i&&(this.options.auth.headers["X-CSRF-TOKEN"]=i,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=i),i=this.options.bearerToken,i&&(this.options.auth.headers.Authorization="Bearer "+i,this.options.userAuthentication.headers.Authorization="Bearer "+i),t}},{key:"csrfToken",value:function(){var t;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(t=document.querySelector('meta[name="csrf-token"]'))?t.getAttribute("content"):null}}]),a}(),Fi=function(a){ie(t,a);var e=ne(t);function t(){var i;return G(this,t),i=e.apply(this,arguments),i.channels={},i}return Z(t,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(s,n,h){return this.channel(s).listen(n,h)}},{key:"channel",value:function(s){return this.channels[s]||(this.channels[s]=new Mt(this.pusher,s,this.options)),this.channels[s]}},{key:"privateChannel",value:function(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new ln(this.pusher,"private-"+s,this.options)),this.channels["private-"+s]}},{key:"encryptedPrivateChannel",value:function(s){return this.channels["private-encrypted-"+s]||(this.channels["private-encrypted-"+s]=new da(this.pusher,"private-encrypted-"+s,this.options)),this.channels["private-encrypted-"+s]}},{key:"presenceChannel",value:function(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new fa(this.pusher,"presence-"+s,this.options)),this.channels["presence-"+s]}},{key:"leave",value:function(s){var n=this,h=[s,"private-"+s,"private-encrypted-"+s,"presence-"+s];h.forEach(function(u,m){n.leaveChannel(u)})}},{key:"leaveChannel",value:function(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),t}(Ut),Li=function(a){ie(t,a);var e=ne(t);function t(){var i;return G(this,t),i=e.apply(this,arguments),i.channels={},i}return Z(t,[{key:"connect",value:function(){var s=this,n=this.getSocketIO();return this.socket=n(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(s.channels).forEach(function(h){h.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(s,n,h){return this.channel(s).listen(n,h)}},{key:"channel",value:function(s){return this.channels[s]||(this.channels[s]=new cn(this.socket,s,this.options)),this.channels[s]}},{key:"privateChannel",value:function(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new un(this.socket,"private-"+s,this.options)),this.channels["private-"+s]}},{key:"presenceChannel",value:function(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new ma(this.socket,"presence-"+s,this.options)),this.channels["presence-"+s]}},{key:"leave",value:function(s){var n=this,h=[s,"private-"+s,"presence-"+s];h.forEach(function(u){n.leaveChannel(u)})}},{key:"leaveChannel",value:function(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),t}(Ut),va=function(a){ie(t,a);var e=ne(t);function t(){var i;return G(this,t),i=e.apply(this,arguments),i.channels={},i}return Z(t,[{key:"connect",value:function(){}},{key:"listen",value:function(s,n,h){return new Je}},{key:"channel",value:function(s){return new Je}},{key:"privateChannel",value:function(s){return new hn}},{key:"encryptedPrivateChannel",value:function(s){return new pa}},{key:"presenceChannel",value:function(s){return new ga}},{key:"leave",value:function(s){}},{key:"leaveChannel",value:function(s){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),t}(Ut),ya=function(){function a(e){G(this,a),this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Z(a,[{key:"channel",value:function(t){return this.connector.channel(t)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new Fi(Ve(Ve({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new Fi(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new Li(this.options);else if(this.options.broadcaster=="null")this.connector=new va(this.options);else if(typeof this.options.broadcaster=="function"&&ha(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(Le(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(t){return this.connector.presenceChannel(t)}},{key:"leave",value:function(t){this.connector.leave(t)}},{key:"leaveChannel",value:function(t){this.connector.leaveChannel(t)}},{key:"leaveAllChannels",value:function(){for(var t in this.connector.channels)this.leaveChannel(t)}},{key:"listen",value:function(t,i,s){return this.connector.listen(t,i,s)}},{key:"private",value:function(t){return this.connector.privateChannel(t)}},{key:"encryptedPrivate",value:function(t){if(this.connector instanceof Li)throw new Error("Broadcaster ".concat(Le(this.options.broadcaster)," ").concat(this.options.broadcaster," does not support encrypted private channels."));return this.connector.encryptedPrivateChannel(t)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":Le(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var t=this;Vue.http.interceptors.push(function(i,s){t.socketId()&&i.headers.set("X-Socket-ID",t.socketId()),s()})}},{key:"registerAxiosRequestInterceptor",value:function(){var t=this;axios.interceptors.request.use(function(i){return t.socketId()&&(i.headers["X-Socket-Id"]=t.socketId()),i})}},{key:"registerjQueryAjaxSetup",value:function(){var t=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(i,s,n){t.socketId()&&n.setRequestHeader("X-Socket-Id",t.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var t=this;document.addEventListener("turbo:before-fetch-request",function(i){i.detail.fetchOptions.headers["X-Socket-Id"]=t.socketId()})}}]),a}();function ba(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Nt={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var Ri;function Sa(){return Ri||(Ri=1,function(a,e){(function(i,s){a.exports=s()})(window,function(){return function(t){var i={};function s(n){if(i[n])return i[n].exports;var h=i[n]={i:n,l:!1,exports:{}};return t[n].call(h.exports,h,h.exports,s),h.l=!0,h.exports}return s.m=t,s.c=i,s.d=function(n,h,u){s.o(n,h)||Object.defineProperty(n,h,{enumerable:!0,get:u})},s.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.t=function(n,h){if(h&1&&(n=s(n)),h&8||h&4&&typeof n=="object"&&n&&n.__esModule)return n;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:n}),h&2&&typeof n!="string")for(var m in n)s.d(u,m,(function(g){return n[g]}).bind(null,m));return u},s.n=function(n){var h=n&&n.__esModule?function(){return n.default}:function(){return n};return s.d(h,"a",h),h},s.o=function(n,h){return Object.prototype.hasOwnProperty.call(n,h)},s.p="",s(s.s=2)}([function(t,i,s){var n=this&&this.__extends||function(){var k=function(b,E){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,A){x.__proto__=A}||function(x,A){for(var B in A)A.hasOwnProperty(B)&&(x[B]=A[B])},k(b,E)};return function(b,E){k(b,E);function x(){this.constructor=b}b.prototype=E===null?Object.create(E):(x.prototype=E.prototype,new x)}}();Object.defineProperty(i,"__esModule",{value:!0});var h=256,u=function(){function k(b){b===void 0&&(b="="),this._paddingCharacter=b}return k.prototype.encodedLength=function(b){return this._paddingCharacter?(b+2)/3*4|0:(b*8+5)/6|0},k.prototype.encode=function(b){for(var E="",x=0;x<b.length-2;x+=3){var A=b[x]<<16|b[x+1]<<8|b[x+2];E+=this._encodeByte(A>>>3*6&63),E+=this._encodeByte(A>>>2*6&63),E+=this._encodeByte(A>>>1*6&63),E+=this._encodeByte(A>>>0*6&63)}var B=b.length-x;if(B>0){var A=b[x]<<16|(B===2?b[x+1]<<8:0);E+=this._encodeByte(A>>>3*6&63),E+=this._encodeByte(A>>>2*6&63),B===2?E+=this._encodeByte(A>>>1*6&63):E+=this._paddingCharacter||"",E+=this._paddingCharacter||""}return E},k.prototype.maxDecodedLength=function(b){return this._paddingCharacter?b/4*3|0:(b*6+7)/8|0},k.prototype.decodedLength=function(b){return this.maxDecodedLength(b.length-this._getPaddingLength(b))},k.prototype.decode=function(b){if(b.length===0)return new Uint8Array(0);for(var E=this._getPaddingLength(b),x=b.length-E,A=new Uint8Array(this.maxDecodedLength(x)),B=0,I=0,U=0,j=0,H=0,q=0,z=0;I<x-4;I+=4)j=this._decodeChar(b.charCodeAt(I+0)),H=this._decodeChar(b.charCodeAt(I+1)),q=this._decodeChar(b.charCodeAt(I+2)),z=this._decodeChar(b.charCodeAt(I+3)),A[B++]=j<<2|H>>>4,A[B++]=H<<4|q>>>2,A[B++]=q<<6|z,U|=j&h,U|=H&h,U|=q&h,U|=z&h;if(I<x-1&&(j=this._decodeChar(b.charCodeAt(I)),H=this._decodeChar(b.charCodeAt(I+1)),A[B++]=j<<2|H>>>4,U|=j&h,U|=H&h),I<x-2&&(q=this._decodeChar(b.charCodeAt(I+2)),A[B++]=H<<4|q>>>2,U|=q&h),I<x-3&&(z=this._decodeChar(b.charCodeAt(I+3)),A[B++]=q<<6|z,U|=z&h),U!==0)throw new Error("Base64Coder: incorrect characters for decoding");return A},k.prototype._encodeByte=function(b){var E=b;return E+=65,E+=25-b>>>8&6,E+=51-b>>>8&-75,E+=61-b>>>8&-15,E+=62-b>>>8&3,String.fromCharCode(E)},k.prototype._decodeChar=function(b){var E=h;return E+=(42-b&b-44)>>>8&-256+b-43+62,E+=(46-b&b-48)>>>8&-256+b-47+63,E+=(47-b&b-58)>>>8&-256+b-48+52,E+=(64-b&b-91)>>>8&-256+b-65+0,E+=(96-b&b-123)>>>8&-256+b-97+26,E},k.prototype._getPaddingLength=function(b){var E=0;if(this._paddingCharacter){for(var x=b.length-1;x>=0&&b[x]===this._paddingCharacter;x--)E++;if(b.length<4||E>2)throw new Error("Base64Coder: incorrect padding")}return E},k}();i.Coder=u;var m=new u;function g(k){return m.encode(k)}i.encode=g;function v(k){return m.decode(k)}i.decode=v;var y=function(k){n(b,k);function b(){return k!==null&&k.apply(this,arguments)||this}return b.prototype._encodeByte=function(E){var x=E;return x+=65,x+=25-E>>>8&6,x+=51-E>>>8&-75,x+=61-E>>>8&-13,x+=62-E>>>8&49,String.fromCharCode(x)},b.prototype._decodeChar=function(E){var x=h;return x+=(44-E&E-46)>>>8&-256+E-45+62,x+=(94-E&E-96)>>>8&-256+E-95+63,x+=(47-E&E-58)>>>8&-256+E-48+52,x+=(64-E&E-91)>>>8&-256+E-65+0,x+=(96-E&E-123)>>>8&-256+E-97+26,x},b}(u);i.URLSafeCoder=y;var O=new y;function N(k){return O.encode(k)}i.encodeURLSafe=N;function w(k){return O.decode(k)}i.decodeURLSafe=w,i.encodedLength=function(k){return m.encodedLength(k)},i.maxDecodedLength=function(k){return m.maxDecodedLength(k)},i.decodedLength=function(k){return m.decodedLength(k)}},function(t,i,s){Object.defineProperty(i,"__esModule",{value:!0});var n="utf8: invalid string",h="utf8: invalid source encoding";function u(v){for(var y=new Uint8Array(m(v)),O=0,N=0;N<v.length;N++){var w=v.charCodeAt(N);w<128?y[O++]=w:w<2048?(y[O++]=192|w>>6,y[O++]=128|w&63):w<55296?(y[O++]=224|w>>12,y[O++]=128|w>>6&63,y[O++]=128|w&63):(N++,w=(w&1023)<<10,w|=v.charCodeAt(N)&1023,w+=65536,y[O++]=240|w>>18,y[O++]=128|w>>12&63,y[O++]=128|w>>6&63,y[O++]=128|w&63)}return y}i.encode=u;function m(v){for(var y=0,O=0;O<v.length;O++){var N=v.charCodeAt(O);if(N<128)y+=1;else if(N<2048)y+=2;else if(N<55296)y+=3;else if(N<=57343){if(O>=v.length-1)throw new Error(n);O++,y+=4}else throw new Error(n)}return y}i.encodedLength=m;function g(v){for(var y=[],O=0;O<v.length;O++){var N=v[O];if(N&128){var w=void 0;if(N<224){if(O>=v.length)throw new Error(h);var k=v[++O];if((k&192)!==128)throw new Error(h);N=(N&31)<<6|k&63,w=128}else if(N<240){if(O>=v.length-1)throw new Error(h);var k=v[++O],b=v[++O];if((k&192)!==128||(b&192)!==128)throw new Error(h);N=(N&15)<<12|(k&63)<<6|b&63,w=2048}else if(N<248){if(O>=v.length-2)throw new Error(h);var k=v[++O],b=v[++O],E=v[++O];if((k&192)!==128||(b&192)!==128||(E&192)!==128)throw new Error(h);N=(N&15)<<18|(k&63)<<12|(b&63)<<6|E&63,w=65536}else throw new Error(h);if(N<w||N>=55296&&N<=57343)throw new Error(h);if(N>=65536){if(N>1114111)throw new Error(h);N-=65536,y.push(String.fromCharCode(55296|N>>10)),N=56320|N&1023}}y.push(String.fromCharCode(N))}return y.join("")}i.decode=g},function(t,i,s){t.exports=s(3).default},function(t,i,s){s.r(i);class n{constructor(r,l){this.lastId=0,this.prefix=r,this.name=l}create(r){this.lastId++;var l=this.lastId,f=this.prefix+l,p=this.name+"["+l+"]",C=!1,_=function(){C||(r.apply(null,arguments),C=!0)};return this[l]=_,{number:l,id:f,name:p,callback:_}}remove(r){delete this[r.number]}}var h=new n("_pusher_script_","Pusher.ScriptReceivers"),u={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},m=u;class g{constructor(r){this.options=r,this.receivers=r.receivers||h,this.loading={}}load(r,l,f){var p=this;if(p.loading[r]&&p.loading[r].length>0)p.loading[r].push(f);else{p.loading[r]=[f];var C=R.createScriptRequest(p.getPath(r,l)),_=p.receivers.create(function(F){if(p.receivers.remove(_),p.loading[r]){var L=p.loading[r];delete p.loading[r];for(var D=function(W){W||C.cleanup()},M=0;M<L.length;M++)L[M](F,D)}});C.send(_)}}getRoot(r){var l,f=R.getDocument().location.protocol;return r&&r.useTLS||f==="https:"?l=this.options.cdn_https:l=this.options.cdn_http,l.replace(/\/*$/,"")+"/"+this.options.version}getPath(r,l){return this.getRoot(l)+"/"+r+this.options.suffix+".js"}}var v=new n("_pusher_dependencies","Pusher.DependenciesReceivers"),y=new g({cdn_http:m.cdn_http,cdn_https:m.cdn_https,version:m.VERSION,suffix:m.dependency_suffix,receivers:v});const O={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var w={buildLogSuffix:function(c){const r="See:",l=O.urls[c];if(!l)return"";let f;return l.fullUrl?f=l.fullUrl:l.path&&(f=O.baseUrl+l.path),f?`${r} ${f}`:""}},k;(function(c){c.UserAuthentication="user-authentication",c.ChannelAuthorization="channel-authorization"})(k||(k={}));class b extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class x extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class I extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class U extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(r){super(r),Object.setPrototypeOf(this,new.target.prototype)}}class H extends Error{constructor(r,l){super(l),this.status=r,Object.setPrototypeOf(this,new.target.prototype)}}var z=function(c,r,l,f,p){const C=R.createXHR();C.open("POST",l.endpoint,!0),C.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var _ in l.headers)C.setRequestHeader(_,l.headers[_]);if(l.headersProvider!=null){let F=l.headersProvider();for(var _ in F)C.setRequestHeader(_,F[_])}return C.onreadystatechange=function(){if(C.readyState===4)if(C.status===200){let F,L=!1;try{F=JSON.parse(C.responseText),L=!0}catch{p(new H(200,`JSON returned from ${f.toString()} endpoint was invalid, yet status code was 200. Data was: ${C.responseText}`),null)}L&&p(null,F)}else{let F="";switch(f){case k.UserAuthentication:F=w.buildLogSuffix("authenticationEndpoint");break;case k.ChannelAuthorization:F=`Clients must be authorized to join private or presence channels. ${w.buildLogSuffix("authorizationEndpoint")}`;break}p(new H(C.status,`Unable to retrieve auth string from ${f.toString()} endpoint - received status: ${C.status} from ${l.endpoint}. ${F}`),null)}},C.send(r),C};function ae(c){return lt(at(c))}var se=String.fromCharCode,ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fe=function(c){var r=c.charCodeAt(0);return r<128?c:r<2048?se(192|r>>>6)+se(128|r&63):se(224|r>>>12&15)+se(128|r>>>6&63)+se(128|r&63)},at=function(c){return c.replace(/[^\x00-\x7F]/g,fe)},Be=function(c){var r=[0,2,1][c.length%3],l=c.charCodeAt(0)<<16|(c.length>1?c.charCodeAt(1):0)<<8|(c.length>2?c.charCodeAt(2):0),f=[ge.charAt(l>>>18),ge.charAt(l>>>12&63),r>=2?"=":ge.charAt(l>>>6&63),r>=1?"=":ge.charAt(l&63)];return f.join("")},lt=window.btoa||function(c){return c.replace(/[\s\S]{1,3}/g,Be)};class En{constructor(r,l,f,p){this.clear=l,this.timer=r(()=>{this.timer&&(this.timer=p(this.timer))},f)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Wt=En;function On(c){window.clearTimeout(c)}function Cn(c){window.clearInterval(c)}class ve extends Wt{constructor(r,l){super(setTimeout,On,r,function(f){return l(),null})}}class Nn extends Wt{constructor(r,l){super(setInterval,Cn,r,function(f){return l(),f})}}var Tn={now(){return Date.now?Date.now():new Date().valueOf()},defer(c){return new ve(0,c)},method(c,...r){var l=Array.prototype.slice.call(arguments,1);return function(f){return f[c].apply(f,l.concat(arguments))}}},X=Tn;function Q(c,...r){for(var l=0;l<r.length;l++){var f=r[l];for(var p in f)f[p]&&f[p].constructor&&f[p].constructor===Object?c[p]=Q(c[p]||{},f[p]):c[p]=f[p]}return c}function kn(){for(var c=["Pusher"],r=0;r<arguments.length;r++)typeof arguments[r]=="string"?c.push(arguments[r]):c.push(Me(arguments[r]));return c.join(" : ")}function Kt(c,r){var l=Array.prototype.indexOf;if(c===null)return-1;if(l&&c.indexOf===l)return c.indexOf(r);for(var f=0,p=c.length;f<p;f++)if(c[f]===r)return f;return-1}function ce(c,r){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&r(c[l],l,c)}function qt(c){var r=[];return ce(c,function(l,f){r.push(f)}),r}function xn(c){var r=[];return ce(c,function(l){r.push(l)}),r}function ke(c,r,l){for(var f=0;f<c.length;f++)r.call(l||window,c[f],f,c)}function Gt(c,r){for(var l=[],f=0;f<c.length;f++)l.push(r(c[f],f,c,l));return l}function _n(c,r){var l={};return ce(c,function(f,p){l[p]=r(f)}),l}function Zt(c,r){r=r||function(p){return!!p};for(var l=[],f=0;f<c.length;f++)r(c[f],f,c,l)&&l.push(c[f]);return l}function Jt(c,r){var l={};return ce(c,function(f,p){(r&&r(f,p,c,l)||f)&&(l[p]=f)}),l}function An(c){var r=[];return ce(c,function(l,f){r.push([f,l])}),r}function Xt(c,r){for(var l=0;l<c.length;l++)if(r(c[l],l,c))return!0;return!1}function Fn(c,r){for(var l=0;l<c.length;l++)if(!r(c[l],l,c))return!1;return!0}function Ln(c){return _n(c,function(r){return typeof r=="object"&&(r=Me(r)),encodeURIComponent(ae(r.toString()))})}function Rn(c){var r=Jt(c,function(f){return f!==void 0}),l=Gt(An(Ln(r)),X.method("join","=")).join("&");return l}function Vn(c){var r=[],l=[];return function f(p,C){var _,F,L;switch(typeof p){case"object":if(!p)return null;for(_=0;_<r.length;_+=1)if(r[_]===p)return{$ref:l[_]};if(r.push(p),l.push(C),Object.prototype.toString.apply(p)==="[object Array]")for(L=[],_=0;_<p.length;_+=1)L[_]=f(p[_],C+"["+_+"]");else{L={};for(F in p)Object.prototype.hasOwnProperty.call(p,F)&&(L[F]=f(p[F],C+"["+JSON.stringify(F)+"]"))}return L;case"number":case"string":case"boolean":return p}}(c,"$")}function Me(c){try{return JSON.stringify(c)}catch{return JSON.stringify(Vn(c))}}class In{constructor(){this.globalLog=r=>{window.console&&window.console.log&&window.console.log(r)}}debug(...r){this.log(this.globalLog,r)}warn(...r){this.log(this.globalLogWarn,r)}error(...r){this.log(this.globalLogError,r)}globalLogWarn(r){window.console&&window.console.warn?window.console.warn(r):this.globalLog(r)}globalLogError(r){window.console&&window.console.error?window.console.error(r):this.globalLogWarn(r)}log(r,...l){var f=kn.apply(this,arguments);bt.log?bt.log(f):bt.logToConsole&&r.bind(this)(f)}}var $=new In,Dn=function(c,r,l,f,p){(l.headers!==void 0||l.headersProvider!=null)&&$.warn(`To send headers with the ${f.toString()} request, you must use AJAX, rather than JSONP.`);var C=c.nextAuthCallbackID.toString();c.nextAuthCallbackID++;var _=c.getDocument(),F=_.createElement("script");c.auth_callbacks[C]=function(M){p(null,M)};var L="Pusher.auth_callbacks['"+C+"']";F.src=l.endpoint+"?callback="+encodeURIComponent(L)+"&"+r;var D=_.getElementsByTagName("head")[0]||_.documentElement;D.insertBefore(F,D.firstChild)},Bn=Dn;class Mn{constructor(r){this.src=r}send(r){var l=this,f="Error loading "+l.src;l.script=document.createElement("script"),l.script.id=r.id,l.script.src=l.src,l.script.type="text/javascript",l.script.charset="UTF-8",l.script.addEventListener?(l.script.onerror=function(){r.callback(f)},l.script.onload=function(){r.callback(null)}):l.script.onreadystatechange=function(){(l.script.readyState==="loaded"||l.script.readyState==="complete")&&r.callback(null)},l.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(l.errorScript=document.createElement("script"),l.errorScript.id=r.id+"_error",l.errorScript.text=r.name+"('"+f+"');",l.script.async=l.errorScript.async=!1):l.script.async=!0;var p=document.getElementsByTagName("head")[0];p.insertBefore(l.script,p.firstChild),l.errorScript&&p.insertBefore(l.errorScript,l.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Un{constructor(r,l){this.url=r,this.data=l}send(r){if(!this.request){var l=Rn(this.data),f=this.url+"/"+r.number+"?"+l;this.request=R.createScriptRequest(f),this.request.send(r)}}cleanup(){this.request&&this.request.cleanup()}}var $n=function(c,r){return function(l,f){var p="http"+(r?"s":"")+"://",C=p+(c.host||c.options.host)+c.options.path,_=R.createJSONPRequest(C,l),F=R.ScriptReceivers.create(function(L,D){h.remove(F),_.cleanup(),D&&D.host&&(c.host=D.host),f&&f(L,D)});_.send(F)}},jn={name:"jsonp",getAgent:$n},zn=jn;function ct(c,r,l){var f=c+(r.useTLS?"s":""),p=r.useTLS?r.hostTLS:r.hostNonTLS;return f+"://"+p+l}function ut(c,r){var l="/app/"+c,f="?protocol="+m.PROTOCOL+"&client=js&version="+m.VERSION+(r?"&"+r:"");return l+f}var Hn={getInitial:function(c,r){var l=(r.httpPath||"")+ut(c,"flash=false");return ct("ws",r,l)}},Wn={getInitial:function(c,r){var l=(r.httpPath||"/pusher")+ut(c);return ct("http",r,l)}},Kn={getInitial:function(c,r){return ct("http",r,r.httpPath||"/pusher")},getPath:function(c,r){return ut(c)}};class qn{constructor(){this._callbacks={}}get(r){return this._callbacks[ht(r)]}add(r,l,f){var p=ht(r);this._callbacks[p]=this._callbacks[p]||[],this._callbacks[p].push({fn:l,context:f})}remove(r,l,f){if(!r&&!l&&!f){this._callbacks={};return}var p=r?[ht(r)]:qt(this._callbacks);l||f?this.removeCallback(p,l,f):this.removeAllCallbacks(p)}removeCallback(r,l,f){ke(r,function(p){this._callbacks[p]=Zt(this._callbacks[p]||[],function(C){return l&&l!==C.fn||f&&f!==C.context}),this._callbacks[p].length===0&&delete this._callbacks[p]},this)}removeAllCallbacks(r){ke(r,function(l){delete this._callbacks[l]},this)}}function ht(c){return"_"+c}class ue{constructor(r){this.callbacks=new qn,this.global_callbacks=[],this.failThrough=r}bind(r,l,f){return this.callbacks.add(r,l,f),this}bind_global(r){return this.global_callbacks.push(r),this}unbind(r,l,f){return this.callbacks.remove(r,l,f),this}unbind_global(r){return r?(this.global_callbacks=Zt(this.global_callbacks||[],l=>l!==r),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(r,l,f){for(var p=0;p<this.global_callbacks.length;p++)this.global_callbacks[p](r,l);var C=this.callbacks.get(r),_=[];if(f?_.push(l,f):l&&_.push(l),C&&C.length>0)for(var p=0;p<C.length;p++)C[p].fn.apply(C[p].context||window,_);else this.failThrough&&this.failThrough(r,l);return this}}class Gn extends ue{constructor(r,l,f,p,C){super(),this.initialize=R.transportConnectionInitializer,this.hooks=r,this.name=l,this.priority=f,this.key=p,this.options=C,this.state="new",this.timeline=C.timeline,this.activityTimeout=C.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var r=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(r,this.options)}catch(l){return X.defer(()=>{this.onError(l),this.changeState("closed")}),!1}return this.bindListeners(),$.debug("Connecting",{transport:this.name,url:r}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(r){return this.state==="open"?(X.defer(()=>{this.socket&&this.socket.send(r)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(r){this.emit("error",{type:"WebSocketError",error:r}),this.timeline.error(this.buildTimelineMessage({error:r.toString()}))}onClose(r){r?this.changeState("closed",{code:r.code,reason:r.reason,wasClean:r.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(r){this.emit("message",r)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=r=>{this.onError(r)},this.socket.onclose=r=>{this.onClose(r)},this.socket.onmessage=r=>{this.onMessage(r)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(r,l){this.state=r,this.timeline.info(this.buildTimelineMessage({state:r,params:l})),this.emit(r,l)}buildTimelineMessage(r){return Q({cid:this.id},r)}}class Oe{constructor(r){this.hooks=r}isSupported(r){return this.hooks.isSupported(r)}createConnection(r,l,f,p){return new Gn(this.hooks,r,l,f,p)}}var Zn=new Oe({urls:Hn,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!R.getWebSocketAPI()},isSupported:function(){return!!R.getWebSocketAPI()},getSocket:function(c){return R.createWebSocket(c)}}),Yt={urls:Wn,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Qt=Q({getSocket:function(c){return R.HTTPFactory.createStreamingSocket(c)}},Yt),ei=Q({getSocket:function(c){return R.HTTPFactory.createPollingSocket(c)}},Yt),ti={isSupported:function(){return R.isXHRSupported()}},Jn=new Oe(Q({},Qt,ti)),Xn=new Oe(Q({},ei,ti)),Yn={ws:Zn,xhr_streaming:Jn,xhr_polling:Xn},Ue=Yn,Qn=new Oe({file:"sockjs",urls:Kn,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(c,r){return new window.SockJS(c,null,{js_path:y.getPath("sockjs",{useTLS:r.useTLS}),ignore_null_origin:r.ignoreNullOrigin})},beforeOpen:function(c,r){c.send(JSON.stringify({path:r}))}}),ii={isSupported:function(c){var r=R.isXDRSupported(c.useTLS);return r}},es=new Oe(Q({},Qt,ii)),ts=new Oe(Q({},ei,ii));Ue.xdr_streaming=es,Ue.xdr_polling=ts,Ue.sockjs=Qn;var is=Ue;class ns extends ue{constructor(){super();var r=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){r.emit("online")},!1),window.addEventListener("offline",function(){r.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var ss=new ns;class rs{constructor(r,l,f){this.manager=r,this.transport=l,this.minPingDelay=f.minPingDelay,this.maxPingDelay=f.maxPingDelay,this.pingDelay=void 0}createConnection(r,l,f,p){p=Q({},p,{activityTimeout:this.pingDelay});var C=this.transport.createConnection(r,l,f,p),_=null,F=function(){C.unbind("open",F),C.bind("closed",L),_=X.now()},L=D=>{if(C.unbind("closed",L),D.code===1002||D.code===1003)this.manager.reportDeath();else if(!D.wasClean&&_){var M=X.now()-_;M<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(M/2,this.minPingDelay))}};return C.bind("open",F),C}isSupported(r){return this.manager.isAlive()&&this.transport.isSupported(r)}}const ni={decodeMessage:function(c){try{var r=JSON.parse(c.data),l=r.data;if(typeof l=="string")try{l=JSON.parse(r.data)}catch{}var f={event:r.event,channel:r.channel,data:l};return r.user_id&&(f.user_id=r.user_id),f}catch(p){throw{type:"MessageParseError",error:p,data:c.data}}},encodeMessage:function(c){return JSON.stringify(c)},processHandshake:function(c){var r=ni.decodeMessage(c);if(r.event==="pusher:connection_established"){if(!r.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:r.data.socket_id,activityTimeout:r.data.activity_timeout*1e3}}else{if(r.event==="pusher:error")return{action:this.getCloseAction(r.data),error:this.getCloseError(r.data)};throw"Invalid handshake"}},getCloseAction:function(c){return c.code<4e3?c.code>=1002&&c.code<=1004?"backoff":null:c.code===4e3?"tls_only":c.code<4100?"refused":c.code<4200?"backoff":c.code<4300?"retry":"refused"},getCloseError:function(c){return c.code!==1e3&&c.code!==1001?{type:"PusherError",data:{code:c.code,message:c.reason||c.message}}:null}};var ye=ni;class os extends ue{constructor(r,l){super(),this.id=r,this.transport=l,this.activityTimeout=l.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(r){return this.transport.send(r)}send_event(r,l,f){var p={event:r,data:l};return f&&(p.channel=f),$.debug("Event sent",p),this.send(ye.encodeMessage(p))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var r={message:f=>{var p;try{p=ye.decodeMessage(f)}catch(C){this.emit("error",{type:"MessageParseError",error:C,data:f.data})}if(p!==void 0){switch($.debug("Event recd",p),p.event){case"pusher:error":this.emit("error",{type:"PusherError",data:p.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",p)}},activity:()=>{this.emit("activity")},error:f=>{this.emit("error",f)},closed:f=>{l(),f&&f.code&&this.handleCloseEvent(f),this.transport=null,this.emit("closed")}},l=()=>{ce(r,(f,p)=>{this.transport.unbind(p,f)})};ce(r,(f,p)=>{this.transport.bind(p,f)})}handleCloseEvent(r){var l=ye.getCloseAction(r),f=ye.getCloseError(r);f&&this.emit("error",f),l&&this.emit(l,{action:l,error:f})}}class as{constructor(r,l){this.transport=r,this.callback=l,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=r=>{this.unbindListeners();var l;try{l=ye.processHandshake(r)}catch(f){this.finish("error",{error:f}),this.transport.close();return}l.action==="connected"?this.finish("connected",{connection:new os(l.id,this.transport),activityTimeout:l.activityTimeout}):(this.finish(l.action,{error:l.error}),this.transport.close())},this.onClosed=r=>{this.unbindListeners();var l=ye.getCloseAction(r)||"backoff",f=ye.getCloseError(r);this.finish(l,{error:f})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(r,l){this.callback(Q({transport:this.transport,action:r},l))}}class ls{constructor(r,l){this.timeline=r,this.options=l||{}}send(r,l){this.timeline.isEmpty()||this.timeline.send(R.TimelineTransport.getAgent(this,r),l)}}class dt extends ue{constructor(r,l){super(function(f,p){$.debug("No callbacks on "+r+" for "+f)}),this.name=r,this.pusher=l,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(r,l){return l(null,{auth:""})}trigger(r,l){if(r.indexOf("client-")!==0)throw new b("Event '"+r+"' does not start with 'client-'");if(!this.subscribed){var f=w.buildLogSuffix("triggeringClientEvents");$.warn(`Client event triggered before channel 'subscription_succeeded' event . ${f}`)}return this.pusher.send_event(r,l,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(r){var l=r.event,f=r.data;if(l==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(r);else if(l==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(r);else if(l.indexOf("pusher_internal:")!==0){var p={};this.emit(l,f,p)}}handleSubscriptionSucceededEvent(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",r.data)}handleSubscriptionCountEvent(r){r.data.subscription_count&&(this.subscriptionCount=r.data.subscription_count),this.emit("pusher:subscription_count",r.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(r,l)=>{r?(this.subscriptionPending=!1,$.error(r.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:r.message},r instanceof H?{status:r.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:l.auth,channel_data:l.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class ft extends dt{authorize(r,l){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:r},l)}}class cs{constructor(){this.reset()}get(r){return Object.prototype.hasOwnProperty.call(this.members,r)?{id:r,info:this.members[r]}:null}each(r){ce(this.members,(l,f)=>{r(this.get(f))})}setMyID(r){this.myID=r}onSubscription(r){this.members=r.presence.hash,this.count=r.presence.count,this.me=this.get(this.myID)}addMember(r){return this.get(r.user_id)===null&&this.count++,this.members[r.user_id]=r.user_info,this.get(r.user_id)}removeMember(r){var l=this.get(r.user_id);return l&&(delete this.members[r.user_id],this.count--),l}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var us=function(c,r,l,f){function p(C){return C instanceof l?C:new l(function(_){_(C)})}return new(l||(l=Promise))(function(C,_){function F(M){try{D(f.next(M))}catch(W){_(W)}}function L(M){try{D(f.throw(M))}catch(W){_(W)}}function D(M){M.done?C(M.value):p(M.value).then(F,L)}D((f=f.apply(c,r||[])).next())})};class hs extends ft{constructor(r,l){super(r,l),this.members=new cs}authorize(r,l){super.authorize(r,(f,p)=>us(this,void 0,void 0,function*(){if(!f)if(p=p,p.channel_data!=null){var C=JSON.parse(p.channel_data);this.members.setMyID(C.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let _=w.buildLogSuffix("authorizationEndpoint");$.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${_}, or the user should be signed in.`),l("Invalid auth response");return}l(f,p)}))}handleEvent(r){var l=r.event;if(l.indexOf("pusher_internal:")===0)this.handleInternalEvent(r);else{var f=r.data,p={};r.user_id&&(p.user_id=r.user_id),this.emit(l,f,p)}}handleInternalEvent(r){var l=r.event,f=r.data;switch(l){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(r);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(r);break;case"pusher_internal:member_added":var p=this.members.addMember(f);this.emit("pusher:member_added",p);break;case"pusher_internal:member_removed":var C=this.members.removeMember(f);C&&this.emit("pusher:member_removed",C);break}}handleSubscriptionSucceededEvent(r){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(r.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ds=s(1),mt=s(0);class fs extends ft{constructor(r,l,f){super(r,l),this.key=null,this.nacl=f}authorize(r,l){super.authorize(r,(f,p)=>{if(f){l(f,p);return}let C=p.shared_secret;if(!C){l(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(mt.decode)(C),delete p.shared_secret,l(null,p)})}trigger(r,l){throw new I("Client events are not currently supported for encrypted channels")}handleEvent(r){var l=r.event,f=r.data;if(l.indexOf("pusher_internal:")===0||l.indexOf("pusher:")===0){super.handleEvent(r);return}this.handleEncryptedEvent(l,f)}handleEncryptedEvent(r,l){if(!this.key){$.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!l.ciphertext||!l.nonce){$.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+l);return}let f=Object(mt.decode)(l.ciphertext);if(f.length<this.nacl.secretbox.overheadLength){$.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${f.length}`);return}let p=Object(mt.decode)(l.nonce);if(p.length<this.nacl.secretbox.nonceLength){$.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${p.length}`);return}let C=this.nacl.secretbox.open(f,p,this.key);if(C===null){$.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(_,F)=>{if(_){$.error(`Failed to make a request to the authEndpoint: ${F}. Unable to fetch new key, so dropping encrypted event`);return}if(C=this.nacl.secretbox.open(f,p,this.key),C===null){$.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(r,this.getDataToEmit(C))});return}this.emit(r,this.getDataToEmit(C))}getDataToEmit(r){let l=Object(ds.decode)(r);try{return JSON.parse(l)}catch{return l}}}class ms extends ue{constructor(r,l){super(),this.state="initialized",this.connection=null,this.key=r,this.options=l,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var f=R.getNetwork();f.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),f.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(r){return this.connection?this.connection.send(r):!1}send_event(r,l,f){return this.connection?this.connection.send_event(r,l,f):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var r=(l,f)=>{l?this.runner=this.strategy.connect(0,r):f.action==="error"?(this.emit("error",{type:"HandshakeError",error:f.error}),this.timeline.error({handshakeError:f.error})):(this.abortConnecting(),this.handshakeCallbacks[f.action](f))};this.runner=this.strategy.connect(0,r)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var r=this.abandonConnection();r.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(r){this.timeline.info({action:"retry",delay:r}),r>0&&this.emit("connecting_in",Math.round(r/1e3)),this.retryTimer=new ve(r||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ve(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ve(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ve(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(r){return Q({},r,{message:l=>{this.resetActivityCheck(),this.emit("message",l)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:l=>{this.emit("error",l)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(r){return Q({},r,{connected:l=>{this.activityTimeout=Math.min(this.options.activityTimeout,l.activityTimeout,l.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(l.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let r=l=>f=>{f.error&&this.emit("error",{type:"WebSocketError",error:f.error}),l(f)};return{tls_only:r(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:r(()=>{this.disconnect()}),backoff:r(()=>{this.retryIn(1e3)}),retry:r(()=>{this.retryIn(0)})}}setConnection(r){this.connection=r;for(var l in this.connectionCallbacks)this.connection.bind(l,this.connectionCallbacks[l]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var r in this.connectionCallbacks)this.connection.unbind(r,this.connectionCallbacks[r]);var l=this.connection;return this.connection=null,l}}updateState(r,l){var f=this.state;if(this.state=r,f!==r){var p=r;p==="connected"&&(p+=" with new socket ID "+l.socket_id),$.debug("State changed",f+" -> "+p),this.timeline.info({state:r,params:l}),this.emit("state_change",{previous:f,current:r}),this.emit(r,l)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class ps{constructor(){this.channels={}}add(r,l){return this.channels[r]||(this.channels[r]=gs(r,l)),this.channels[r]}all(){return xn(this.channels)}find(r){return this.channels[r]}remove(r){var l=this.channels[r];return delete this.channels[r],l}disconnect(){ce(this.channels,function(r){r.disconnect()})}}function gs(c,r){if(c.indexOf("private-encrypted-")===0){if(r.config.nacl)return he.createEncryptedChannel(c,r,r.config.nacl);let l="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",f=w.buildLogSuffix("encryptedChannelSupport");throw new I(`${l}. ${f}`)}else{if(c.indexOf("private-")===0)return he.createPrivateChannel(c,r);if(c.indexOf("presence-")===0)return he.createPresenceChannel(c,r);if(c.indexOf("#")===0)throw new E('Cannot create a channel with name "'+c+'".');return he.createChannel(c,r)}}var vs={createChannels(){return new ps},createConnectionManager(c,r){return new ms(c,r)},createChannel(c,r){return new dt(c,r)},createPrivateChannel(c,r){return new ft(c,r)},createPresenceChannel(c,r){return new hs(c,r)},createEncryptedChannel(c,r,l){return new fs(c,r,l)},createTimelineSender(c,r){return new ls(c,r)},createHandshake(c,r){return new as(c,r)},createAssistantToTheTransportManager(c,r,l){return new rs(c,r,l)}},he=vs;class si{constructor(r){this.options=r||{},this.livesLeft=this.options.lives||1/0}getAssistant(r){return he.createAssistantToTheTransportManager(this,r,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class be{constructor(r,l){this.strategies=r,this.loop=!!l.loop,this.failFast=!!l.failFast,this.timeout=l.timeout,this.timeoutLimit=l.timeoutLimit}isSupported(){return Xt(this.strategies,X.method("isSupported"))}connect(r,l){var f=this.strategies,p=0,C=this.timeout,_=null,F=(L,D)=>{D?l(null,D):(p=p+1,this.loop&&(p=p%f.length),p<f.length?(C&&(C=C*2,this.timeoutLimit&&(C=Math.min(C,this.timeoutLimit))),_=this.tryStrategy(f[p],r,{timeout:C,failFast:this.failFast},F)):l(!0))};return _=this.tryStrategy(f[p],r,{timeout:C,failFast:this.failFast},F),{abort:function(){_.abort()},forceMinPriority:function(L){r=L,_&&_.forceMinPriority(L)}}}tryStrategy(r,l,f,p){var C=null,_=null;return f.timeout>0&&(C=new ve(f.timeout,function(){_.abort(),p(!0)})),_=r.connect(l,function(F,L){F&&C&&C.isRunning()&&!f.failFast||(C&&C.ensureAborted(),p(F,L))}),{abort:function(){C&&C.ensureAborted(),_.abort()},forceMinPriority:function(F){_.forceMinPriority(F)}}}}class pt{constructor(r){this.strategies=r}isSupported(){return Xt(this.strategies,X.method("isSupported"))}connect(r,l){return ys(this.strategies,r,function(f,p){return function(C,_){if(p[f].error=C,C){bs(p)&&l(!0);return}ke(p,function(F){F.forceMinPriority(_.transport.priority)}),l(null,_)}})}}function ys(c,r,l){var f=Gt(c,function(p,C,_,F){return p.connect(r,l(C,F))});return{abort:function(){ke(f,Ss)},forceMinPriority:function(p){ke(f,function(C){C.forceMinPriority(p)})}}}function bs(c){return Fn(c,function(r){return!!r.error})}function Ss(c){!c.error&&!c.aborted&&(c.abort(),c.aborted=!0)}class ws{constructor(r,l,f){this.strategy=r,this.transports=l,this.ttl=f.ttl||1800*1e3,this.usingTLS=f.useTLS,this.timeline=f.timeline}isSupported(){return this.strategy.isSupported()}connect(r,l){var f=this.usingTLS,p=Ps(f),C=p&&p.cacheSkipCount?p.cacheSkipCount:0,_=[this.strategy];if(p&&p.timestamp+this.ttl>=X.now()){var F=this.transports[p.transport];F&&(["ws","wss"].includes(p.transport)||C>3?(this.timeline.info({cached:!0,transport:p.transport,latency:p.latency}),_.push(new be([F],{timeout:p.latency*2+1e3,failFast:!0}))):C++)}var L=X.now(),D=_.pop().connect(r,function M(W,ze){W?(ri(f),_.length>0?(L=X.now(),D=_.pop().connect(r,M)):l(W)):(Es(f,ze.transport.name,X.now()-L,C),l(null,ze))});return{abort:function(){D.abort()},forceMinPriority:function(M){r=M,D&&D.forceMinPriority(M)}}}}function gt(c){return"pusherTransport"+(c?"TLS":"NonTLS")}function Ps(c){var r=R.getLocalStorage();if(r)try{var l=r[gt(c)];if(l)return JSON.parse(l)}catch{ri(c)}return null}function Es(c,r,l,f){var p=R.getLocalStorage();if(p)try{p[gt(c)]=Me({timestamp:X.now(),transport:r,latency:l,cacheSkipCount:f})}catch{}}function ri(c){var r=R.getLocalStorage();if(r)try{delete r[gt(c)]}catch{}}class $e{constructor(r,{delay:l}){this.strategy=r,this.options={delay:l}}isSupported(){return this.strategy.isSupported()}connect(r,l){var f=this.strategy,p,C=new ve(this.options.delay,function(){p=f.connect(r,l)});return{abort:function(){C.ensureAborted(),p&&p.abort()},forceMinPriority:function(_){r=_,p&&p.forceMinPriority(_)}}}}class xe{constructor(r,l,f){this.test=r,this.trueBranch=l,this.falseBranch=f}isSupported(){var r=this.test()?this.trueBranch:this.falseBranch;return r.isSupported()}connect(r,l){var f=this.test()?this.trueBranch:this.falseBranch;return f.connect(r,l)}}class Os{constructor(r){this.strategy=r}isSupported(){return this.strategy.isSupported()}connect(r,l){var f=this.strategy.connect(r,function(p,C){C&&f.abort(),l(p,C)});return f}}function _e(c){return function(){return c.isSupported()}}var Cs=function(c,r,l){var f={};function p(gi,Or,Cr,Nr,Tr){var vi=l(c,gi,Or,Cr,Nr,Tr);return f[gi]=vi,vi}var C=Object.assign({},r,{hostNonTLS:c.wsHost+":"+c.wsPort,hostTLS:c.wsHost+":"+c.wssPort,httpPath:c.wsPath}),_=Object.assign({},C,{useTLS:!0}),F=Object.assign({},r,{hostNonTLS:c.httpHost+":"+c.httpPort,hostTLS:c.httpHost+":"+c.httpsPort,httpPath:c.httpPath}),L={loop:!0,timeout:15e3,timeoutLimit:6e4},D=new si({minPingDelay:1e4,maxPingDelay:c.activityTimeout}),M=new si({lives:2,minPingDelay:1e4,maxPingDelay:c.activityTimeout}),W=p("ws","ws",3,C,D),ze=p("wss","ws",3,_,D),br=p("sockjs","sockjs",1,F),ui=p("xhr_streaming","xhr_streaming",1,F,M),Sr=p("xdr_streaming","xdr_streaming",1,F,M),hi=p("xhr_polling","xhr_polling",1,F),wr=p("xdr_polling","xdr_polling",1,F),di=new be([W],L),Pr=new be([ze],L),Er=new be([br],L),fi=new be([new xe(_e(ui),ui,Sr)],L),mi=new be([new xe(_e(hi),hi,wr)],L),pi=new be([new xe(_e(fi),new pt([fi,new $e(mi,{delay:4e3})]),mi)],L),St=new xe(_e(pi),pi,Er),wt;return r.useTLS?wt=new pt([di,new $e(St,{delay:2e3})]):wt=new pt([di,new $e(Pr,{delay:2e3}),new $e(St,{delay:5e3})]),new ws(new Os(new xe(_e(W),wt,St)),f,{ttl:18e5,timeline:r.timeline,useTLS:r.useTLS})},Ns=Cs,Ts=function(){var c=this;c.timeline.info(c.buildTimelineMessage({transport:c.name+(c.options.useTLS?"s":"")})),c.hooks.isInitialized()?c.changeState("initialized"):c.hooks.file?(c.changeState("initializing"),y.load(c.hooks.file,{useTLS:c.options.useTLS},function(r,l){c.hooks.isInitialized()?(c.changeState("initialized"),l(!0)):(r&&c.onError(r),c.onClose(),l(!1))})):c.onClose()},ks={getRequest:function(c){var r=new window.XDomainRequest;return r.ontimeout=function(){c.emit("error",new x),c.close()},r.onerror=function(l){c.emit("error",l),c.close()},r.onprogress=function(){r.responseText&&r.responseText.length>0&&c.onChunk(200,r.responseText)},r.onload=function(){r.responseText&&r.responseText.length>0&&c.onChunk(200,r.responseText),c.emit("finished",200),c.close()},r},abortRequest:function(c){c.ontimeout=c.onerror=c.onprogress=c.onload=null,c.abort()}},xs=ks;const _s=256*1024;class As extends ue{constructor(r,l,f){super(),this.hooks=r,this.method=l,this.url=f}start(r){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},R.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(r)}close(){this.unloader&&(R.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(r,l){for(;;){var f=this.advanceBuffer(l);if(f)this.emit("chunk",{status:r,data:f});else break}this.isBufferTooLong(l)&&this.emit("buffer_too_long")}advanceBuffer(r){var l=r.slice(this.position),f=l.indexOf(`
`);return f!==-1?(this.position+=f+1,l.slice(0,f)):null}isBufferTooLong(r){return this.position===r.length&&r.length>_s}}var vt;(function(c){c[c.CONNECTING=0]="CONNECTING",c[c.OPEN=1]="OPEN",c[c.CLOSED=3]="CLOSED"})(vt||(vt={}));var Se=vt,Fs=1;class Ls{constructor(r,l){this.hooks=r,this.session=ai(1e3)+"/"+Ds(8),this.location=Rs(l),this.readyState=Se.CONNECTING,this.openStream()}send(r){return this.sendRaw(JSON.stringify([r]))}ping(){this.hooks.sendHeartbeat(this)}close(r,l){this.onClose(r,l,!0)}sendRaw(r){if(this.readyState===Se.OPEN)try{return R.createSocketRequest("POST",oi(Vs(this.location,this.session))).start(r),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(r,l,f){this.closeStream(),this.readyState=Se.CLOSED,this.onclose&&this.onclose({code:r,reason:l,wasClean:f})}onChunk(r){if(r.status===200){this.readyState===Se.OPEN&&this.onActivity();var l,f=r.data.slice(0,1);switch(f){case"o":l=JSON.parse(r.data.slice(1)||"{}"),this.onOpen(l);break;case"a":l=JSON.parse(r.data.slice(1)||"[]");for(var p=0;p<l.length;p++)this.onEvent(l[p]);break;case"m":l=JSON.parse(r.data.slice(1)||"null"),this.onEvent(l);break;case"h":this.hooks.onHeartbeat(this);break;case"c":l=JSON.parse(r.data.slice(1)||"[]"),this.onClose(l[0],l[1],!0);break}}}onOpen(r){this.readyState===Se.CONNECTING?(r&&r.hostname&&(this.location.base=Is(this.location.base,r.hostname)),this.readyState=Se.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(r){this.readyState===Se.OPEN&&this.onmessage&&this.onmessage({data:r})}onActivity(){this.onactivity&&this.onactivity()}onError(r){this.onerror&&this.onerror(r)}openStream(){this.stream=R.createSocketRequest("POST",oi(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",r=>{this.onChunk(r)}),this.stream.bind("finished",r=>{this.hooks.onFinished(this,r)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(r){X.defer(()=>{this.onError(r),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Rs(c){var r=/([^\?]*)\/*(\??.*)/.exec(c);return{base:r[1],queryString:r[2]}}function Vs(c,r){return c.base+"/"+r+"/xhr_send"}function oi(c){var r=c.indexOf("?")===-1?"?":"&";return c+r+"t="+ +new Date+"&n="+Fs++}function Is(c,r){var l=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(c);return l[1]+r+l[3]}function ai(c){return R.randomInt(c)}function Ds(c){for(var r=[],l=0;l<c;l++)r.push(ai(32).toString(32));return r.join("")}var Bs=Ls,Ms={getReceiveURL:function(c,r){return c.base+"/"+r+"/xhr_streaming"+c.queryString},onHeartbeat:function(c){c.sendRaw("[]")},sendHeartbeat:function(c){c.sendRaw("[]")},onFinished:function(c,r){c.onClose(1006,"Connection interrupted ("+r+")",!1)}},Us=Ms,$s={getReceiveURL:function(c,r){return c.base+"/"+r+"/xhr"+c.queryString},onHeartbeat:function(){},sendHeartbeat:function(c){c.sendRaw("[]")},onFinished:function(c,r){r===200?c.reconnect():c.onClose(1006,"Connection interrupted ("+r+")",!1)}},js=$s,zs={getRequest:function(c){var r=R.getXHRAPI(),l=new r;return l.onreadystatechange=l.onprogress=function(){switch(l.readyState){case 3:l.responseText&&l.responseText.length>0&&c.onChunk(l.status,l.responseText);break;case 4:l.responseText&&l.responseText.length>0&&c.onChunk(l.status,l.responseText),c.emit("finished",l.status),c.close();break}},l},abortRequest:function(c){c.onreadystatechange=null,c.abort()}},Hs=zs,Ws={createStreamingSocket(c){return this.createSocket(Us,c)},createPollingSocket(c){return this.createSocket(js,c)},createSocket(c,r){return new Bs(c,r)},createXHR(c,r){return this.createRequest(Hs,c,r)},createRequest(c,r,l){return new As(c,r,l)}},li=Ws;li.createXDR=function(c,r){return this.createRequest(xs,c,r)};var Ks=li,qs={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:h,DependenciesReceivers:v,getDefaultStrategy:Ns,Transports:is,transportConnectionInitializer:Ts,HTTPFactory:Ks,TimelineTransport:zn,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(c){window.Pusher=c;var r=()=>{this.onDocumentBody(c.ready)};window.JSON?r():y.load("json2",{},r)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:z,jsonp:Bn}},onDocumentBody(c){document.body?c():setTimeout(()=>{this.onDocumentBody(c)},0)},createJSONPRequest(c,r){return new Un(c,r)},createScriptRequest(c){return new Mn(c)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var c=this.getXHRAPI();return new c},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return ss},createWebSocket(c){var r=this.getWebSocketAPI();return new r(c)},createSocketRequest(c,r){if(this.isXHRSupported())return this.HTTPFactory.createXHR(c,r);if(this.isXDRSupported(r.indexOf("https:")===0))return this.HTTPFactory.createXDR(c,r);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var c=this.getXHRAPI();return!!c&&new c().withCredentials!==void 0},isXDRSupported(c){var r=c?"https:":"http:",l=this.getProtocol();return!!window.XDomainRequest&&l===r},addUnloadListener(c){window.addEventListener!==void 0?window.addEventListener("unload",c,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",c)},removeUnloadListener(c){window.addEventListener!==void 0?window.removeEventListener("unload",c,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",c)},randomInt(c){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*c)}},R=qs,yt;(function(c){c[c.ERROR=3]="ERROR",c[c.INFO=6]="INFO",c[c.DEBUG=7]="DEBUG"})(yt||(yt={}));var je=yt;class Gs{constructor(r,l,f){this.key=r,this.session=l,this.events=[],this.options=f||{},this.sent=0,this.uniqueID=0}log(r,l){r<=this.options.level&&(this.events.push(Q({},l,{timestamp:X.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(r){this.log(je.ERROR,r)}info(r){this.log(je.INFO,r)}debug(r){this.log(je.DEBUG,r)}isEmpty(){return this.events.length===0}send(r,l){var f=Q({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],r(f,(p,C)=>{p||this.sent++,l&&l(p,C)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Zs{constructor(r,l,f,p){this.name=r,this.priority=l,this.transport=f,this.options=p||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(r,l){if(this.isSupported()){if(this.priority<r)return ci(new A,l)}else return ci(new j,l);var f=!1,p=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),C=null,_=function(){p.unbind("initialized",_),p.connect()},F=function(){C=he.createHandshake(p,function(W){f=!0,M(),l(null,W)})},L=function(W){M(),l(W)},D=function(){M();var W;W=Me(p),l(new B(W))},M=function(){p.unbind("initialized",_),p.unbind("open",F),p.unbind("error",L),p.unbind("closed",D)};return p.bind("initialized",_),p.bind("open",F),p.bind("error",L),p.bind("closed",D),p.initialize(),{abort:()=>{f||(M(),C?C.close():p.close())},forceMinPriority:W=>{f||this.priority<W&&(C?C.close():p.close())}}}}function ci(c,r){return X.defer(function(){r(c)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Js}=R;var Xs=function(c,r,l,f,p,C){var _=Js[l];if(!_)throw new U(l);var F=(!c.enabledTransports||Kt(c.enabledTransports,r)!==-1)&&(!c.disabledTransports||Kt(c.disabledTransports,r)===-1),L;return F?(p=Object.assign({ignoreNullOrigin:c.ignoreNullOrigin},p),L=new Zs(r,f,C?C.getAssistant(_):_,p)):L=Ys,L},Ys={isSupported:function(){return!1},connect:function(c,r){var l=X.defer(function(){r(new j)});return{abort:function(){l.ensureAborted()},forceMinPriority:function(){}}}};function Qs(c){if(c==null)throw"You must pass an options object";if(c.cluster==null)throw"Options object must provide a cluster";"disableStats"in c&&$.warn("The disableStats option is deprecated in favor of enableStats")}const er=(c,r)=>{var l="socket_id="+encodeURIComponent(c.socketId);for(var f in r.params)l+="&"+encodeURIComponent(f)+"="+encodeURIComponent(r.params[f]);if(r.paramsProvider!=null){let p=r.paramsProvider();for(var f in p)l+="&"+encodeURIComponent(f)+"="+encodeURIComponent(p[f])}return l};var tr=c=>{if(typeof R.getAuthorizers()[c.transport]>"u")throw`'${c.transport}' is not a recognized auth transport`;return(r,l)=>{const f=er(r,c);R.getAuthorizers()[c.transport](R,f,c,k.UserAuthentication,l)}};const ir=(c,r)=>{var l="socket_id="+encodeURIComponent(c.socketId);l+="&channel_name="+encodeURIComponent(c.channelName);for(var f in r.params)l+="&"+encodeURIComponent(f)+"="+encodeURIComponent(r.params[f]);if(r.paramsProvider!=null){let p=r.paramsProvider();for(var f in p)l+="&"+encodeURIComponent(f)+"="+encodeURIComponent(p[f])}return l};var nr=c=>{if(typeof R.getAuthorizers()[c.transport]>"u")throw`'${c.transport}' is not a recognized auth transport`;return(r,l)=>{const f=ir(r,c);R.getAuthorizers()[c.transport](R,f,c,k.ChannelAuthorization,l)}};const sr=(c,r,l)=>{const f={authTransport:r.transport,authEndpoint:r.endpoint,auth:{params:r.params,headers:r.headers}};return(p,C)=>{const _=c.channel(p.channelName);l(_,f).authorize(p.socketId,C)}};function rr(c,r){let l={activityTimeout:c.activityTimeout||m.activityTimeout,cluster:c.cluster,httpPath:c.httpPath||m.httpPath,httpPort:c.httpPort||m.httpPort,httpsPort:c.httpsPort||m.httpsPort,pongTimeout:c.pongTimeout||m.pongTimeout,statsHost:c.statsHost||m.stats_host,unavailableTimeout:c.unavailableTimeout||m.unavailableTimeout,wsPath:c.wsPath||m.wsPath,wsPort:c.wsPort||m.wsPort,wssPort:c.wssPort||m.wssPort,enableStats:ur(c),httpHost:or(c),useTLS:cr(c),wsHost:ar(c),userAuthenticator:hr(c),channelAuthorizer:fr(c,r)};return"disabledTransports"in c&&(l.disabledTransports=c.disabledTransports),"enabledTransports"in c&&(l.enabledTransports=c.enabledTransports),"ignoreNullOrigin"in c&&(l.ignoreNullOrigin=c.ignoreNullOrigin),"timelineParams"in c&&(l.timelineParams=c.timelineParams),"nacl"in c&&(l.nacl=c.nacl),l}function or(c){return c.httpHost?c.httpHost:c.cluster?`sockjs-${c.cluster}.pusher.com`:m.httpHost}function ar(c){return c.wsHost?c.wsHost:lr(c.cluster)}function lr(c){return`ws-${c}.pusher.com`}function cr(c){return R.getProtocol()==="https:"?!0:c.forceTLS!==!1}function ur(c){return"enableStats"in c?c.enableStats:"disableStats"in c?!c.disableStats:!1}function hr(c){const r=Object.assign(Object.assign({},m.userAuthentication),c.userAuthentication);return"customHandler"in r&&r.customHandler!=null?r.customHandler:tr(r)}function dr(c,r){let l;return"channelAuthorization"in c?l=Object.assign(Object.assign({},m.channelAuthorization),c.channelAuthorization):(l={transport:c.authTransport||m.authTransport,endpoint:c.authEndpoint||m.authEndpoint},"auth"in c&&("params"in c.auth&&(l.params=c.auth.params),"headers"in c.auth&&(l.headers=c.auth.headers)),"authorizer"in c&&(l.customHandler=sr(r,l,c.authorizer))),l}function fr(c,r){const l=dr(c,r);return"customHandler"in l&&l.customHandler!=null?l.customHandler:nr(l)}class mr extends ue{constructor(r){super(function(l,f){$.debug(`No callbacks on watchlist events for ${l}`)}),this.pusher=r,this.bindWatchlistInternalEvent()}handleEvent(r){r.data.events.forEach(l=>{this.emit(l.name,l)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",r=>{var l=r.event;l==="pusher_internal:watchlist_events"&&this.handleEvent(r)})}}function pr(){let c,r;return{promise:new Promise((f,p)=>{c=f,r=p}),resolve:c,reject:r}}var gr=pr;class vr extends ue{constructor(r){super(function(l,f){$.debug("No callbacks on user for "+l)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(l,f)=>{if(l){$.warn(`Error during signin: ${l}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:f.auth,user_data:f.user_data})},this.pusher=r,this.pusher.connection.bind("state_change",({previous:l,current:f})=>{l!=="connected"&&f==="connected"&&this._signin(),l==="connected"&&f!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new mr(r),this.pusher.connection.bind("message",l=>{var f=l.event;f==="pusher:signin_success"&&this._onSigninSuccess(l.data),this.serverToUserChannel&&this.serverToUserChannel.name===l.channel&&this.serverToUserChannel.handleEvent(l)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(r){try{this.user_data=JSON.parse(r.user_data)}catch{$.error(`Failed parsing user data after signin: ${r.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){$.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const r=l=>{l.subscriptionPending&&l.subscriptionCancelled?l.reinstateSubscription():!l.subscriptionPending&&this.pusher.connection.state==="connected"&&l.subscribe()};this.serverToUserChannel=new dt(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((l,f)=>{l.indexOf("pusher_internal:")===0||l.indexOf("pusher:")===0||this.emit(l,f)}),r(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:r,resolve:l,reject:f}=gr();r.done=!1;const p=()=>{r.done=!0};r.then(p).catch(p),this.signinDonePromise=r,this._signinDoneResolve=l}}class J{static ready(){J.isReady=!0;for(var r=0,l=J.instances.length;r<l;r++)J.instances[r].connect()}static getClientFeatures(){return qt(Jt({ws:R.Transports.ws},function(r){return r.isSupported({})}))}constructor(r,l){yr(r),Qs(l),this.key=r,this.config=rr(l,this),this.channels=he.createChannels(),this.global_emitter=new ue,this.sessionID=R.randomInt(1e9),this.timeline=new Gs(this.key,this.sessionID,{cluster:this.config.cluster,features:J.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:je.INFO,version:m.VERSION}),this.config.enableStats&&(this.timelineSender=he.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+R.TimelineTransport.name}));var f=p=>R.getDefaultStrategy(this.config,p,Xs);this.connection=he.createConnectionManager(this.key,{getStrategy:f,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",p=>{var C=p.event,_=C.indexOf("pusher_internal:")===0;if(p.channel){var F=this.channel(p.channel);F&&F.handleEvent(p)}_||this.global_emitter.emit(p.event,p.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",p=>{$.warn(p)}),J.instances.push(this),this.timeline.info({instances:J.instances.length}),this.user=new vr(this),J.isReady&&this.connect()}channel(r){return this.channels.find(r)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var r=this.connection.isUsingTLS(),l=this.timelineSender;this.timelineSenderTimer=new Nn(6e4,function(){l.send(r)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(r,l,f){return this.global_emitter.bind(r,l,f),this}unbind(r,l,f){return this.global_emitter.unbind(r,l,f),this}bind_global(r){return this.global_emitter.bind_global(r),this}unbind_global(r){return this.global_emitter.unbind_global(r),this}unbind_all(r){return this.global_emitter.unbind_all(),this}subscribeAll(){var r;for(r in this.channels.channels)this.channels.channels.hasOwnProperty(r)&&this.subscribe(r)}subscribe(r){var l=this.channels.add(r,this);return l.subscriptionPending&&l.subscriptionCancelled?l.reinstateSubscription():!l.subscriptionPending&&this.connection.state==="connected"&&l.subscribe(),l}unsubscribe(r){var l=this.channels.find(r);l&&l.subscriptionPending?l.cancelSubscription():(l=this.channels.remove(r),l&&l.subscribed&&l.unsubscribe())}send_event(r,l,f){return this.connection.send_event(r,l,f)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}J.instances=[],J.isReady=!1,J.logToConsole=!1,J.Runtime=R,J.ScriptReceivers=R.ScriptReceivers,J.DependenciesReceivers=R.DependenciesReceivers,J.auth_callbacks=R.auth_callbacks;var bt=i.default=J;function yr(c){if(c==null)throw"You must pass your app key when you instantiate Pusher."}R.setup(J)}])})}(Nt)),Nt.exports}var wa=Sa();const Pa=ba(wa);window.Pusher=Pa;window.Echo=new ya({broadcaster:"reverb",key:"yu9it1gz47becnocbtvz",wsHost:"localhost",wsPort:"8080",wssPort:"8080",forceTLS:!1,enabledTransports:["ws","wss"]});window.axios=K;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const T={};T.allowedTagList=["b","caption","cite","code","const","dd","del","div","dfn","dt","em","h1","h2","h3","h4","h5","h6","input","ins","kdb","label","li","option","output","p","q","s","sample","span","strong","td","th","u"];Object.freeze(T.allowedTagList);Object.defineProperty(T,"allowedTagList",{configurable:!1,writable:!1});T.fromCharCodeKeyCode={0:"LaunchCalculator",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",91:"OS",92:"OSRight",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",173:"-",182:"MyComputer",183:"MyCalculator",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta",225:"AltGraph"};Object.freeze(T.fromCharCodeKeyCode);Object.defineProperty(T,"fromCharCodeKeyCode",{configurable:!1,writable:!1});T.keyName={Unidentified:"Unidentified",AndroidDefault:"AndroidDefault",Alt:"Alt",AltGr:"AltGraph",CapsLock:"CapsLock",Ctrl:"Control",Fn:"Fn",FnLock:"FnLock",Hyper:"Hyper",Meta:"Meta",OSLeft:"OS",OSRight:"OS",Command:"OS",NumLock:"NumLock",ScrollLock:"ScrollLock",Shift:"Shift",Super:"Super",Symbol:"Symbol",SymbolLock:"SymbolLock",Enter:"Enter",Tab:"Tab",Space:" ",LeftArrow:"ArrowLeft",UpArrow:"ArrowUp",RightArrow:"ArrowRight",DownArrow:"ArrowDown",End:"End",Home:"Home",PageUp:"PageUp",PageDown:"PageDown",Backspace:"Backspace",Clear:"Clear",Copy:"Copy",CrSel:"CrSel",Cut:"Cut",Delete:"Delete",EraseEof:"EraseEof",ExSel:"ExSel",Insert:"Insert",Paste:"Paste",Redo:"Redo",Undo:"Undo",Accept:"Accept",Again:"Again",Attn:"Attn",Cancel:"Cancel",ContextMenu:"ContextMenu",Esc:"Escape",Execute:"Execute",Find:"Find",Finish:"Finish",Help:"Help",Pause:"Pause",Play:"Play",Props:"Props",Select:"Select",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",BrightnessDown:"BrightnessDown",BrightnessUp:"BrightnessUp",Eject:"Eject",LogOff:"LogOff",Power:"Power",PowerOff:"PowerOff",PrintScreen:"PrintScreen",Hibernate:"Hibernate",Standby:"Standby",WakeUp:"WakeUp",Compose:"Compose",Dead:"Dead",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F11:"F11",F12:"F12",Print:"Print",num0:"0",num1:"1",num2:"2",num3:"3",num4:"4",num5:"5",num6:"6",num7:"7",num8:"8",num9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z",Semicolon:";",Equal:"=",Comma:",",Hyphen:"-",Minus:"-",Plus:"+",Dot:".",Slash:"/",Backquote:"`",LeftParenthesis:"(",RightParenthesis:")",LeftBracket:"[",RightBracket:"]",Backslash:"\\",Quote:"'",numpad0:"0",numpad1:"1",numpad2:"2",numpad3:"3",numpad4:"4",numpad5:"5",numpad6:"6",numpad7:"7",numpad8:"8",numpad9:"9",NumpadDot:".",NumpadDotAlt:",",NumpadMultiply:"*",NumpadPlus:"+",NumpadMinus:"-",NumpadSubtract:"-",NumpadSlash:"/",NumpadDotObsoleteBrowsers:"Decimal",NumpadMultiplyObsoleteBrowsers:"Multiply",NumpadPlusObsoleteBrowsers:"Add",NumpadMinusObsoleteBrowsers:"Subtract",NumpadSlashObsoleteBrowsers:"Divide",_allFnKeys:["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"],_someNonPrintableKeys:["Tab","Enter","Shift","ShiftLeft","ShiftRight","Control","ControlLeft","ControlRight","Alt","AltLeft","AltRight","Pause","CapsLock","Escape"],_directionKeys:["PageUp","PageDown","End","Home","ArrowDown","ArrowLeft","ArrowRight","ArrowUp"]};Object.freeze(T.keyName._allFnKeys);Object.freeze(T.keyName._someNonPrintableKeys);Object.freeze(T.keyName._directionKeys);Object.freeze(T.keyName);Object.defineProperty(T,"keyName",{configurable:!1,writable:!1});Object.freeze(T);class o{static isNull(e){return e===null}static isUndefined(e){return e===void 0}static isUndefinedOrNullOrEmpty(e){return e==null||e===""}static isString(e){return typeof e=="string"||e instanceof String}static isEmptyString(e){return e===""}static isBoolean(e){return typeof e=="boolean"}static isTrueOrFalseString(e){const t=String(e).toLowerCase();return t==="true"||t==="false"}static isObject(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}static isEmptyObj(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}static isNumberStrict(e){return typeof e=="number"}static isNumber(e){return!this.isArray(e)&&!isNaN(parseFloat(e))&&isFinite(e)}static isDigit(e){return/\d/.test(e)}static isNumberOrArabic(e){const t=this.arabicToLatinNumbers(e,!1,!0,!0);return this.isNumber(t)}static isInt(e){return typeof e=="number"&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)}static isFunction(e){return typeof e=="function"}static contains(e,t){return!this.isString(e)||!this.isString(t)||e===""||t===""?!1:e.indexOf(t)!==-1}static isInArray(e,t){return!this.isArray(t)||t===[]||this.isUndefined(e)?!1:t.indexOf(e)!==-1}static isArray(e){if(Object.prototype.toString.call([])==="[object Array]")return Array.isArray(e)||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Array]";throw new Error("toString message changed for Object Array")}static isElement(e){return typeof Element>"u"?!1:e instanceof Element}static isInputElement(e){return this.isElement(e)&&e.tagName.toLowerCase()==="input"}static decimalPlaces(e){const[,t]=e.split(".");return this.isUndefined(t)?0:t.length}static indexFirstNonZeroDecimalPlace(e){const[,t]=String(Math.abs(e)).split(".");if(this.isUndefined(t))return 0;let i=t.lastIndexOf("0");return i===-1?i=0:i+=2,i}static keyCodeNumber(e){return typeof e.which>"u"?e.keyCode:e.which}static character(e){let t;if(e.key==="Unidentified"||e.key===void 0||this.isSeleniumBot()){const i=this.keyCodeNumber(e);if(i===229)return T.keyName.AndroidDefault;const s=T.fromCharCodeKeyCode[i];o.isUndefinedOrNullOrEmpty(s)?t=String.fromCharCode(i):t=s}else switch(e.key){case"Add":t=T.keyName.NumpadPlus;break;case"Apps":t=T.keyName.ContextMenu;break;case"Crsel":t=T.keyName.CrSel;break;case"Decimal":e.char?t=e.char:t=T.keyName.NumpadDot;break;case"Del":t=T.keyName.Delete;break;case"Divide":t=T.keyName.NumpadSlash;break;case"Down":t=T.keyName.DownArrow;break;case"Esc":t=T.keyName.Esc;break;case"Exsel":t=T.keyName.ExSel;break;case"Left":t=T.keyName.LeftArrow;break;case"Meta":case"Super":t=T.keyName.OSLeft;break;case"Multiply":t=T.keyName.NumpadMultiply;break;case"Right":t=T.keyName.RightArrow;break;case"Spacebar":t=T.keyName.Space;break;case"Subtract":t=T.keyName.NumpadMinus;break;case"Up":t=T.keyName.UpArrow;break;default:t=e.key}return t}static browser(){const e=navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"ie",version:t[1]||""}):i[1]==="Chrome"&&(t=e.match(/\b(OPR|Edge)\/(\d+)/),t!==null)?{name:t[1].replace("OPR","opera"),version:t[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],(t=e.match(/version\/(\d+)/i))!==null&&i.splice(1,1,t[1]),{name:i[0].toLowerCase(),version:i[1]})}static isSeleniumBot(){return window.navigator.webdriver===!0}static isNegative(e,t="-",i=!0){return e===t?!0:e===""?!1:o.isNumber(e)?e<0:i?this.contains(e,t):this.isNegativeStrict(e,t)}static isNegativeStrict(e,t="-"){return e.charAt(0)===t}static isNegativeWithBrackets(e,t,i){return e.charAt(0)===t&&this.contains(e,i)}static isZeroOrHasNoValue(e){return!/[1-9]/g.test(e)}static setRawNegativeSign(e){return this.isNegativeStrict(e,"-")?e:`-${e}`}static replaceCharAt(e,t,i){return`${e.substr(0,t)}${i}${e.substr(t+i.length)}`}static clampToRangeLimits(e,t){return Math.max(t.minimumValue,Math.min(t.maximumValue,e))}static countNumberCharactersOnTheCaretLeftSide(e,t,i){const s=new RegExp(`[0-9${i}-]`);let n=0;for(let h=0;h<t;h++)s.test(e[h])&&n++;return n}static findCaretPositionInFormattedNumber(e,t,i,s){const n=i.length,h=e.length;let u,m=0;for(u=0;u<n&&m<h&&m<t;u++)(e[m]===i[u]||e[m]==="."&&i[u]===s)&&m++;return u}static countCharInText(e,t){let i=0;for(let s=0;s<t.length;s++)t[s]===e&&i++;return i}static convertCharacterCountToIndexPosition(e){return Math.max(e,e-1)}static getElementSelection(e){const t={};let i;try{i=this.isUndefined(e.selectionStart)}catch{i=!1}try{if(i){const n=window.getSelection().getRangeAt(0);t.start=n.startOffset,t.end=n.endOffset,t.length=t.end-t.start}else t.start=e.selectionStart,t.end=e.selectionEnd,t.length=t.end-t.start}catch{t.start=0,t.end=0,t.length=0}return t}static setElementSelection(e,t,i=null){if(this.isUndefinedOrNullOrEmpty(i)&&(i=t),this.isInputElement(e))e.setSelectionRange(t,i);else if(!o.isNull(e.firstChild)){const s=document.createRange();s.setStart(e.firstChild,t),s.setEnd(e.firstChild,i);const n=window.getSelection();n.removeAllRanges(),n.addRange(s)}}static throwError(e){throw new Error(e)}static warning(e,t=!0){t&&console.warn(`Warning: ${e}`)}static isWheelEvent(e){return e instanceof WheelEvent}static isWheelUpEvent(e){return(!this.isWheelEvent(e)||this.isUndefinedOrNullOrEmpty(e.deltaY))&&this.throwError(`The event passed as a parameter is not a valid wheel event, '${e.type}' given.`),e.deltaY<0}static isWheelDownEvent(e){return(!this.isWheelEvent(e)||this.isUndefinedOrNullOrEmpty(e.deltaY))&&this.throwError(`The event passed as a parameter is not a valid wheel event, '${e.type}' given.`),e.deltaY>0}static isWheelEventWithZeroDeltaY(e){return this.isWheelEvent(e)&&!this.isUndefinedOrNullOrEmpty(e.deltaY)&&e.deltaY===0}static forceDecimalPlaces(e,t){const[i,s]=String(e).split(".");return s?`${i}.${s.substr(0,t)}`:e}static roundToNearest(e,t=1e3){return e===0?0:(t===0&&this.throwError("The `stepPlace` used to round is equal to `0`. This value must not be equal to zero."),Math.round(e/t)*t)}static modifyAndRoundToNearestAuto(e,t,i){e=Number(this.forceDecimalPlaces(e,i));const s=Math.abs(e);if(s>=0&&s<1){const n=Math.pow(10,-i);if(e===0)return t?n:-n;let h;const u=i,m=this.indexFirstNonZeroDecimalPlace(e);m>=u-1?h=n:h=Math.pow(10,-(m+1));let g;return t?g=e+h:g=e-h,this.roundToNearest(g,h)}else{e=parseInt(e,10);const n=Math.abs(e).toString().length;let h;switch(n){case 1:h=0;break;case 2:case 3:h=1;break;case 4:case 5:h=2;break;default:h=n-3}const u=Math.pow(10,h);let m;return t?m=e+u:m=e-u,m<=10&&m>=-10?m:this.roundToNearest(m,u)}}static addAndRoundToNearestAuto(e,t){return this.modifyAndRoundToNearestAuto(e,!0,t)}static subtractAndRoundToNearestAuto(e,t){return this.modifyAndRoundToNearestAuto(e,!1,t)}static arabicToLatinNumbers(e,t=!0,i=!1,s=!1){if(this.isNull(e))return e;let n=e.toString();if(n==="")return e;if(n.match(/[]/g)===null)return t&&(n=Number(n)),n;i&&(n=n.replace(//,".")),s&&(n=n.replace(//g,"")),n=n.replace(/[]/g,u=>u.charCodeAt(0)-1632).replace(/[]/g,u=>u.charCodeAt(0)-1776);const h=Number(n);return isNaN(h)?h:(t&&(n=h),n)}static triggerEvent(e,t=document,i=null,s=!0,n=!0){let h;window.CustomEvent?h=new CustomEvent(e,{detail:i,bubbles:s,cancelable:n}):(h=document.createEvent("CustomEvent"),h.initCustomEvent(e,s,n,{detail:i})),t.dispatchEvent(h)}static parseStr(e){const t={};let i,s,n,h;if(e===0&&1/e<0&&(e="-0"),e=e.toString(),this.isNegativeStrict(e,"-")?(e=e.slice(1),t.s=-1):t.s=1,i=e.indexOf("."),i>-1&&(e=e.replace(".","")),i<0&&(i=e.length),s=e.search(/[1-9]/i)===-1?e.length:e.search(/[1-9]/i),n=e.length,s===n)t.e=0,t.c=[0];else{for(h=n-1;e.charAt(h)==="0";h-=1)n-=1;for(n-=1,t.e=i-s-1,t.c=[],i=0;s<=n;s+=1)t.c[i]=+e.charAt(s),i+=1}return t}static testMinMax(e,t){const i=t.c,s=e.c;let n=t.s,h=e.s,u=t.e,m=e.e;if(!i[0]||!s[0]){let y;return i[0]?y=n:y=s[0]?-h:0,y}if(n!==h)return n;const g=n<0;if(u!==m)return u>m^g?1:-1;for(n=-1,u=i.length,m=s.length,h=u<m?u:m,n+=1;n<h;n+=1)if(i[n]!==s[n])return i[n]>s[n]^g?1:-1;let v;return u===m?v=0:v=u>m^g?1:-1,v}static randomString(e=5){return Math.random().toString(36).substr(2,e)}static domElement(e){let t;return o.isString(e)?t=document.querySelector(e):t=e,t}static getElementValue(e){return e.tagName.toLowerCase()==="input"?e.value:this.text(e)}static setElementValue(e,t=null){e.tagName.toLowerCase()==="input"?e.value=t:e.textContent=t}static setInvalidState(e,t="Invalid"){(t===""||this.isNull(t))&&this.throwError("Cannot set the invalid state with an empty message."),e.setCustomValidity(t)}static setValidState(e){e.setCustomValidity("")}static cloneObject(e){return Object.assign({},e)}static camelize(e,t="-",i=!0,s=!0){if(this.isNull(e))return null;i&&(e=e.replace(/^data-/,""));let h=e.split(t).map(u=>`${u.charAt(0).toUpperCase()}${u.slice(1)}`);return h=h.join(""),s&&(h=`${h.charAt(0).toLowerCase()}${h.slice(1)}`),h}static text(e){const t=e.nodeType;let i;return t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?i=e.textContent:t===Node.TEXT_NODE?i=e.nodeValue:i="",i}static setText(e,t){const i=e.nodeType;(i===Node.ELEMENT_NODE||i===Node.DOCUMENT_NODE||i===Node.DOCUMENT_FRAGMENT_NODE)&&(e.textContent=t)}static filterOut(e,t){return e.filter(i=>!this.isInArray(i,t))}static trimPaddedZerosFromDecimalPlaces(e){if(e=String(e),e==="")return"";const[t,i]=e.split(".");if(this.isUndefinedOrNullOrEmpty(i))return t;const s=i.replace(/0+$/g,"");let n;return s===""?n=t:n=`${t}.${s}`,n}static getHoveredElement(){const e=[...document.querySelectorAll(":hover")];return e[e.length-1]}static arrayTrim(e,t){const i=e.length;return i===0||t>i?e:t<0?[]:(e.length=parseInt(t,10),e)}static arrayUnique(...e){return[...new Set([].concat(...e))]}static mergeMaps(...e){return new Map(e.reduce((t,i)=>t.concat([...i]),[]))}static objectKeyLookup(e,t){const i=Object.entries(e).find(n=>n[1]===t);let s=null;return i!==void 0&&(s=i[0]),s}static insertAt(e,t,i){if(e=String(e),i>e.length)throw new Error("The given index is out of the string range.");if(t.length!==1)throw new Error("The given string `char` should be only one character long.");return e===""&&i===0?t:`${e.slice(0,i)}${t}${e.slice(i)}`}static scientificToDecimal(e){const t=Number(e);if(isNaN(t))return NaN;if(e=String(e),!(this.contains(e,"e")||this.contains(e,"E")))return e;let[s,n]=e.split(/e/i);const h=s<0;h&&(s=s.replace("-",""));const u=+n<0;u&&(n=n.replace("-",""));const[m,g]=s.split(/\./);let v;return u?(m.length>n?v=this.insertAt(m,".",m.length-n):v=`0.${"0".repeat(n-m.length)}${m}`,v=`${v}${g||""}`):g?(s=`${m}${g}`,n<g.length?v=this.insertAt(s,".",+n+m.length):v=`${s}${"0".repeat(n-g.length)}`):(s=s.replace(".",""),v=`${s}${"0".repeat(Number(n))}`),h&&(v=`-${v}`),v}}class Ea{constructor(e){if(e===null)throw new Error("Invalid AST")}evaluate(e){if(e==null)throw new Error("Invalid AST sub-tree");if(e.type==="number")return e.value;if(e.type==="unaryMinus")return-this.evaluate(e.left);{const t=this.evaluate(e.left),i=this.evaluate(e.right);switch(e.type){case"op_+":return Number(t)+Number(i);case"op_-":return t-i;case"op_*":return t*i;case"op_/":return t/i;default:throw new Error(`Invalid operator '${e.type}'`)}}}}class ee{static createNode(e,t,i){const s=new ee;return s.type=e,s.left=t,s.right=i,s}static createUnaryNode(e){const t=new ee;return t.type="unaryMinus",t.left=e,t.right=null,t}static createLeaf(e){const t=new ee;return t.type="number",t.value=e,t}}class Oa{constructor(e,t,i){this.type=e,this.value=t,this.symbol=i}}class Ca{constructor(e){this.text=e,this.textLength=e.length,this.index=0,this.token=new Oa("Error",0,0)}_skipSpaces(){for(;this.text[this.index]===" "&&this.index<=this.textLength;)this.index++}getIndex(){return this.index}getNextToken(e="."){if(this._skipSpaces(),this.textLength===this.index)return this.token.type="EOT",this.token;if(o.isDigit(this.text[this.index]))return this.token.type="num",this.token.value=this._getNumber(e),this.token;switch(this.token.type="Error",this.text[this.index]){case"+":this.token.type="+";break;case"-":this.token.type="-";break;case"*":this.token.type="*";break;case"/":this.token.type="/";break;case"(":this.token.type="(";break;case")":this.token.type=")";break}if(this.token.type!=="Error")this.token.symbol=this.text[this.index],this.index++;else throw new Error(`Unexpected token '${this.token.symbol}' at position '${this.token.index}' in the token function`);return this.token}_getNumber(e){this._skipSpaces();const t=this.index;for(;this.index<=this.textLength&&o.isDigit(this.text[this.index]);)this.index++;for(this.text[this.index]===e&&this.index++;this.index<=this.textLength&&o.isDigit(this.text[this.index]);)this.index++;if(this.index===t)throw new Error("No number has been found while it was expected");return this.text.substring(t,this.index).replace(e,".")}}class Na{constructor(e,t="."){return this.text=e,this.decimalCharacter=t,this.lexer=new Ca(e),this.token=this.lexer.getNextToken(this.decimalCharacter),this._exp()}_exp(){const e=this._term(),t=this._moreExp();return ee.createNode("op_+",e,t)}_moreExp(){let e,t;switch(this.token.type){case"+":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),ee.createNode("op_+",t,e);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._term(),t=this._moreExp(),ee.createNode("op_-",t,e)}return ee.createLeaf(0)}_term(){const e=this._factor(),t=this._moreTerms();return ee.createNode("op_*",e,t)}_moreTerms(){let e,t;switch(this.token.type){case"*":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),ee.createNode("op_*",t,e);case"/":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._factor(),t=this._moreTerms(),ee.createNode("op_/",t,e)}return ee.createLeaf(1)}_factor(){let e,t,i;switch(this.token.type){case"num":return i=this.token.value,this.token=this.lexer.getNextToken(this.decimalCharacter),ee.createLeaf(i);case"-":return this.token=this.lexer.getNextToken(this.decimalCharacter),t=this._factor(),ee.createUnaryNode(t);case"(":return this.token=this.lexer.getNextToken(this.decimalCharacter),e=this._exp(),this._match(")"),e;default:throw new Error(`Unexpected token '${this.token.symbol}' with type '${this.token.type}' at position '${this.token.index}' in the factor function`)}}_match(e){const t=this.lexer.getIndex()-1;if(this.text[t]===e)this.token=this.lexer.getNextToken(this.decimalCharacter);else throw new Error(`Unexpected token '${this.token.symbol}' at position '${t}' in the match function`)}}/**
 *               AutoNumeric.js
 *
 * @version      4.10.7
 * @date         2024-10-14 UTC 01:11
 *
 * @authors      2016-2024 Alexandre Bonneau <alexandre.bonneau@linuxfr.eu>
 *               2009-2016 Bob Knothe <bob.knothe@gmail.com>
 * @contributors Sokolov Yura and others, cf. AUTHORS
 * @copyright    Alexandre Bonneau & Robert J. Knothe
 * @since        2009-08-09
 *
 * @summary      AutoNumeric is a standalone Javascript library
 *               that provides live *as-you-type* formatting for
 *               international numbers and currencies.
 *
 * @link         http://autonumeric.org
 * @docs         https://docs.autonumeric.org
 *
 *               Note : Some functions are borrowed from big.js
 * @see          https://github.com/MikeMcl/big.js/
 *
 * Please report any bugs to https://github.com/autoNumeric/autoNumeric
 *
 * @license      Released under the MIT License
 * @link         http://www.opensource.org/licenses/mit-license.php
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sub license, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */const d=class d{static version(){return"4.10.6"}constructor(e=null,t=null,i=null){const{domElement:s,initialValue:n,userOptions:h}=d._setArgumentsValues(e,t,i);if(this.domElement=s,this.defaultRawValue="",this._setSettings(h,!1),this._checkElement(),this.savedCancellableValue=null,this.historyTable=[],this.historyTableIndex=-1,this.onGoingRedo=!1,this.parentForm=this._getParentForm(),!this.runOnce&&this.settings.formatOnPageLoad)this._formatDefaultValueOnPageLoad(n);else{let u;if(o.isNull(n))switch(this.settings.emptyInputBehavior){case d.options.emptyInputBehavior.min:u=this.settings.minimumValue;break;case d.options.emptyInputBehavior.max:u=this.settings.maximumValue;break;case d.options.emptyInputBehavior.zero:u="0";break;case d.options.emptyInputBehavior.focus:case d.options.emptyInputBehavior.press:case d.options.emptyInputBehavior.always:u="";break;case d.options.emptyInputBehavior.null:u=null;break;default:u=this.settings.emptyInputBehavior}else u=n;this._setElementAndRawValue(u)}this.runOnce=!0,this.hasEventListeners=!1,(this.isInputElement||this.isContentEditable)&&(this.settings.noEventListeners||this._createEventListeners(),this._setWritePermissions(!0)),this._saveInitialValues(n),this.storageNamePrefix="AUTO_",this._setPersistentStorageName(),this.validState=!0,this.isFocused=!1,this.isWheelEvent=!1,this.isDropEvent=!1,this.isEditing=!1,this.rawValueOnFocus=void 0,this.internalModification=!1,this.attributeToWatch=this._getAttributeToWatch(),this.getterSetter=Object.getOwnPropertyDescriptor(this.domElement.__proto__,this.attributeToWatch),this._addWatcher(),this.settings.createLocalList&&this._createLocalList(),this.constructor._addToGlobalList(this),this.global={set:(u,m=null)=>{this.autoNumericLocalList.forEach(g=>{g.set(u,m)})},setUnformatted:(u,m=null)=>{this.autoNumericLocalList.forEach(g=>{g.setUnformatted(u,m)})},get:(u=null)=>{const m=[];return this.autoNumericLocalList.forEach(g=>{m.push(g.get())}),this._executeCallback(m,u),m},getNumericString:(u=null)=>{const m=[];return this.autoNumericLocalList.forEach(g=>{m.push(g.getNumericString())}),this._executeCallback(m,u),m},getFormatted:(u=null)=>{const m=[];return this.autoNumericLocalList.forEach(g=>{m.push(g.getFormatted())}),this._executeCallback(m,u),m},getNumber:(u=null)=>{const m=[];return this.autoNumericLocalList.forEach(g=>{m.push(g.getNumber())}),this._executeCallback(m,u),m},getLocalized:(u=null)=>{const m=[];return this.autoNumericLocalList.forEach(g=>{m.push(g.getLocalized())}),this._executeCallback(m,u),m},reformat:()=>{this.autoNumericLocalList.forEach(u=>{u.reformat()})},unformat:()=>{this.autoNumericLocalList.forEach(u=>{u.unformat()})},unformatLocalized:(u=null)=>{this.autoNumericLocalList.forEach(m=>{m.unformatLocalized(u)})},update:(...u)=>{this.autoNumericLocalList.forEach(m=>{m.update(...u)})},isPristine:(u=!0)=>{let m=!0;return this.autoNumericLocalList.forEach(g=>{m&&!g.isPristine(u)&&(m=!1)}),m},clear:(u=!1)=>{this.autoNumericLocalList.forEach(m=>{m.clear(u)})},remove:()=>{this.autoNumericLocalList.forEach(u=>{u.remove()})},wipe:()=>{this.autoNumericLocalList.forEach(u=>{u.wipe()})},nuke:()=>{this.autoNumericLocalList.forEach(u=>{u.nuke()})},has:u=>{let m;return u instanceof d?m=this.autoNumericLocalList.has(u.node()):m=this.autoNumericLocalList.has(u),m},addObject:u=>{let m,g;u instanceof d?(m=u.node(),g=u):(m=u,g=d.getAutoNumericElement(m)),this._hasLocalList()||this._createLocalList();let v=g._getLocalList();v.size===0&&(g._createLocalList(),v=g._getLocalList());let y;v instanceof Map?y=o.mergeMaps(this._getLocalList(),v):(this._addToLocalList(m,g),y=this._getLocalList()),y.forEach(O=>{O._setLocalList(y)})},removeObject:(u,m=!1)=>{let g,v;u instanceof d?(g=u.node(),v=u):(g=u,v=d.getAutoNumericElement(g));const y=this.autoNumericLocalList;this.autoNumericLocalList.delete(g),y.forEach(O=>{O._setLocalList(this.autoNumericLocalList)}),!m&&g===this.node()?v._setLocalList(new Map):v._createLocalList()},empty:(u=!1)=>{this.autoNumericLocalList.forEach(g=>{u?g._createLocalList():g._setLocalList(new Map)})},elements:()=>{const u=[];return this.autoNumericLocalList.forEach(m=>{u.push(m.node())}),u},getList:()=>this.autoNumericLocalList,size:()=>this.autoNumericLocalList.size},this.options={reset:()=>(this.settings={rawValue:this.defaultRawValue},this.update(d.defaultSettings),this),allowDecimalPadding:u=>(this.update({allowDecimalPadding:u}),this),alwaysAllowDecimalCharacter:u=>(this.update({alwaysAllowDecimalCharacter:u}),this),caretPositionOnFocus:u=>(this.settings.caretPositionOnFocus=u,this),createLocalList:u=>(this.settings.createLocalList=u,this.settings.createLocalList?this._hasLocalList()||this._createLocalList():this._deleteLocalList(),this),currencySymbol:u=>(this.update({currencySymbol:u}),this),currencySymbolPlacement:u=>(this.update({currencySymbolPlacement:u}),this),decimalCharacter:u=>(this.update({decimalCharacter:u}),this),decimalCharacterAlternative:u=>(this.settings.decimalCharacterAlternative=u,this),decimalPlaces:u=>(o.warning("Using `options.decimalPlaces()` instead of calling the specific `options.decimalPlacesRawValue()`, `options.decimalPlacesShownOnFocus()` and `options.decimalPlacesShownOnBlur()` methods will reset those options.\nPlease call the specific methods if you do not want to reset those.",this.settings.showWarnings),this.update({decimalPlaces:u}),this),decimalPlacesRawValue:u=>(this.update({decimalPlacesRawValue:u}),this),decimalPlacesShownOnBlur:u=>(this.update({decimalPlacesShownOnBlur:u}),this),decimalPlacesShownOnFocus:u=>(this.update({decimalPlacesShownOnFocus:u}),this),defaultValueOverride:u=>(this.update({defaultValueOverride:u}),this),digitalGroupSpacing:u=>(this.update({digitalGroupSpacing:u}),this),digitGroupSeparator:u=>(this.update({digitGroupSeparator:u}),this),divisorWhenUnfocused:u=>(this.update({divisorWhenUnfocused:u}),this),emptyInputBehavior:u=>(this.rawValue===null&&u!==d.options.emptyInputBehavior.null&&(o.warning(`You are trying to modify the \`emptyInputBehavior\` option to something different than \`'null'\` (${u}), but the element raw value is currently set to \`null\`. This would result in an invalid \`rawValue\`. In order to fix that, the element value has been changed to the empty string \`''\`.`,this.settings.showWarnings),this.rawValue=""),this.update({emptyInputBehavior:u}),this),eventBubbles:u=>(this.settings.eventBubbles=u,this),eventIsCancelable:u=>(this.settings.eventIsCancelable=u,this),failOnUnknownOption:u=>(this.settings.failOnUnknownOption=u,this),formatOnPageLoad:u=>(this.settings.formatOnPageLoad=u,this),formulaMode:u=>(this.settings.formulaMode=u,this),historySize:u=>(this.settings.historySize=u,this),invalidClass:u=>(this.settings.invalidClass=u,this),isCancellable:u=>(this.settings.isCancellable=u,this),leadingZero:u=>(this.update({leadingZero:u}),this),maximumValue:u=>(this.update({maximumValue:u}),this),minimumValue:u=>(this.update({minimumValue:u}),this),modifyValueOnUpDownArrow:u=>(this.settings.modifyValueOnUpDownArrow=u,this),modifyValueOnWheel:u=>(this.settings.modifyValueOnWheel=u,this),negativeBracketsTypeOnBlur:u=>(this.update({negativeBracketsTypeOnBlur:u}),this),negativePositiveSignPlacement:u=>(this.update({negativePositiveSignPlacement:u}),this),negativeSignCharacter:u=>(this.update({negativeSignCharacter:u}),this),negativePositiveSignBehavior:u=>(this.settings.negativePositiveSignBehavior=u,this),noEventListeners:u=>(u===d.options.noEventListeners.noEvents&&this.settings.noEventListeners===d.options.noEventListeners.addEvents&&this._removeEventListeners(),this.update({noEventListeners:u}),this),onInvalidPaste:u=>(this.settings.onInvalidPaste=u,this),outputFormat:u=>(this.settings.outputFormat=u,this),overrideMinMaxLimits:u=>(this.update({overrideMinMaxLimits:u}),this),positiveSignCharacter:u=>(this.update({positiveSignCharacter:u}),this),rawValueDivisor:u=>(this.update({rawValueDivisor:u}),this),readOnly:u=>(this.settings.readOnly=u,this._setWritePermissions(),this),roundingMethod:u=>(this.update({roundingMethod:u}),this),saveValueToSessionStorage:u=>(this.update({saveValueToSessionStorage:u}),this),symbolWhenUnfocused:u=>(this.update({symbolWhenUnfocused:u}),this),selectNumberOnly:u=>(this.settings.selectNumberOnly=u,this),selectOnFocus:u=>(this.settings.selectOnFocus=u,this),serializeSpaces:u=>(this.settings.serializeSpaces=u,this),showOnlyNumbersOnFocus:u=>(this.update({showOnlyNumbersOnFocus:u}),this),showPositiveSign:u=>(this.update({showPositiveSign:u}),this),showWarnings:u=>(this.settings.showWarnings=u,this),styleRules:u=>(this.update({styleRules:u}),this),suffixText:u=>(this.update({suffixText:u}),this),unformatOnHover:u=>(this.settings.unformatOnHover=u,this),unformatOnSubmit:u=>(this.settings.unformatOnSubmit=u,this),upDownStep:u=>(this.settings.upDownStep=u,this),valuesToStrings:u=>(this.update({valuesToStrings:u}),this),watchExternalChanges:u=>(this.update({watchExternalChanges:u}),this),wheelOn:u=>(this.settings.wheelOn=u,this),wheelStep:u=>(this.settings.wheelStep=u,this)},this._triggerEvent(d.events.initialized,this.domElement,{newValue:o.getElementValue(this.domElement),newRawValue:this.rawValue,error:null,aNElement:this})}static _setArgumentsValues(e,t,i){o.isNull(e)&&o.throwError("At least one valid parameter is needed in order to initialize an AutoNumeric object");const s=o.isElement(e),n=o.isString(e),h=o.isObject(t),u=Array.isArray(t)&&t.length>0,m=o.isNumberOrArabic(t)||t==="",g=this._isPreDefinedOptionValid(t),v=o.isNull(t),y=o.isEmptyString(t),O=o.isObject(i),N=Array.isArray(i)&&i.length>0,w=o.isNull(i),k=this._isPreDefinedOptionValid(i);let b,E,x;return s&&v&&w?(b=e,x=null,E=null):s&&m&&w?(b=e,x=t,E=null):s&&h&&w?(b=e,x=null,E=t):s&&g&&w?(b=e,x=null,E=this._getOptionObject(t)):s&&u&&w?(b=e,x=null,E=this.mergeOptions(t)):s&&(v||y)&&O?(b=e,x=null,E=i):s&&(v||y)&&N?(b=e,x=null,E=this.mergeOptions(i)):n&&v&&w?(b=document.querySelector(e),x=null,E=null):n&&h&&w?(b=document.querySelector(e),x=null,E=t):n&&g&&w?(b=document.querySelector(e),x=null,E=this._getOptionObject(t)):n&&u&&w?(b=document.querySelector(e),x=null,E=this.mergeOptions(t)):n&&(v||y)&&O?(b=document.querySelector(e),x=null,E=i):n&&(v||y)&&N?(b=document.querySelector(e),x=null,E=this.mergeOptions(i)):n&&m&&w?(b=document.querySelector(e),x=t,E=null):n&&m&&O?(b=document.querySelector(e),x=t,E=i):n&&m&&k?(b=document.querySelector(e),x=t,E=this._getOptionObject(i)):n&&m&&N?(b=document.querySelector(e),x=t,E=this.mergeOptions(i)):s&&m&&O?(b=e,x=t,E=i):s&&m&&k?(b=e,x=t,E=this._getOptionObject(i)):s&&m&&N?(b=e,x=t,E=this.mergeOptions(i)):o.throwError(`The parameters given to the AutoNumeric object are not valid, '${e}', '${t}' and '${i}' given.`),o.isNull(b)&&o.throwError(`The selector '${e}' did not select any valid DOM element. Please check on which element you called AutoNumeric.`),{domElement:b,initialValue:x,userOptions:E}}static mergeOptions(e){const t={};return e.forEach(i=>{Object.assign(t,this._getOptionObject(i))}),t}static _isPreDefinedOptionValid(e){return Object.prototype.hasOwnProperty.call(d.predefinedOptions,e)}static _getOptionObject(e){let t;return o.isString(e)?(t=d.getPredefinedOptions()[e],t==null&&o.warning(`The given pre-defined option [${e}] is not recognized by autoNumeric. Please check that pre-defined option name.`,!0)):t=e,t}_saveInitialValues(e){this.initialValueHtmlAttribute=o.scientificToDecimal(this.domElement.getAttribute("value")),o.isNull(this.initialValueHtmlAttribute)&&(this.initialValueHtmlAttribute=""),this.initialValue=e,o.isNull(this.initialValue)&&(this.initialValue="")}_createEventListeners(){this.formulaMode=!1,this._onFocusInFunc=e=>{this._onFocusIn(e)},this._onFocusInAndMouseEnterFunc=e=>{this._onFocusInAndMouseEnter(e)},this._onFocusFunc=()=>{this._onFocus()},this._onKeydownFunc=e=>{this._onKeydown(e)},this._onKeypressFunc=e=>{this._onKeypress(e)},this._onKeyupFunc=e=>{this._onKeyup(e)},this._onFocusOutAndMouseLeaveFunc=e=>{this._onFocusOutAndMouseLeave(e)},this._onPasteFunc=e=>{this._onPaste(e)},this._onWheelFunc=e=>{this._onWheel(e)},this._onDropFunc=e=>{this._onDrop(e)},this._onKeydownGlobalFunc=e=>{this._onKeydownGlobal(e)},this._onKeyupGlobalFunc=e=>{this._onKeyupGlobal(e)},this.domElement.addEventListener("focusin",this._onFocusInFunc,!1),this.domElement.addEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("focus",this._onFocusFunc,!1),this.domElement.addEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.addEventListener("keydown",this._onKeydownFunc,!1),this.domElement.addEventListener("keypress",this._onKeypressFunc,!1),this.domElement.addEventListener("keyup",this._onKeyupFunc,!1),this.domElement.addEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.addEventListener("paste",this._onPasteFunc,!1),this.domElement.addEventListener("wheel",this._onWheelFunc,!1),this.domElement.addEventListener("drop",this._onDropFunc,!1),this._setupFormListener(),this.hasEventListeners=!0,d._doesGlobalListExists()||(document.addEventListener("keydown",this._onKeydownGlobalFunc,!1),document.addEventListener("keyup",this._onKeyupGlobalFunc,!1))}_removeEventListeners(){this.domElement.removeEventListener("focusin",this._onFocusInFunc,!1),this.domElement.removeEventListener("focus",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("focus",this._onFocusFunc,!1),this.domElement.removeEventListener("mouseenter",this._onFocusInAndMouseEnterFunc,!1),this.domElement.removeEventListener("blur",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("mouseleave",this._onFocusOutAndMouseLeaveFunc,!1),this.domElement.removeEventListener("keydown",this._onKeydownFunc,!1),this.domElement.removeEventListener("keypress",this._onKeypressFunc,!1),this.domElement.removeEventListener("keyup",this._onKeyupFunc,!1),this.domElement.removeEventListener("paste",this._onPasteFunc,!1),this.domElement.removeEventListener("wheel",this._onWheelFunc,!1),this.domElement.removeEventListener("drop",this._onDropFunc,!1),this._removeFormListener(),this.hasEventListeners=!1,document.removeEventListener("keydown",this._onKeydownGlobalFunc,!1),document.removeEventListener("keyup",this._onKeyupGlobalFunc,!1)}_updateEventListeners(){!this.settings.noEventListeners&&!this.hasEventListeners&&this._createEventListeners(),this.settings.noEventListeners&&this.hasEventListeners&&this._removeEventListeners()}_setupFormListener(){o.isNull(this.parentForm)||(this._onFormSubmitFunc=()=>{this._onFormSubmit()},this._onFormResetFunc=()=>{this._onFormReset()},this._hasParentFormCounter()?this._incrementParentFormCounter():(this._initializeFormCounterToOne(),this.parentForm.addEventListener("submit",this._onFormSubmitFunc,!1),this.parentForm.addEventListener("reset",this._onFormResetFunc,!1),this._storeFormHandlerFunction()))}_removeFormListener(){if(!o.isNull(this.parentForm)){const e=this._getParentFormCounter();e===1?(this.parentForm.removeEventListener("submit",this._getFormHandlerFunction().submitFn,!1),this.parentForm.removeEventListener("reset",this._getFormHandlerFunction().resetFn,!1),this._removeFormDataSetInfo()):e>1?this._decrementParentFormCounter():o.throwError("The AutoNumeric object count on the form is incoherent.")}}_hasParentFormCounter(){return"anCount"in this.parentForm.dataset}_getParentFormCounter(){return Number(this.parentForm.dataset.anCount)}_initializeFormCounterToOne(e=null){this._getFormElement(e).dataset.anCount=1}_incrementParentFormCounter(e=null){this._getFormElement(e).dataset.anCount++}_decrementParentFormCounter(){this.parentForm.dataset.anCount--}static _doesFormHandlerListExists(){const e=typeof window.aNFormHandlerMap;return e!=="undefined"&&e==="object"}static _createFormHandlerList(){window.aNFormHandlerMap=new Map}_hasFormHandlerFunction(e=null){return"anFormHandler"in this._getFormElement(e).dataset}_getFormElement(e=null){let t;return o.isNull(e)?t=this.parentForm:t=e,t}_storeFormHandlerFunction(e=null){this.constructor._doesFormHandlerListExists()||this.constructor._createFormHandlerList();const t=o.randomString();this._getFormElement(e).dataset.anFormHandler=t,window.aNFormHandlerMap.set(t,{submitFn:this._onFormSubmitFunc,resetFn:this._onFormResetFunc})}_getFormHandlerKey(){this._hasFormHandlerFunction()||o.throwError("Unable to retrieve the form handler name");const e=this.parentForm.dataset.anFormHandler;return e===""&&o.throwError("The form handler name is invalid"),e}_getFormHandlerFunction(){const e=this._getFormHandlerKey();return window.aNFormHandlerMap.get(e)}_removeFormDataSetInfo(){this._decrementParentFormCounter(),window.aNFormHandlerMap.delete(this._getFormHandlerKey()),this.parentForm.removeAttribute("data-an-count"),this.parentForm.removeAttribute("data-an-form-handler")}_setWritePermissions(e=!1){e&&this.domElement.readOnly||this.settings.readOnly?this._setReadOnly():this._setReadWrite()}_setReadOnly(){this.isInputElement?this.domElement.readOnly=!0:this.domElement.setAttribute("contenteditable",!1)}_setReadWrite(){this.isInputElement?this.domElement.readOnly=!1:this.domElement.setAttribute("contenteditable",!0)}_addWatcher(){if(!o.isUndefined(this.getterSetter)){const{set:e,get:t}=this.getterSetter;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:()=>t.call(this.domElement),set:i=>{e.call(this.domElement,i),this.settings.watchExternalChanges&&!this.internalModification&&this.set(i)}})}}_removeWatcher(){if(!o.isUndefined(this.getterSetter)){const{set:e,get:t}=this.getterSetter;Object.defineProperty(this.domElement,this.attributeToWatch,{configurable:!0,get:()=>t.call(this.domElement),set:i=>{e.call(this.domElement,i)}})}}_getAttributeToWatch(){let e;if(this.isInputElement)e="value";else{const t=this.domElement.nodeType;t===Node.ELEMENT_NODE||t===Node.DOCUMENT_NODE||t===Node.DOCUMENT_FRAGMENT_NODE?e="textContent":t===Node.TEXT_NODE&&(e="nodeValue")}return e}_historyTableAdd(){const e=this.historyTable.length===0;if(e||this.rawValue!==this._historyTableCurrentValueUsed()){let t=!0;if(!e){const i=this.historyTableIndex+1;i<this.historyTable.length&&this.rawValue===this.historyTable[i].value?t=!1:o.arrayTrim(this.historyTable,this.historyTableIndex+1)}if(this.historyTableIndex++,t){const i=o.getElementSelection(this.domElement);this.selectionStart=i.start,this.selectionEnd=i.end,this.historyTable.push({value:this.rawValue,start:this.selectionStart+1,end:this.selectionEnd+1}),this.historyTable.length>1&&(this.historyTable[this.historyTableIndex-1].start=this.selectionStart,this.historyTable[this.historyTableIndex-1].end=this.selectionEnd)}this.historyTable.length>this.settings.historySize&&this._historyTableForget()}}_historyTableUndoOrRedo(e=!0){let t;if(e?(t=this.historyTableIndex>0,t&&this.historyTableIndex--):(t=this.historyTableIndex+1<this.historyTable.length,t&&this.historyTableIndex++),t){const i=this.historyTable[this.historyTableIndex];this.set(i.value,null,!1),o.setElementSelection(this.domElement,i.start,i.end)}}_historyTableUndo(){this._historyTableUndoOrRedo(!0)}_historyTableRedo(){this._historyTableUndoOrRedo(!1)}_historyTableForget(e=1){const t=[];for(let i=0;i<e;i++)t.push(this.historyTable.shift()),this.historyTableIndex--,this.historyTableIndex<0&&(this.historyTableIndex=0);return t.length===1?t[0]:t}_historyTableCurrentValueUsed(){let e=this.historyTableIndex;e<0&&(e=0);let t;return o.isUndefinedOrNullOrEmpty(this.historyTable[e])?t="":t=this.historyTable[e].value,t}_parseStyleRules(){o.isUndefinedOrNullOrEmpty(this.settings.styleRules)||this.rawValue===""||(o.isUndefinedOrNullOrEmpty(this.settings.styleRules.positive)||(this.rawValue>=0?this._addCSSClass(this.settings.styleRules.positive):this._removeCSSClass(this.settings.styleRules.positive)),o.isUndefinedOrNullOrEmpty(this.settings.styleRules.negative)||(this.rawValue<0?this._addCSSClass(this.settings.styleRules.negative):this._removeCSSClass(this.settings.styleRules.negative)),!o.isUndefinedOrNullOrEmpty(this.settings.styleRules.ranges)&&this.settings.styleRules.ranges.length!==0&&this.settings.styleRules.ranges.forEach(e=>{this.rawValue>=e.min&&this.rawValue<e.max?this._addCSSClass(e.class):this._removeCSSClass(e.class)}),!o.isUndefinedOrNullOrEmpty(this.settings.styleRules.userDefined)&&this.settings.styleRules.userDefined.length!==0&&this.settings.styleRules.userDefined.forEach(e=>{if(o.isFunction(e.callback))if(o.isString(e.classes))e.callback(this.rawValue)?this._addCSSClass(e.classes):this._removeCSSClass(e.classes);else if(o.isArray(e.classes))if(e.classes.length===2)e.callback(this.rawValue)?(this._addCSSClass(e.classes[0]),this._removeCSSClass(e.classes[1])):(this._removeCSSClass(e.classes[0]),this._addCSSClass(e.classes[1]));else if(e.classes.length>2){const t=e.callback(this.rawValue);o.isArray(t)?e.classes.forEach((i,s)=>{o.isInArray(s,t)?this._addCSSClass(i):this._removeCSSClass(i)}):o.isInt(t)?e.classes.forEach((i,s)=>{s===t?this._addCSSClass(i):this._removeCSSClass(i)}):o.isNull(t)?e.classes.forEach(i=>{this._removeCSSClass(i)}):o.throwError(`The callback result is not an array nor a valid array index, ${typeof t} given.`)}else o.throwError("The classes attribute is not valid for the `styleRules` option.");else o.isUndefinedOrNullOrEmpty(e.classes)?e.callback(this):o.throwError("The callback/classes structure is not valid for the `styleRules` option.");else o.warning(`The given \`styleRules\` callback is not a function, ${typeof e.callback} given.`,this.settings.showWarnings)}))}_addCSSClass(e){this.domElement.classList.add(e)}_removeCSSClass(e){this.domElement.classList.remove(e)}update(...e){Array.isArray(e)&&Array.isArray(e[0])&&(e=e[0]);const t=o.cloneObject(this.settings),i=this.rawValue;let s={};o.isUndefinedOrNullOrEmpty(e)||e.length===0?s=null:e.length>=1&&e.forEach(n=>{this.constructor._isPreDefinedOptionValid(n)&&(n=this.constructor._getOptionObject(n)),Object.assign(s,n)});try{this._setSettings(s,!0),this._setWritePermissions(),this._updateEventListeners(),this.set(i)}catch(n){return this._setSettings(t,!0),o.throwError(`Unable to update the settings, those are invalid: [${n}]`),this}return this}getSettings(){return this.settings}set(e,t=null,i=!0){if(o.isUndefined(e))return o.warning("You are trying to set an 'undefined' value ; an error could have occurred.",this.settings.showWarnings),this;if(o.isNull(t)||this._setSettings(t,!0),e===null&&this.settings.emptyInputBehavior!==d.options.emptyInputBehavior.null)return o.warning(`You are trying to set the \`null\` value while the \`emptyInputBehavior\` option is set to ${this.settings.emptyInputBehavior}. If you want to be able to set the \`null\` value, you need to change the 'emptyInputBehavior' option to \`'null'\`.`,this.settings.showWarnings),this;let s;if(e===null)return this._setElementAndRawValue(null,null,i),this._saveValueToPersistentStorage(),this;if(s=this.constructor._toNumericValue(e,this.settings),isNaN(Number(s)))return o.warning("The value you are trying to set results in `NaN`. The element value is set to the empty string instead.",this.settings.showWarnings),this.setValue("",i),this;if(s==="")switch(this.settings.emptyInputBehavior){case d.options.emptyInputBehavior.zero:s=0;break;case d.options.emptyInputBehavior.min:s=this.settings.minimumValue;break;case d.options.emptyInputBehavior.max:s=this.settings.maximumValue;break;default:o.isNumber(this.settings.emptyInputBehavior)&&(s=Number(this.settings.emptyInputBehavior))}if(s!==""){const[n,h]=this.constructor._checkIfInRangeWithOverrideOption(s,this.settings);if(n&&h&&this.settings.valuesToStrings&&this._checkValuesToStrings(s))return this._setElementAndRawValue(this.settings.valuesToStrings[s],s,i),this._saveValueToPersistentStorage(),this;if(o.isZeroOrHasNoValue(s)&&(s="0"),n&&h){let m=this.constructor._roundRawValue(s,this.settings);return m=this._trimLeadingAndTrailingZeros(m.replace(this.settings.decimalCharacter,".")),s=this._getRawValueToFormat(s),this.isFocused?s=this.constructor._roundFormattedValueShownOnFocus(s,this.settings):(this.settings.divisorWhenUnfocused&&(s=s/this.settings.divisorWhenUnfocused,s=s.toString()),s=this.constructor._roundFormattedValueShownOnBlur(s,this.settings)),s=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(s,this.settings),s=this.constructor._addGroupSeparators(s,this.settings,this.isFocused,this.rawValue,m),!this.isFocused&&this.settings.symbolWhenUnfocused&&(s=`${s}${this.settings.symbolWhenUnfocused}`),(this.settings.decimalPlacesShownOnFocus||this.settings.divisorWhenUnfocused)&&this._saveValueToPersistentStorage(),this._setElementAndRawValue(s,m,i),this._setValidOrInvalidState(m),this}else return this._triggerRangeEvents(n,h),o.throwError(`The value [${s}] being set falls outside of the minimumValue [${this.settings.minimumValue}] and maximumValue [${this.settings.maximumValue}] range set for this element`),this._removeValueFromPersistentStorage(),this.setValue("",i),this}else{let n;return this.settings.emptyInputBehavior===d.options.emptyInputBehavior.always?n=this.settings.currencySymbol:n="",this._setElementAndRawValue(n,"",i),this}}setUnformatted(e,t=null){if(e===null||o.isUndefined(e))return this;o.isNull(t)||this._setSettings(t,!0);const i=this.constructor._removeBrackets(e,this.settings),s=this.constructor._stripAllNonNumberCharacters(i,this.settings,!0,this.isFocused);return o.isNumber(s)||o.throwError("The value is not a valid one, it's not a numeric string nor a recognized currency."),this.constructor._isWithinRangeWithOverrideOption(s,this.settings)?this.setValue(e):o.throwError(`The value is out of the range limits [${this.settings.minimumValue}, ${this.settings.maximumValue}].`),this}setValue(e,t=!0){return this._setElementAndRawValue(e,t),this}_setRawValue(e,t=!0){if(this.rawValue!==e){const i=this.rawValue;this.rawValue=e,!o.isNull(this.settings.rawValueDivisor)&&this.settings.rawValueDivisor!==0&&e!==""&&e!==null&&this._isUserManuallyEditingTheValue()&&(this.rawValue/=this.settings.rawValueDivisor),this._triggerEvent(d.events.rawValueModified,this.domElement,{oldRawValue:i,newRawValue:this.rawValue,isPristine:this.isPristine(!0),error:null,aNElement:this}),this._parseStyleRules(),t&&window.requestAnimationFrame(()=>this._historyTableAdd())}}_setElementValue(e,t=!0){const i=o.getElementValue(this.domElement);return e!==i&&(this.internalModification=!0,o.setElementValue(this.domElement,e),this.internalModification=!1,t&&this._triggerEvent(d.events.formatted,this.domElement,{oldValue:i,newValue:e,oldRawValue:this.rawValue,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this})),this}_setElementAndRawValue(e,t=null,i=!0){return o.isNull(t)?t=e:o.isBoolean(t)&&(i=t,t=e),this._setElementValue(e),this._setRawValue(t,i),this}_getRawValueToFormat(e){let t;return!o.isNull(this.settings.rawValueDivisor)&&this.settings.rawValueDivisor!==0&&e!==""&&e!==null?t=e*this.settings.rawValueDivisor:t=e,t}_checkValuesToStrings(e){return this.constructor._checkValuesToStringsArray(e,this.valuesToStringsKeys)}static _checkValuesToStringsArray(e,t){return o.isInArray(String(e),t)}static _checkValuesToStringsSettings(e,t){return this._checkValuesToStringsArray(e,Object.keys(t.valuesToStrings))}static _checkStringsToValuesSettings(e,t){return this._checkValuesToStringsArray(e,Object.values(t.valuesToStrings))}_isUserManuallyEditingTheValue(){return this.isFocused&&this.isEditing||this.isDropEvent}_executeCallback(e,t){!o.isNull(t)&&o.isFunction(t)&&t(e,this)}_triggerEvent(e,t=document,i=null){o.triggerEvent(e,t,i,this.settings.eventBubbles,this.settings.eventIsCancelable)}get(e=null){return this.getNumericString(e)}getNumericString(e=null){let t;return o.isNull(this.rawValue)?t=null:t=o.trimPaddedZerosFromDecimalPlaces(this.rawValue),this._executeCallback(t,e),t}getFormatted(e=null){"value"in this.domElement||"textContent"in this.domElement||o.throwError("Unable to get the formatted string from the element.");const t=o.getElementValue(this.domElement);return this._executeCallback(t,e),t}getNumber(e=null){let t;return this.rawValue===null?t=null:t=this.constructor._toLocale(this.getNumericString(),"number",this.settings),this._executeCallback(t,e),t}getLocalized(e=null,t=null){o.isFunction(e)&&o.isNull(t)&&(t=e,e=null);let i;o.isEmptyString(this.rawValue)?i="":i=""+Number(this.rawValue),i!==""&&Number(i)===0&&this.settings.leadingZero!==d.options.leadingZero.keep&&(i="0");let s;o.isNull(e)?s=this.settings.outputFormat:s=e;const n=this.constructor._toLocale(i,s,this.settings);return this._executeCallback(n,t),n}reformat(){return this.set(this.rawValue),this}unformat(){return this._setElementValue(this.getNumericString()),this}unformatLocalized(e=null){return this._setElementValue(this.getLocalized(e)),this}isPristine(e=!0){let t;return e?t=this.initialValue===this.getNumericString():t=this.initialValueHtmlAttribute===this.getFormatted(),t}select(){return this.settings.selectNumberOnly?this.selectNumber():this._defaultSelectAll(),this}_defaultSelectAll(){o.setElementSelection(this.domElement,0,o.getElementValue(this.domElement).length)}selectNumber(){const e=o.getElementValue(this.domElement),t=e.length,i=this.settings.currencySymbol.length,s=this.settings.currencySymbolPlacement,n=o.isNegative(e,this.settings.negativeSignCharacter)?1:0,h=this.settings.suffixText.length;let u;s===d.options.currencySymbolPlacement.suffix?u=0:this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.left&&n===1&&i>0?u=i+1:u=i;let m;if(s===d.options.currencySymbolPlacement.prefix)m=t-h;else switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.left:m=t-(h+i);break;case d.options.negativePositiveSignPlacement.right:i>0?m=t-(i+n+h):m=t-(i+h);break;default:m=t-(i+h)}return o.setElementSelection(this.domElement,u,m),this}selectInteger(){let e=0;const t=this.rawValue>=0;(this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix||this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.prefix||this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.none))&&(this.settings.showPositiveSign&&t||!t&&this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.left)&&(e=e+1),this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix&&(e=e+this.settings.currencySymbol.length);const i=o.getElementValue(this.domElement);let s=i.indexOf(this.settings.decimalCharacter);return s===-1&&(this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix?s=i.length-this.settings.currencySymbol.length:s=i.length,!t&&(this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix)&&(s=s-1),s=s-this.settings.suffixText.length),o.setElementSelection(this.domElement,e,s),this}selectDecimal(){let e=o.getElementValue(this.domElement).indexOf(this.settings.decimalCharacter),t;if(e===-1)e=0,t=0;else{e=e+1;let i;this.isFocused?i=this.settings.decimalPlacesShownOnFocus:i=this.settings.decimalPlacesShownOnBlur,t=e+Number(i)}return o.setElementSelection(this.domElement,e,t),this}node(){return this.domElement}parent(){return this.domElement.parentNode}detach(e=null){let t;return o.isNull(e)?t=this.domElement:t=e.node(),this._removeFromLocalList(t),this}attach(e,t=!0){return this._addToLocalList(e.node()),t&&e.update(this.settings),this}formatOther(e,t=null){return this._formatOrUnformatOther(!0,e,t)}unformatOther(e,t=null){return this._formatOrUnformatOther(!1,e,t)}_formatOrUnformatOther(e,t,i=null){let s;o.isNull(i)?s=this.settings:s=this._cloneAndMergeSettings(i);let n;if(o.isElement(t)){const h=o.getElementValue(t);return e?n=d.format(h,s):n=d.unformat(h,s),o.setElementValue(t,n),null}return e?n=d.format(t,s):n=d.unformat(t,s),n}init(e,t=!0){let i=!1,s=[];if(o.isString(e)?s=[...document.querySelectorAll(e)]:o.isElement(e)?(s.push(e),i=!0):o.isArray(e)?s=e:o.throwError("The given parameters to the 'init' function are invalid."),s.length===0)return o.warning("No valid DOM elements were given hence no AutoNumeric object were instantiated.",!0),[];const n=this._getLocalList(),h=[];return s.forEach(u=>{const m=this.settings.createLocalList;t&&(this.settings.createLocalList=!1);const g=new d(u,o.getElementValue(u),this.settings);t&&(g._setLocalList(n),this._addToLocalList(u,g),this.settings.createLocalList=m),h.push(g)}),i?h[0]:h}clear(e=!1){if(e){const t={emptyInputBehavior:d.options.emptyInputBehavior.focus};this.set("",t)}else this.set("");return this}remove(){this._removeValueFromPersistentStorage(),this._removeEventListeners(),this._removeWatcher(),this._removeFromLocalList(this.domElement),this.constructor._removeFromGlobalList(this)}wipe(){this._setElementValue("",!1),this.remove()}nuke(){this.remove(),this.domElement.parentNode.removeChild(this.domElement)}form(e=!1){if(e||o.isUndefinedOrNullOrEmpty(this.parentForm)){const t=this._getParentForm();if(!o.isNull(t)&&t!==this.parentForm){const i=this._getFormAutoNumericChildren(this.parentForm);this.parentForm.dataset.anCount=i.length,this._hasFormHandlerFunction(t)?this._incrementParentFormCounter(t):(this._storeFormHandlerFunction(t),this._initializeFormCounterToOne(t))}this.parentForm=t}return this.parentForm}_getFormAutoNumericChildren(e){const t=[...e.elements],i=this._getContenteditableElements(e);return o.arrayUnique(t,i).filter(n=>this.constructor.isManagedByAutoNumeric(n))}_getContenteditableElements(e){if(o.isUndefinedOrNullOrEmpty(e)||!e.hasAttribute("id"))return[];const t=[...e.querySelectorAll("[contenteditable=true]")],i=[...document.querySelectorAll(`*:not(input)[form=${e.getAttribute("id")}][contenteditable=true]`)];return o.arrayUnique(t,i)}_getParentForm(){if(!o.isUndefined(this.domElement.form))return this.domElement.form;if(this.domElement.tagName.toLowerCase()==="body")return null;let e=this.domElement,t;do{if(e=e.parentNode,o.isNull(e))return null;if(e.tagName?t=e.tagName.toLowerCase():t="",t==="body")break}while(t!=="form");return t==="form"?e:null}formNumericString(){return this.constructor._serializeNumericString(this.form(),this.settings.serializeSpaces)}formFormatted(){return this.constructor._serializeFormatted(this.form(),this.settings.serializeSpaces)}formLocalized(e=null){let t;return o.isNull(e)?t=this.settings.outputFormat:t=e,this.constructor._serializeLocalized(this.form(),this.settings.serializeSpaces,t)}formArrayNumericString(){return this.constructor._serializeNumericStringArray(this.form(),this.settings.serializeSpaces)}formArrayFormatted(){return this.constructor._serializeFormattedArray(this.form(),this.settings.serializeSpaces)}formArrayLocalized(e=null){let t;return o.isNull(e)?t=this.settings.outputFormat:t=e,this.constructor._serializeLocalizedArray(this.form(),this.settings.serializeSpaces,t)}formJsonNumericString(){return JSON.stringify(this.formArrayNumericString())}formJsonFormatted(){return JSON.stringify(this.formArrayFormatted())}formJsonLocalized(e=null){return JSON.stringify(this.formArrayLocalized(e))}formUnformat(){return this.constructor._getChildANInputElement(this.form()).forEach(t=>{d.getAutoNumericElement(t).unformat()}),this}formUnformatLocalized(){return this.constructor._getChildANInputElement(this.form()).forEach(t=>{d.getAutoNumericElement(t).unformatLocalized()}),this}formReformat(){return this.constructor._getChildANInputElement(this.form()).forEach(t=>{d.getAutoNumericElement(t).reformat()}),this}formSubmitNumericString(e=null){return o.isNull(e)?(this.formUnformat(),this.form().submit(),this.formReformat()):o.isFunction(e)?e(this.formNumericString()):o.throwError("The given callback is not a function."),this}formSubmitFormatted(e=null){return o.isNull(e)?this.form().submit():o.isFunction(e)?e(this.formFormatted()):o.throwError("The given callback is not a function."),this}formSubmitLocalized(e=null,t=null){return o.isNull(t)?(this.formUnformatLocalized(),this.form().submit(),this.formReformat()):o.isFunction(t)?t(this.formLocalized(e)):o.throwError("The given callback is not a function."),this}formSubmitArrayNumericString(e){return o.isFunction(e)?e(this.formArrayNumericString()):o.throwError("The given callback is not a function."),this}formSubmitArrayFormatted(e){return o.isFunction(e)?e(this.formArrayFormatted()):o.throwError("The given callback is not a function."),this}formSubmitArrayLocalized(e,t=null){return o.isFunction(e)?e(this.formArrayLocalized(t)):o.throwError("The given callback is not a function."),this}formSubmitJsonNumericString(e){return o.isFunction(e)?e(this.formJsonNumericString()):o.throwError("The given callback is not a function."),this}formSubmitJsonFormatted(e){return o.isFunction(e)?e(this.formJsonFormatted()):o.throwError("The given callback is not a function."),this}formSubmitJsonLocalized(e,t=null){return o.isFunction(e)?e(this.formJsonLocalized(t)):o.throwError("The given callback is not a function."),this}static _unformatAltHovered(e){e.hoveredWithAlt=!0,e.unformat()}static _reformatAltHovered(e){e.hoveredWithAlt=!1,e.reformat()}static _getChildANInputElement(e){const t=e.getElementsByTagName("input"),i=[];return Array.prototype.slice.call(t,0).forEach(n=>{this.test(n)&&i.push(n)}),i}static test(e){return this._isInGlobalList(o.domElement(e))}static _createWeakMap(e){window[e]=new WeakMap}static _createGlobalList(){this.autoNumericGlobalListName="autoNumericGlobalList",this._createWeakMap(this.autoNumericGlobalListName)}static _doesGlobalListExists(){const e=typeof window[this.autoNumericGlobalListName];return e!=="undefined"&&e==="object"}static _addToGlobalList(e){this._doesGlobalListExists()||this._createGlobalList();const t=e.node();if(this._isInGlobalList(t)){if(this._getFromGlobalList(t)===this)return;o.warning("A reference to the DOM element you just initialized already exists in the global AutoNumeric element list. Please make sure to not initialize the same DOM element multiple times.",e.getSettings().showWarnings)}window[this.autoNumericGlobalListName].set(t,e)}static _removeFromGlobalList(e){this._doesGlobalListExists()&&window[this.autoNumericGlobalListName].delete(e.node())}static _getFromGlobalList(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].get(e):null}static _isInGlobalList(e){return this._doesGlobalListExists()?window[this.autoNumericGlobalListName].has(e):!1}_createLocalList(){this.autoNumericLocalList=new Map,this._addToLocalList(this.domElement)}_deleteLocalList(){delete this.autoNumericLocalList}_setLocalList(e){this.autoNumericLocalList=e}_getLocalList(){return this.autoNumericLocalList}_hasLocalList(){return this.autoNumericLocalList instanceof Map&&this.autoNumericLocalList.size!==0}_addToLocalList(e,t=null){o.isNull(t)&&(t=this),o.isUndefined(this.autoNumericLocalList)?o.throwError(`The local list provided does not exists when trying to add an element. [${this.autoNumericLocalList}] given.`):this.autoNumericLocalList.set(e,t)}_removeFromLocalList(e){o.isUndefined(this.autoNumericLocalList)?this.settings.createLocalList&&o.throwError(`The local list provided does not exists when trying to remove an element. [${this.autoNumericLocalList}] given.`):this.autoNumericLocalList.delete(e)}_mergeSettings(...e){Object.assign(this.settings,...e)}_cloneAndMergeSettings(...e){const t={};return Object.assign(t,this.settings,...e),t}static validate(e,t=!0,i=null){(o.isUndefinedOrNullOrEmpty(e)||!o.isObject(e))&&o.throwError(`The userOptions are invalid ; it should be a valid object, [${e}] given.`);const s=o.isObject(i);!s&&!o.isNull(i)&&o.throwError(`The 'originalOptions' parameter is invalid ; it should either be a valid option object or \`null\`, [${e}] given.`),o.isNull(e)||this._convertOldOptionsToNewOnes(e);let n;t?n=Object.assign({},this.getDefaultConfig(),e):n=e,!o.isTrueOrFalseString(n.showWarnings)&&!o.isBoolean(n.showWarnings)&&o.throwError(`The debug option 'showWarnings' is invalid ; it should be either 'true' or 'false', [${n.showWarnings}] given.`);const h=/^[0-9]+$/,u=/[0-9]+/,m=/^-?[0-9]+(\.?[0-9]+)?$/,g=/^[0-9]+(\.?[0-9]+)?$/;!o.isTrueOrFalseString(n.allowDecimalPadding)&&!o.isBoolean(n.allowDecimalPadding)&&n.allowDecimalPadding!==d.options.allowDecimalPadding.floats&&!(o.isNumber(n.allowDecimalPadding)&&n.allowDecimalPadding>0)&&o.throwError(`The decimal padding option 'allowDecimalPadding' is invalid ; it should either be \`false\`, \`true\`, \`'floats'\` or a positive integer superior to 0, [${n.allowDecimalPadding}] given.`),o.isNumber(n.allowDecimalPadding)&&n.allowDecimalPadding>n.decimalPlaces&&o.warning(`Setting 'allowDecimalPadding' to a number [${n.allowDecimalPadding}] superior to the current 'decimalPlaces' settings [${n.decimalPlaces}] is useless, since the padding will not be shown.`,n.showWarnings),(n.allowDecimalPadding===d.options.allowDecimalPadding.never||n.allowDecimalPadding==="false")&&(n.decimalPlaces!==d.options.decimalPlaces.none||n.decimalPlacesShownOnBlur!==d.options.decimalPlacesShownOnBlur.none||n.decimalPlacesShownOnFocus!==d.options.decimalPlacesShownOnFocus.none)&&o.warning(`Setting 'allowDecimalPadding' to [${n.allowDecimalPadding}] will override the current 'decimalPlaces*' settings [${n.decimalPlaces}, ${n.decimalPlacesShownOnBlur} and ${n.decimalPlacesShownOnFocus}].`,n.showWarnings),!o.isTrueOrFalseString(n.alwaysAllowDecimalCharacter)&&!o.isBoolean(n.alwaysAllowDecimalCharacter)&&o.throwError(`The option 'alwaysAllowDecimalCharacter' is invalid ; it should either be \`true\` or \`false\`, [${n.alwaysAllowDecimalCharacter}] given.`),!o.isNull(n.caretPositionOnFocus)&&!o.isInArray(n.caretPositionOnFocus,[d.options.caretPositionOnFocus.start,d.options.caretPositionOnFocus.end,d.options.caretPositionOnFocus.decimalLeft,d.options.caretPositionOnFocus.decimalRight])&&o.throwError(`The display on empty string option 'caretPositionOnFocus' is invalid ; it should either be \`null\`, 'focus', 'press', 'always' or 'zero', [${n.caretPositionOnFocus}] given.`);let v;s?v=i:v=this._correctCaretPositionOnFocusAndSelectOnFocusOptions(e),!o.isNull(v)&&v.caretPositionOnFocus!==d.options.caretPositionOnFocus.doNoForceCaretPosition&&v.selectOnFocus===d.options.selectOnFocus.select&&o.warning(`The 'selectOnFocus' option is set to 'select', which is in conflict with the 'caretPositionOnFocus' which is set to '${v.caretPositionOnFocus}'. As a result, if this has been called when instantiating an AutoNumeric object, the 'selectOnFocus' option is forced to 'doNotSelect'.`,n.showWarnings),o.isInArray(n.digitGroupSeparator,[d.options.digitGroupSeparator.comma,d.options.digitGroupSeparator.dot,d.options.digitGroupSeparator.normalSpace,d.options.digitGroupSeparator.thinSpace,d.options.digitGroupSeparator.narrowNoBreakSpace,d.options.digitGroupSeparator.noBreakSpace,d.options.digitGroupSeparator.noSeparator,d.options.digitGroupSeparator.apostrophe,d.options.digitGroupSeparator.arabicThousandsSeparator,d.options.digitGroupSeparator.dotAbove,d.options.digitGroupSeparator.privateUseTwo])||o.throwError(`The thousand separator character option 'digitGroupSeparator' is invalid ; it should be ',', '.', '', '', "'", '', ' ', '', '', '' or empty (''), [${n.digitGroupSeparator}] given.`),!o.isTrueOrFalseString(n.showOnlyNumbersOnFocus)&&!o.isBoolean(n.showOnlyNumbersOnFocus)&&o.throwError(`The 'showOnlyNumbersOnFocus' option is invalid ; it should be either 'true' or 'false', [${n.showOnlyNumbersOnFocus}] given.`),!o.isInArray(n.digitalGroupSpacing,[d.options.digitalGroupSpacing.two,d.options.digitalGroupSpacing.twoThree,d.options.digitalGroupSpacing.twoScaled,d.options.digitalGroupSpacing.three,d.options.digitalGroupSpacing.four])&&!(n.digitalGroupSpacing>=2&&n.digitalGroupSpacing<=4)&&o.throwError(`The grouping separator option for thousands 'digitalGroupSpacing' is invalid ; it should be '2', '2t', '2s', '3', or '4', [${n.digitalGroupSpacing}] given.`),o.isInArray(n.decimalCharacter,[d.options.decimalCharacter.comma,d.options.decimalCharacter.dot,d.options.decimalCharacter.middleDot,d.options.decimalCharacter.arabicDecimalSeparator,d.options.decimalCharacter.decimalSeparatorKeySymbol])||o.throwError(`The decimal separator character option 'decimalCharacter' is invalid ; it should be '.', ',', '', '' or '', [${n.decimalCharacter}] given.`),n.decimalCharacter===n.digitGroupSeparator&&o.throwError(`autoNumeric will not function properly when the decimal character 'decimalCharacter' [${n.decimalCharacter}] and the thousand separator 'digitGroupSeparator' [${n.digitGroupSeparator}] are the same character.`),!o.isNull(n.decimalCharacterAlternative)&&!o.isString(n.decimalCharacterAlternative)&&o.throwError(`The alternate decimal separator character option 'decimalCharacterAlternative' is invalid ; it should be a string, [${n.decimalCharacterAlternative}] given.`),n.currencySymbol!==""&&!o.isString(n.currencySymbol)&&o.throwError(`The currency symbol option 'currencySymbol' is invalid ; it should be a string, [${n.currencySymbol}] given.`),o.isInArray(n.currencySymbolPlacement,[d.options.currencySymbolPlacement.prefix,d.options.currencySymbolPlacement.suffix])||o.throwError(`The placement of the currency sign option 'currencySymbolPlacement' is invalid ; it should either be 'p' (prefix) or 's' (suffix), [${n.currencySymbolPlacement}] given.`),o.isInArray(n.negativePositiveSignPlacement,[d.options.negativePositiveSignPlacement.prefix,d.options.negativePositiveSignPlacement.suffix,d.options.negativePositiveSignPlacement.left,d.options.negativePositiveSignPlacement.right,d.options.negativePositiveSignPlacement.none])||o.throwError(`The placement of the negative sign option 'negativePositiveSignPlacement' is invalid ; it should either be 'p' (prefix), 's' (suffix), 'l' (left), 'r' (right) or 'null', [${n.negativePositiveSignPlacement}] given.`),!o.isTrueOrFalseString(n.showPositiveSign)&&!o.isBoolean(n.showPositiveSign)&&o.throwError(`The show positive sign option 'showPositiveSign' is invalid ; it should be either 'true' or 'false', [${n.showPositiveSign}] given.`),(!o.isString(n.suffixText)||n.suffixText!==""&&(o.isNegative(n.suffixText,n.negativeSignCharacter)||u.test(n.suffixText)))&&o.throwError(`The additional suffix option 'suffixText' is invalid ; it should not contains the negative sign '${n.negativeSignCharacter}' nor any numerical characters, [${n.suffixText}] given.`),(!o.isString(n.negativeSignCharacter)||n.negativeSignCharacter.length!==1||o.isUndefinedOrNullOrEmpty(n.negativeSignCharacter)||u.test(n.negativeSignCharacter))&&o.throwError(`The negative sign character option 'negativeSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [${n.negativeSignCharacter}] given.`),(!o.isString(n.positiveSignCharacter)||n.positiveSignCharacter.length!==1||o.isUndefinedOrNullOrEmpty(n.positiveSignCharacter)||u.test(n.positiveSignCharacter))&&o.throwError(`The positive sign character option 'positiveSignCharacter' is invalid ; it should be a single character, and cannot be any numerical characters, [${n.positiveSignCharacter}] given.
If you want to show the positive sign character, you need to set the \`showPositiveSign\` option to \`true\`.`),n.negativeSignCharacter===n.positiveSignCharacter&&o.throwError(`The positive 'positiveSignCharacter' and negative 'negativeSignCharacter' sign characters cannot be identical ; [${n.negativeSignCharacter}] given.`),!o.isTrueOrFalseString(n.negativePositiveSignBehavior)&&!o.isBoolean(n.negativePositiveSignBehavior)&&o.throwError(`The option 'negativePositiveSignBehavior' is invalid ; it should be either 'true' or 'false', [${n.negativePositiveSignBehavior}] given.`);const[y,O]=o.isNull(n.negativeBracketsTypeOnBlur)?["",""]:n.negativeBracketsTypeOnBlur.split(",");(o.contains(n.digitGroupSeparator,n.negativeSignCharacter)||o.contains(n.decimalCharacter,n.negativeSignCharacter)||o.contains(n.decimalCharacterAlternative,n.negativeSignCharacter)||o.contains(y,n.negativeSignCharacter)||o.contains(O,n.negativeSignCharacter)||o.contains(n.suffixText,n.negativeSignCharacter))&&o.throwError(`The negative sign character option 'negativeSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [${n.negativeSignCharacter}] given.`),(o.contains(n.digitGroupSeparator,n.positiveSignCharacter)||o.contains(n.decimalCharacter,n.positiveSignCharacter)||o.contains(n.decimalCharacterAlternative,n.positiveSignCharacter)||o.contains(y,n.positiveSignCharacter)||o.contains(O,n.positiveSignCharacter)||o.contains(n.suffixText,n.positiveSignCharacter))&&o.throwError(`The positive sign character option 'positiveSignCharacter' is invalid ; it should not be equal or a part of the digit separator, the decimal character, the decimal character alternative, the negative brackets or the suffix text, [${n.positiveSignCharacter}] given.`),!o.isNull(n.overrideMinMaxLimits)&&!o.isInArray(n.overrideMinMaxLimits,[d.options.overrideMinMaxLimits.ceiling,d.options.overrideMinMaxLimits.floor,d.options.overrideMinMaxLimits.ignore,d.options.overrideMinMaxLimits.invalid])&&o.throwError(`The override min & max limits option 'overrideMinMaxLimits' is invalid ; it should either be 'ceiling', 'floor', 'ignore' or 'invalid', [${n.overrideMinMaxLimits}] given.`),n.overrideMinMaxLimits!==d.options.overrideMinMaxLimits.invalid&&n.overrideMinMaxLimits!==d.options.overrideMinMaxLimits.ignore&&(n.minimumValue>0||n.maximumValue<0)&&o.warning("You've set a `minimumValue` or a `maximumValue` excluding the value `0`. AutoNumeric will force the users to always have a valid value in the input, hence preventing them to clear the field. If you want to allow for temporary invalid values (i.e. out-of-range), you should use the 'invalid' option for the 'overrideMinMaxLimits' setting."),(!o.isString(n.maximumValue)||!m.test(n.maximumValue))&&o.throwError(`The maximum possible value option 'maximumValue' is invalid ; it should be a string that represents a positive or negative number, [${n.maximumValue}] given.`),(!o.isString(n.minimumValue)||!m.test(n.minimumValue))&&o.throwError(`The minimum possible value option 'minimumValue' is invalid ; it should be a string that represents a positive or negative number, [${n.minimumValue}] given.`),parseFloat(n.minimumValue)>parseFloat(n.maximumValue)&&o.throwError(`The minimum possible value option is greater than the maximum possible value option ; 'minimumValue' [${n.minimumValue}] should be smaller than 'maximumValue' [${n.maximumValue}].`),o.isInt(n.decimalPlaces)&&n.decimalPlaces>=0||o.isString(n.decimalPlaces)&&h.test(n.decimalPlaces)||o.throwError(`The number of decimal places option 'decimalPlaces' is invalid ; it should be a positive integer, [${n.decimalPlaces}] given.`),o.isNull(n.decimalPlacesRawValue)||o.isInt(n.decimalPlacesRawValue)&&n.decimalPlacesRawValue>=0||o.isString(n.decimalPlacesRawValue)&&h.test(n.decimalPlacesRawValue)||o.throwError(`The number of decimal places for the raw value option 'decimalPlacesRawValue' is invalid ; it should be a positive integer or \`null\`, [${n.decimalPlacesRawValue}] given.`),this._validateDecimalPlacesRawValue(n),!o.isNull(n.decimalPlacesShownOnFocus)&&!h.test(String(n.decimalPlacesShownOnFocus))&&o.throwError(`The number of expanded decimal places option 'decimalPlacesShownOnFocus' is invalid ; it should be a positive integer or \`null\`, [${n.decimalPlacesShownOnFocus}] given.`),!o.isNull(n.decimalPlacesShownOnFocus)&&Number(n.decimalPlaces)>Number(n.decimalPlacesShownOnFocus)&&o.warning(`The extended decimal places 'decimalPlacesShownOnFocus' [${n.decimalPlacesShownOnFocus}] should be greater than the 'decimalPlaces' [${n.decimalPlaces}] value. Currently, this will limit the ability of your user to manually change some of the decimal places. Do you really want to do that?`,n.showWarnings),(!o.isNull(n.divisorWhenUnfocused)&&!g.test(n.divisorWhenUnfocused)||n.divisorWhenUnfocused===0||n.divisorWhenUnfocused==="0"||n.divisorWhenUnfocused===1||n.divisorWhenUnfocused==="1")&&o.throwError(`The divisor option 'divisorWhenUnfocused' is invalid ; it should be a positive number higher than one, preferably an integer, [${n.divisorWhenUnfocused}] given.`),!o.isNull(n.decimalPlacesShownOnBlur)&&!h.test(n.decimalPlacesShownOnBlur)&&o.throwError(`The number of decimals shown when unfocused option 'decimalPlacesShownOnBlur' is invalid ; it should be a positive integer or \`null\`, [${n.decimalPlacesShownOnBlur}] given.`),!o.isNull(n.symbolWhenUnfocused)&&!o.isString(n.symbolWhenUnfocused)&&o.throwError(`The symbol to show when unfocused option 'symbolWhenUnfocused' is invalid ; it should be a string, [${n.symbolWhenUnfocused}] given.`),!o.isTrueOrFalseString(n.saveValueToSessionStorage)&&!o.isBoolean(n.saveValueToSessionStorage)&&o.throwError(`The save to session storage option 'saveValueToSessionStorage' is invalid ; it should be either 'true' or 'false', [${n.saveValueToSessionStorage}] given.`),o.isInArray(n.onInvalidPaste,[d.options.onInvalidPaste.error,d.options.onInvalidPaste.ignore,d.options.onInvalidPaste.clamp,d.options.onInvalidPaste.truncate,d.options.onInvalidPaste.replace])||o.throwError(`The paste behavior option 'onInvalidPaste' is invalid ; it should either be 'error', 'ignore', 'clamp', 'truncate' or 'replace' (cf. documentation), [${n.onInvalidPaste}] given.`),o.isInArray(n.roundingMethod,[d.options.roundingMethod.halfUpSymmetric,d.options.roundingMethod.halfUpAsymmetric,d.options.roundingMethod.halfDownSymmetric,d.options.roundingMethod.halfDownAsymmetric,d.options.roundingMethod.halfEvenBankersRounding,d.options.roundingMethod.upRoundAwayFromZero,d.options.roundingMethod.downRoundTowardZero,d.options.roundingMethod.toCeilingTowardPositiveInfinity,d.options.roundingMethod.toFloorTowardNegativeInfinity,d.options.roundingMethod.toNearest05,d.options.roundingMethod.toNearest05Alt,d.options.roundingMethod.upToNext05,d.options.roundingMethod.downToNext05])||o.throwError(`The rounding method option 'roundingMethod' is invalid ; it should either be 'S', 'A', 's', 'a', 'B', 'U', 'D', 'C', 'F', 'N05', 'CHF', 'U05' or 'D05' (cf. documentation), [${n.roundingMethod}] given.`),!o.isNull(n.negativeBracketsTypeOnBlur)&&!o.isInArray(n.negativeBracketsTypeOnBlur,[d.options.negativeBracketsTypeOnBlur.parentheses,d.options.negativeBracketsTypeOnBlur.brackets,d.options.negativeBracketsTypeOnBlur.chevrons,d.options.negativeBracketsTypeOnBlur.curlyBraces,d.options.negativeBracketsTypeOnBlur.angleBrackets,d.options.negativeBracketsTypeOnBlur.japaneseQuotationMarks,d.options.negativeBracketsTypeOnBlur.halfBrackets,d.options.negativeBracketsTypeOnBlur.whiteSquareBrackets,d.options.negativeBracketsTypeOnBlur.quotationMarks,d.options.negativeBracketsTypeOnBlur.guillemets])&&o.throwError(`The brackets for negative values option 'negativeBracketsTypeOnBlur' is invalid ; it should either be '(,)', '[,]', '<,>', '{,}', ',', ',', ',', ',', ',' or ',', [${n.negativeBracketsTypeOnBlur}] given.`),(!(o.isString(n.emptyInputBehavior)||o.isNumber(n.emptyInputBehavior))||!(o.isInArray(n.emptyInputBehavior,[d.options.emptyInputBehavior.focus,d.options.emptyInputBehavior.press,d.options.emptyInputBehavior.always,d.options.emptyInputBehavior.min,d.options.emptyInputBehavior.max,d.options.emptyInputBehavior.zero,d.options.emptyInputBehavior.null])||m.test(n.emptyInputBehavior)))&&o.throwError(`The display on empty string option 'emptyInputBehavior' is invalid ; it should either be 'focus', 'press', 'always', 'min', 'max', 'zero', 'null', a number, or a string that represents a number, [${n.emptyInputBehavior}] given.`),n.emptyInputBehavior===d.options.emptyInputBehavior.zero&&(n.minimumValue>0||n.maximumValue<0)&&o.throwError(`The 'emptyInputBehavior' option is set to 'zero', but this value is outside of the range defined by 'minimumValue' and 'maximumValue' [${n.minimumValue}, ${n.maximumValue}].`),m.test(String(n.emptyInputBehavior))&&(this._isWithinRangeWithOverrideOption(n.emptyInputBehavior,n)||o.throwError(`The 'emptyInputBehavior' option is set to a number or a string that represents a number, but its value [${n.emptyInputBehavior}] is outside of the range defined by the 'minimumValue' and 'maximumValue' options [${n.minimumValue}, ${n.maximumValue}].`)),!o.isTrueOrFalseString(n.eventBubbles)&&!o.isBoolean(n.eventBubbles)&&o.throwError(`The event bubbles option 'eventBubbles' is invalid ; it should be either 'true' or 'false', [${n.eventBubbles}] given.`),!o.isTrueOrFalseString(n.eventIsCancelable)&&!o.isBoolean(n.eventIsCancelable)&&o.throwError(`The event is cancelable option 'eventIsCancelable' is invalid ; it should be either 'true' or 'false', [${n.eventIsCancelable}] given.`),(o.isBoolean(n.invalidClass)||!/^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$/.test(n.invalidClass))&&o.throwError(`The name of the 'invalidClass' option is not a valid CSS class name ; it should not be empty, and should follow the '^-?[_a-zA-Z]+[_a-zA-Z0-9-]*$' regex, [${n.invalidClass}] given.`),o.isInArray(n.leadingZero,[d.options.leadingZero.allow,d.options.leadingZero.deny,d.options.leadingZero.keep])||o.throwError(`The leading zero behavior option 'leadingZero' is invalid ; it should either be 'allow', 'deny' or 'keep', [${n.leadingZero}] given.`),!o.isTrueOrFalseString(n.formatOnPageLoad)&&!o.isBoolean(n.formatOnPageLoad)&&o.throwError(`The format on initialization option 'formatOnPageLoad' is invalid ; it should be either 'true' or 'false', [${n.formatOnPageLoad}] given.`),!o.isTrueOrFalseString(n.formulaMode)&&!o.isBoolean(n.formulaMode)&&o.throwError(`The formula mode option 'formulaMode' is invalid ; it should be either 'true' or 'false', [${n.formulaMode}] given.`),(!h.test(n.historySize)||n.historySize===0)&&o.throwError(`The history size option 'historySize' is invalid ; it should be a positive integer, [${n.historySize}] given.`),!o.isTrueOrFalseString(n.selectNumberOnly)&&!o.isBoolean(n.selectNumberOnly)&&o.throwError(`The select number only option 'selectNumberOnly' is invalid ; it should be either 'true' or 'false', [${n.selectNumberOnly}] given.`),!o.isTrueOrFalseString(n.selectOnFocus)&&!o.isBoolean(n.selectOnFocus)&&o.throwError(`The select on focus option 'selectOnFocus' is invalid ; it should be either 'true' or 'false', [${n.selectOnFocus}] given.`),!o.isNull(n.defaultValueOverride)&&n.defaultValueOverride!==""&&!m.test(n.defaultValueOverride)&&o.throwError(`The unformatted default value option 'defaultValueOverride' is invalid ; it should be a string that represents a positive or negative number, [${n.defaultValueOverride}] given.`),!o.isTrueOrFalseString(n.unformatOnSubmit)&&!o.isBoolean(n.unformatOnSubmit)&&o.throwError(`The remove formatting on submit option 'unformatOnSubmit' is invalid ; it should be either 'true' or 'false', [${n.unformatOnSubmit}] given.`),!o.isNull(n.valuesToStrings)&&!o.isObject(n.valuesToStrings)&&o.throwError(`The option 'valuesToStrings' is invalid ; it should be an object, ideally with 'key -> value' entries, [${n.valuesToStrings}] given.`),!o.isNull(n.outputFormat)&&!o.isInArray(n.outputFormat,[d.options.outputFormat.string,d.options.outputFormat.number,d.options.outputFormat.dot,d.options.outputFormat.negativeDot,d.options.outputFormat.comma,d.options.outputFormat.negativeComma,d.options.outputFormat.dotNegative,d.options.outputFormat.commaNegative])&&o.throwError(`The custom locale format option 'outputFormat' is invalid ; it should either be null, 'string', 'number', '.', '-.', ',', '-,', '.-' or ',-', [${n.outputFormat}] given.`),!o.isTrueOrFalseString(n.isCancellable)&&!o.isBoolean(n.isCancellable)&&o.throwError(`The cancellable behavior option 'isCancellable' is invalid ; it should be either 'true' or 'false', [${n.isCancellable}] given.`),!o.isTrueOrFalseString(n.modifyValueOnUpDownArrow)&&!o.isBoolean(n.modifyValueOnUpDownArrow)&&o.throwError(`The increment/decrement on up and down arrow keys 'modifyValueOnUpDownArrow' is invalid ; it should be either 'true' or 'false', [${n.modifyValueOnUpDownArrow}] given.`),!o.isTrueOrFalseString(n.modifyValueOnWheel)&&!o.isBoolean(n.modifyValueOnWheel)&&o.throwError(`The increment/decrement on mouse wheel option 'modifyValueOnWheel' is invalid ; it should be either 'true' or 'false', [${n.modifyValueOnWheel}] given.`),!o.isTrueOrFalseString(n.watchExternalChanges)&&!o.isBoolean(n.watchExternalChanges)&&o.throwError(`The option 'watchExternalChanges' is invalid ; it should be either 'true' or 'false', [${n.watchExternalChanges}] given.`),o.isInArray(n.wheelOn,[d.options.wheelOn.focus,d.options.wheelOn.hover])||o.throwError(`The wheel behavior option 'wheelOn' is invalid ; it should either be 'focus' or 'hover', [${n.wheelOn}] given.`),(!(o.isString(n.upDownStep)||o.isNumber(n.upDownStep))||n.upDownStep!=="progressive"&&!g.test(n.upDownStep)||Number(n.upDownStep)===0)&&o.throwError(`The up/down arrow step value option 'upDownStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [${n.upDownStep}] given.`),(!(o.isString(n.wheelStep)||o.isNumber(n.wheelStep))||n.wheelStep!=="progressive"&&!g.test(n.wheelStep)||Number(n.wheelStep)===0)&&o.throwError(`The wheel step value option 'wheelStep' is invalid ; it should either be the string 'progressive', or a number or a string that represents a positive number (excluding zero), [${n.wheelStep}] given.`),o.isInArray(n.serializeSpaces,[d.options.serializeSpaces.plus,d.options.serializeSpaces.percent])||o.throwError(`The space replacement character option 'serializeSpaces' is invalid ; it should either be '+' or '%20', [${n.serializeSpaces}] given.`),!o.isTrueOrFalseString(n.noEventListeners)&&!o.isBoolean(n.noEventListeners)&&o.throwError(`The option 'noEventListeners' that prevent the creation of event listeners is invalid ; it should be either 'true' or 'false', [${n.noEventListeners}] given.`),!o.isNull(n.styleRules)&&!(o.isObject(n.styleRules)&&(Object.prototype.hasOwnProperty.call(n.styleRules,"positive")||Object.prototype.hasOwnProperty.call(n.styleRules,"negative")||Object.prototype.hasOwnProperty.call(n.styleRules,"ranges")||Object.prototype.hasOwnProperty.call(n.styleRules,"userDefined")))&&o.throwError(`The option 'styleRules' is invalid ; it should be a correctly structured object, with one or more 'positive', 'negative', 'ranges' or 'userDefined' attributes, [${n.styleRules}] given.`),!o.isNull(n.styleRules)&&Object.prototype.hasOwnProperty.call(n.styleRules,"userDefined")&&!o.isNull(n.styleRules.userDefined)&&n.styleRules.userDefined.forEach(N=>{Object.prototype.hasOwnProperty.call(N,"callback")&&!o.isFunction(N.callback)&&o.throwError(`The callback defined in the \`userDefined\` attribute is not a function, ${typeof N.callback} given.`)}),(!o.isNull(n.rawValueDivisor)&&!g.test(n.rawValueDivisor)||n.rawValueDivisor===0||n.rawValueDivisor==="0"||n.rawValueDivisor===1||n.rawValueDivisor==="1")&&o.throwError(`The raw value divisor option 'rawValueDivisor' is invalid ; it should be a positive number higher than one, preferably an integer, [${n.rawValueDivisor}] given.`),!o.isTrueOrFalseString(n.readOnly)&&!o.isBoolean(n.readOnly)&&o.throwError(`The option 'readOnly' is invalid ; it should be either 'true' or 'false', [${n.readOnly}] given.`),!o.isTrueOrFalseString(n.unformatOnHover)&&!o.isBoolean(n.unformatOnHover)&&o.throwError(`The option 'unformatOnHover' is invalid ; it should be either 'true' or 'false', [${n.unformatOnHover}] given.`),!o.isTrueOrFalseString(n.failOnUnknownOption)&&!o.isBoolean(n.failOnUnknownOption)&&o.throwError(`The debug option 'failOnUnknownOption' is invalid ; it should be either 'true' or 'false', [${n.failOnUnknownOption}] given.`),!o.isTrueOrFalseString(n.createLocalList)&&!o.isBoolean(n.createLocalList)&&o.throwError(`The debug option 'createLocalList' is invalid ; it should be either 'true' or 'false', [${n.createLocalList}] given.`)}static _validateDecimalPlacesRawValue(e){o.isNull(e.decimalPlacesRawValue)||(e.decimalPlacesRawValue<e.decimalPlaces&&o.warning(`The number of decimal places to store in the raw value [${e.decimalPlacesRawValue}] is lower than the ones to display [${e.decimalPlaces}]. This will likely confuse your users.
To solve that, you'd need to either set \`decimalPlacesRawValue\` to \`null\`, or set a number of decimal places for the raw value equal of bigger than \`decimalPlaces\`.`,e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnFocus&&o.warning(`The number of decimal places to store in the raw value [${e.decimalPlacesRawValue}] is lower than the ones shown on focus [${e.decimalPlacesShownOnFocus}]. This will likely confuse your users.
To solve that, you'd need to either set \`decimalPlacesRawValue\` to \`null\`, or set a number of decimal places for the raw value equal of bigger than \`decimalPlacesShownOnFocus\`.`,e.showWarnings),e.decimalPlacesRawValue<e.decimalPlacesShownOnBlur&&o.warning(`The number of decimal places to store in the raw value [${e.decimalPlacesRawValue}] is lower than the ones shown when unfocused [${e.decimalPlacesShownOnBlur}]. This will likely confuse your users.
To solve that, you'd need to either set \`decimalPlacesRawValue\` to \`null\`, or set a number of decimal places for the raw value equal of bigger than \`decimalPlacesShownOnBlur\`.`,e.showWarnings))}static areSettingsValid(e){let t=!0;try{this.validate(e,!0)}catch{t=!1}return t}static getDefaultConfig(){return d.defaultSettings}static getPredefinedOptions(){return d.predefinedOptions}static _generateOptionsObjectFromOptionsArray(e){let t;return o.isUndefinedOrNullOrEmpty(e)||e.length===0?t=null:(t={},e.length===1&&Array.isArray(e[0])?e[0].forEach(i=>{Object.assign(t,this._getOptionObject(i))}):e.length>=1&&e.forEach(i=>{Object.assign(t,this._getOptionObject(i))})),t}static format(e,...t){if(o.isUndefined(e)||e===null)return null;let i;o.isElement(e)?i=o.getElementValue(e):i=e,!o.isString(i)&&!o.isNumber(i)&&o.throwError(`The value "${i}" being "set" is not numeric and therefore cannot be used appropriately.`);const s=this._generateOptionsObjectFromOptionsArray(t),n=Object.assign({},this.getDefaultConfig(),s);n.isNegativeSignAllowed=i<0,n.isPositiveSignAllowed=i>=0,this._setBrackets(n);const h={};this._cachesUsualRegularExpressions(n,h);let u=this._toNumericValue(i,n);return isNaN(Number(u))&&o.throwError(`The value [${u}] that you are trying to format is not a recognized number.`),this._isWithinRangeWithOverrideOption(u,n)||(o.triggerEvent(d.events.formatted,document,{oldValue:null,newValue:null,oldRawValue:null,newRawValue:null,isPristine:null,error:"Range test failed",aNElement:null},!0,!0),o.throwError(`The value [${u}] being set falls outside of the minimumValue [${n.minimumValue}] and maximumValue [${n.maximumValue}] range set for this element`)),n.valuesToStrings&&this._checkValuesToStringsSettings(i,n)?n.valuesToStrings[i]:(this._correctNegativePositiveSignPlacementOption(n),this._calculateDecimalPlacesOnInit(n),!o.isUndefinedOrNullOrEmpty(n.rawValueDivisor)&&n.rawValueDivisor!==0&&u!==""&&u!==null&&(u*=n.rawValueDivisor),u=this._roundFormattedValueShownOnFocus(u,n),u=this._modifyNegativeSignAndDecimalCharacterForFormattedValue(u,n),u=this._addGroupSeparators(u,n,!1,u),u)}static formatAndSet(e,t=null){const i=this.format(e,t);return o.setElementValue(e,i),i}static unformat(e,...t){if(o.isNumberStrict(e))return e;let i;if(o.isElement(e)?i=o.getElementValue(e):i=e,i==="")return"";if(o.isUndefined(i)||i===null)return null;(o.isArray(i)||o.isObject(i))&&o.throwError(`A number or a string representing a number is needed to be able to unformat it, [${i}] given.`);const s=this._generateOptionsObjectFromOptionsArray(t),n=Object.assign({},this.getDefaultConfig(),s);return n.isNegativeSignAllowed=!1,n.isPositiveSignAllowed=!0,i=i.toString(),n.valuesToStrings&&this._checkStringsToValuesSettings(i,n)?o.objectKeyLookup(n.valuesToStrings,i):(o.isNegative(i,n.negativeSignCharacter)?(n.isNegativeSignAllowed=!0,n.isPositiveSignAllowed=!1):o.isNull(n.negativeBracketsTypeOnBlur)||([n.firstBracket,n.lastBracket]=n.negativeBracketsTypeOnBlur.split(","),i.charAt(0)===n.firstBracket&&i.charAt(i.length-1)===n.lastBracket&&(n.isNegativeSignAllowed=!0,n.isPositiveSignAllowed=!1,i=this._removeBrackets(i,n,!1))),i=this._convertToNumericString(i,n),o.isNumber(Number(i))&&(i=o.scientificToDecimal(i)),new RegExp("[^+-0123456789.]","gi").test(i)?NaN:(this._correctNegativePositiveSignPlacementOption(n),n.decimalPlacesRawValue?n.originalDecimalPlacesRawValue=n.decimalPlacesRawValue:n.originalDecimalPlacesRawValue=n.decimalPlaces,this._calculateDecimalPlacesOnInit(n),!o.isUndefinedOrNullOrEmpty(n.rawValueDivisor)&&n.rawValueDivisor!==0&&i!==""&&i!==null&&(i/=n.rawValueDivisor),i=this._roundRawValue(i,n),i=i.replace(n.decimalCharacter,"."),i=this._toLocale(i,n.outputFormat,n),i))}static unformatAndSet(e,t=null){const i=this.unformat(e,t);return o.setElementValue(e,i),i}static localize(e,t=null){let i;if(o.isElement(e)?i=o.getElementValue(e):i=e,i==="")return"";o.isNull(t)&&(t=d.defaultSettings),i=this.unformat(i,t),Number(i)===0&&t.leadingZero!==d.options.leadingZero.keep&&(i="0");let s;return o.isNull(t)?s=t.outputFormat:s=d.defaultSettings.outputFormat,this._toLocale(i,s,t)}static localizeAndSet(e,t=null){const i=this.localize(e,t);return o.setElementValue(e,i),i}static isManagedByAutoNumeric(e){return this._isInGlobalList(o.domElement(e))}static getAutoNumericElement(e){const t=o.domElement(e);return this.isManagedByAutoNumeric(t)?this._getFromGlobalList(t):null}static set(e,t,i=null,s=!0){const n=o.domElement(e);if(!this.isManagedByAutoNumeric(n)){let h;return!o.isNull(i)&&Object.prototype.hasOwnProperty.call(i,"showWarnings")?h=i.showWarnings:h=!0,o.warning("Impossible to find an AutoNumeric object for the given DOM element or selector.",h),null}return this.getAutoNumericElement(n).set(t,i,s)}static getNumericString(e,t=null){return this._get(e,"getNumericString",t)}static getFormatted(e,t=null){return this._get(e,"getFormatted",t)}static getNumber(e,t=null){return this._get(e,"getNumber",t)}static _get(e,t,i=null){const s=o.domElement(e);return this.isManagedByAutoNumeric(s)||o.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(s)[t](i)}static getLocalized(e,t=null,i=null){const s=o.domElement(e);return this.isManagedByAutoNumeric(s)||o.throwError("Impossible to find an AutoNumeric object for the given DOM element or selector."),this.getAutoNumericElement(s).getLocalized(t,i)}_updatePredefinedOptions(e,t=null){return o.isNull(t)?this.update(e):(this._mergeSettings(e,t),this.update(this.settings)),this}french(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().French,e),this}northAmerican(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().NorthAmerican,e),this}british(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().British,e),this}swiss(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().Swiss,e),this}japanese(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().Japanese,e),this}spanish(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().Spanish,e),this}chinese(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().Chinese,e),this}brazilian(e=null){return this._updatePredefinedOptions(d.getPredefinedOptions().Brazilian,e),this}_runCallbacksFoundInTheSettingsObject(){for(const e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){const t=this.settings[e];if(typeof t=="function")this.settings[e]=t(this,e);else{let i="";e in this.domElement.dataset&&(i=this.domElement.dataset[e]),i=o.camelize(i),typeof this.settings[i]=="function"&&(this.settings[e]=i(this,e))}}}_setTrailingNegativeSignInfo(){this.isTrailingNegative=this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.suffix||this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix&&(this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.left||this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.right)}static _stripAllNonNumberCharacters(e,t,i,s){return this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,i,s).replace(t.decimalCharacter,".")}static _stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,i,s){e=this._normalizeCurrencySuffixAndNegativeSignCharacters(e,t),e=e.replace(t.allowedAutoStrip,"");const n=e.match(t.numRegAutoStrip);if(e=n?[n[1],n[2],n[3]].join(""):"",t.leadingZero===d.options.leadingZero.allow||t.leadingZero===d.options.leadingZero.keep){let h="";const[u,m]=e.split(t.decimalCharacter);let g=u;o.contains(g,t.negativeSignCharacter)&&(h=t.negativeSignCharacter,g=g.replace(t.negativeSignCharacter,"")),h===""&&g.length>t.mIntPos&&g.charAt(0)==="0"&&(g=g.slice(1)),h!==""&&g.length>t.mIntNeg&&g.charAt(0)==="0"&&(g=g.slice(1)),e=`${h}${g}${o.isUndefined(m)?"":t.decimalCharacter+m}`}return(i&&t.leadingZero===d.options.leadingZero.deny||!s&&t.leadingZero===d.options.leadingZero.allow)&&(e=e.replace(t.stripReg,"$1$2")),e}static _toggleNegativeBracket(e,t,i){let s;return i?s=this._removeBrackets(e,t):s=this._addBrackets(e,t),s}static _addBrackets(e,t){return o.isNull(t.negativeBracketsTypeOnBlur)?e:`${t.firstBracket}${e.replace(t.negativeSignCharacter,"")}${t.lastBracket}`}static _removeBrackets(e,t,i=!0){let s;return!o.isNull(t.negativeBracketsTypeOnBlur)&&e.charAt(0)===t.firstBracket?(s=e.replace(t.firstBracket,""),s=s.replace(t.lastBracket,""),i?(s=s.replace(t.currencySymbol,""),s=this._mergeCurrencySignNegativePositiveSignAndValue(s,t,!0,!1)):s=`${t.negativeSignCharacter}${s}`):s=e,s}static _setBrackets(e){if(o.isNull(e.negativeBracketsTypeOnBlur))e.firstBracket="",e.lastBracket="";else{const[t,i]=e.negativeBracketsTypeOnBlur.split(",");e.firstBracket=t,e.lastBracket=i}}static _convertToNumericString(e,t){e=this._removeBrackets(e,t,!1),e=this._normalizeCurrencySuffixAndNegativeSignCharacters(e,t),e=e.replace(new RegExp(`[${t.digitGroupSeparator}]`,"g"),""),t.decimalCharacter!=="."&&(e=e.replace(t.decimalCharacter,".")),o.isNegative(e)&&e.lastIndexOf("-")===e.length-1&&(e=e.replace("-",""),e=`-${e}`),t.showPositiveSign&&(e=e.replace(t.positiveSignCharacter,""));const i=t.leadingZero!==d.options.leadingZero.keep,s=o.arabicToLatinNumbers(e,i,!1,!1);return isNaN(s)||(e=s.toString()),e}static _normalizeCurrencySuffixAndNegativeSignCharacters(e,t){return e=String(e),t.currencySymbol!==d.options.currencySymbol.none&&(e=e.replace(t.currencySymbol,"")),t.suffixText!==d.options.suffixText.none&&(e=e.replace(t.suffixText,"")),t.negativeSignCharacter!==d.options.negativeSignCharacter.hyphen&&(e=e.replace(t.negativeSignCharacter,"-")),e}static _toLocale(e,t,i){if(o.isNull(t)||t===d.options.outputFormat.string)return e;let s;switch(t){case d.options.outputFormat.number:s=Number(e);break;case d.options.outputFormat.dotNegative:s=o.isNegative(e)?e.replace("-","")+"-":e;break;case d.options.outputFormat.comma:case d.options.outputFormat.negativeComma:s=e.replace(".",",");break;case d.options.outputFormat.commaNegative:s=e.replace(".",","),s=o.isNegative(s)?s.replace("-","")+"-":s;break;case d.options.outputFormat.dot:case d.options.outputFormat.negativeDot:s=e;break;default:o.throwError(`The given outputFormat [${t}] option is not recognized.`)}return t!==d.options.outputFormat.number&&i.negativeSignCharacter!=="-"&&(s=s.replace("-",i.negativeSignCharacter)),s}_modifyNegativeSignAndDecimalCharacterForRawValue(e){return this.settings.decimalCharacter!=="."&&(e=e.replace(this.settings.decimalCharacter,".")),this.settings.negativeSignCharacter!=="-"&&this.settings.isNegativeSignAllowed&&(e=e.replace(this.settings.negativeSignCharacter,"-")),e.match(/\d/)||(e+="0"),e}static _modifyNegativeSignAndDecimalCharacterForFormattedValue(e,t){return t.negativeSignCharacter!=="-"&&(e=e.replace("-",t.negativeSignCharacter)),t.decimalCharacter!=="."&&(e=e.replace(".",t.decimalCharacter)),e}static _isElementValueEmptyOrOnlyTheNegativeSign(e,t){return e===""||e===t.negativeSignCharacter}static _orderValueCurrencySymbolAndSuffixText(e,t,i){let s;if(t.emptyInputBehavior===d.options.emptyInputBehavior.always||i)switch(t.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.left:case d.options.negativePositiveSignPlacement.prefix:case d.options.negativePositiveSignPlacement.none:s=e+t.currencySymbol+t.suffixText;break;default:s=t.currencySymbol+e+t.suffixText}else s=e;return s}static _addGroupSeparators(e,t,i,s,n=null){let h;if(o.isNull(n)?h=o.isNegative(e,t.negativeSignCharacter)||o.isNegativeWithBrackets(e,t.firstBracket,t.lastBracket):h=n<0,e=this._stripAllNonNumberCharactersExceptCustomDecimalChar(e,t,!1,i),this._isElementValueEmptyOrOnlyTheNegativeSign(e,t))return this._orderValueCurrencySymbolAndSuffixText(e,t,!0);const u=o.isZeroOrHasNoValue(e);h&&(e=e.replace("-",""));let[m,g]=e.split(t.decimalCharacter);if(t.decimalCharacterAlternative&&o.isUndefined(g)&&([m,g]=e.split(t.decimalCharacterAlternative)),t.digitGroupSeparator!==""){t.digitalGroupSpacing=t.digitalGroupSpacing.toString();let O;switch(t.digitalGroupSpacing){case d.options.digitalGroupSpacing.twoThree:O=/(\d)((\d)(\d{2}?)+)$/;break;case d.options.digitalGroupSpacing.twoScaled:O=/(\d)((?:\d{2}){0,2}\d{3}(?:(?:\d{2}){2}\d{3})*?)$/;break;case d.options.digitalGroupSpacing.two:case d.options.digitalGroupSpacing.three:case d.options.digitalGroupSpacing.four:default:O=new RegExp(`(\\d)((\\d{${t.digitalGroupSpacing}}?)+)$`)}for(;O.test(m);)m=m.replace(O,`$1${t.digitGroupSeparator}$2`)}let v;i?v=t.decimalPlacesShownOnFocus:v=t.decimalPlacesShownOnBlur,v!==0&&!o.isUndefined(g)?(g.length>v&&(g=g.substring(0,v)),e=`${m}${t.decimalCharacter}${g}`):e=m,e=d._mergeCurrencySignNegativePositiveSignAndValue(e,t,h,u),o.isNull(n)&&(n=s),t.negativeBracketsTypeOnBlur!==null&&(n<0||o.isNegativeStrict(e,t.negativeSignCharacter))&&(e=this._toggleNegativeBracket(e,t,i));let y;return t.suffixText?y=`${e}${t.suffixText}`:y=e,y}static _mergeCurrencySignNegativePositiveSignAndValue(e,t,i,s){let n="";i?n=t.negativeSignCharacter:t.showPositiveSign&&!s&&(n=t.positiveSignCharacter);let h;if(t.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix)if(t.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(i||!i&&t.showPositiveSign&&!s))switch(t.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.prefix:case d.options.negativePositiveSignPlacement.left:h=`${n}${t.currencySymbol}${e}`;break;case d.options.negativePositiveSignPlacement.right:h=`${t.currencySymbol}${n}${e}`;break;case d.options.negativePositiveSignPlacement.suffix:h=`${t.currencySymbol}${e}${n}`;break}else h=t.currencySymbol+e;else if(t.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix)if(t.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(i||!i&&t.showPositiveSign&&!s))switch(t.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.suffix:case d.options.negativePositiveSignPlacement.right:h=`${e}${t.currencySymbol}${n}`;break;case d.options.negativePositiveSignPlacement.left:h=`${e}${n}${t.currencySymbol}`;break;case d.options.negativePositiveSignPlacement.prefix:h=`${n}${e}${t.currencySymbol}`;break}else h=e+t.currencySymbol;return h}_initialCaretPosition(e){o.isNull(this.settings.caretPositionOnFocus)&&this.settings.selectOnFocus===d.options.selectOnFocus.doNotSelect&&o.throwError("`_initialCaretPosition()` should never be called when the `caretPositionOnFocus` option is `null`.");const t=this.rawValue<0,i=o.isZeroOrHasNoValue(e),s=e.length;let n=0,h=0,u=!1,m=0;this.settings.caretPositionOnFocus!==d.options.caretPositionOnFocus.start&&(e=e.replace(this.settings.negativeSignCharacter,""),e=e.replace(this.settings.positiveSignCharacter,""),e=e.replace(this.settings.currencySymbol,""),n=e.length,u=o.contains(e,this.settings.decimalCharacter),(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.decimalLeft||this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.decimalRight)&&(u?(h=e.indexOf(this.settings.decimalCharacter),m=this.settings.decimalCharacter.length):(h=n,m=0)));let g="";t?g=this.settings.negativeSignCharacter:this.settings.showPositiveSign&&!i&&(g=this.settings.positiveSignCharacter);const v=g.length,y=this.settings.currencySymbol.length;let O;if(this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix){if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.prefix:case d.options.negativePositiveSignPlacement.left:case d.options.negativePositiveSignPlacement.right:O=v+y;break;case d.options.negativePositiveSignPlacement.suffix:O=y;break}else O=y;else if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.prefix:case d.options.negativePositiveSignPlacement.left:case d.options.negativePositiveSignPlacement.right:O=s;break;case d.options.negativePositiveSignPlacement.suffix:O=y+n;break}else O=s;else if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.prefix:case d.options.negativePositiveSignPlacement.left:case d.options.negativePositiveSignPlacement.right:O=v+y+h;break;case d.options.negativePositiveSignPlacement.suffix:O=y+h;break}else O=y+h;else if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.prefix:case d.options.negativePositiveSignPlacement.left:case d.options.negativePositiveSignPlacement.right:O=v+y+h+m;break;case d.options.negativePositiveSignPlacement.suffix:O=y+h+m;break}else O=y+h+m}else if(this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix){if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.start)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.suffix:case d.options.negativePositiveSignPlacement.right:case d.options.negativePositiveSignPlacement.left:O=0;break;case d.options.negativePositiveSignPlacement.prefix:O=v;break}else O=0;else if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.end)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.suffix:case d.options.negativePositiveSignPlacement.right:case d.options.negativePositiveSignPlacement.left:O=n;break;case d.options.negativePositiveSignPlacement.prefix:O=v+n;break}else O=n;else if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.decimalLeft)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.suffix:case d.options.negativePositiveSignPlacement.right:case d.options.negativePositiveSignPlacement.left:O=h;break;case d.options.negativePositiveSignPlacement.prefix:O=v+h;break}else O=h;else if(this.settings.caretPositionOnFocus===d.options.caretPositionOnFocus.decimalRight)if(this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.none&&(t||!t&&this.settings.showPositiveSign&&!i))switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.suffix:case d.options.negativePositiveSignPlacement.right:case d.options.negativePositiveSignPlacement.left:O=h+m;break;case d.options.negativePositiveSignPlacement.prefix:O=v+h+m;break}else O=h+m}return O}static _truncateZeros(e,t){let i;switch(t){case 0:i=/(\.(?:\d*[1-9])?)0*$/;break;case 1:i=/(\.\d(?:\d*[1-9])?)0*$/;break;default:i=new RegExp(`(\\.\\d{${t}}(?:\\d*[1-9])?)0*`)}return e=e.replace(i,"$1"),t===0&&(e=e.replace(/\.$/,"")),e}static _roundRawValue(e,t){return this._roundValue(e,t,t.decimalPlacesRawValue)}static _roundFormattedValueShownOnFocus(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnFocus))}static _roundFormattedValueShownOnBlur(e,t){return this._roundValue(e,t,Number(t.decimalPlacesShownOnBlur))}static _roundFormattedValueShownOnFocusOrBlur(e,t,i){return i?this._roundFormattedValueShownOnFocus(e,t):this._roundFormattedValueShownOnBlur(e,t)}static _roundValue(e,t,i){if(o.isNull(e))return e;if(e=e===""?"0":e.toString(),t.roundingMethod===d.options.roundingMethod.toNearest05||t.roundingMethod===d.options.roundingMethod.toNearest05Alt||t.roundingMethod===d.options.roundingMethod.upToNext05||t.roundingMethod===d.options.roundingMethod.downToNext05)return this._roundCloseTo05(e,t);const[s,n]=d._prepareValueForRounding(e,t);e=n;const h=e.lastIndexOf("."),u=h===-1,[m,g]=e.split(".");if(!(g>0)&&(t.allowDecimalPadding===d.options.allowDecimalPadding.never||t.allowDecimalPadding===d.options.allowDecimalPadding.floats))return Number(e)===0?m:`${s}${m}`;let y;t.allowDecimalPadding===d.options.allowDecimalPadding.always||t.allowDecimalPadding===d.options.allowDecimalPadding.floats?y=i:t.allowDecimalPadding>0?y=t.allowDecimalPadding:y=0;const O=u?e.length-1:h;let N=e.length-1-O,w="";if(N<=i){if(w=e,N<y){u&&(w=`${w}${t.decimalCharacter}`);let A="000000";for(;N<y;)A=A.substring(0,y-N),w+=A,N+=A.length}else N>y?w=this._truncateZeros(w,y):N===0&&y===0&&(w=w.replace(/\.$/,""));return Number(w)===0?w:`${s}${w}`}let k;u?k=i-1:k=Number(i)+Number(h);const b=Number(e.charAt(k+1));let E=e.substring(0,k+1).split(""),x;if(e.charAt(k)==="."?x=e.charAt(k-1)%2:x=e.charAt(k)%2,this._shouldRoundUp(b,t,s,x)){for(let A=E.length-1;A>=0;A-=1)if(E[A]!=="."){if(E[A]=+E[A]+1,E[A]<10)break;A>0&&(E[A]="0")}}return E=E.slice(0,k+1),w=this._truncateZeros(E.join(""),y),Number(w)===0?w:`${s}${w}`}static _roundCloseTo05(e,t){switch(t.roundingMethod){case d.options.roundingMethod.toNearest05:case d.options.roundingMethod.toNearest05Alt:e=(Math.round(e*20)/20).toString();break;case d.options.roundingMethod.upToNext05:e=(Math.ceil(e*20)/20).toString();break;default:e=(Math.floor(e*20)/20).toString()}let i;return o.contains(e,".")?e.length-e.indexOf(".")<3?i=e+"0":i=e:i=e+".00",i}static _prepareValueForRounding(e,t){let i="";return o.isNegativeStrict(e,"-")&&(i="-",e=e.replace("-","")),e.match(/^\d/)||(e=`0${e}`),Number(e)===0&&(i=""),(Number(e)>0&&t.leadingZero!==d.options.leadingZero.keep||e.length>0&&t.leadingZero===d.options.leadingZero.allow)&&(e=e.replace(/^0*(\d)/,"$1")),[i,e]}static _shouldRoundUp(e,t,i,s){return e>4&&t.roundingMethod===d.options.roundingMethod.halfUpSymmetric||e>4&&t.roundingMethod===d.options.roundingMethod.halfUpAsymmetric&&i===""||e>5&&t.roundingMethod===d.options.roundingMethod.halfUpAsymmetric&&i==="-"||e>5&&t.roundingMethod===d.options.roundingMethod.halfDownSymmetric||e>5&&t.roundingMethod===d.options.roundingMethod.halfDownAsymmetric&&i===""||e>4&&t.roundingMethod===d.options.roundingMethod.halfDownAsymmetric&&i==="-"||e>5&&t.roundingMethod===d.options.roundingMethod.halfEvenBankersRounding||e===5&&t.roundingMethod===d.options.roundingMethod.halfEvenBankersRounding&&s===1||e>0&&t.roundingMethod===d.options.roundingMethod.toCeilingTowardPositiveInfinity&&i===""||e>0&&t.roundingMethod===d.options.roundingMethod.toFloorTowardNegativeInfinity&&i==="-"||e>0&&t.roundingMethod===d.options.roundingMethod.upRoundAwayFromZero}static _truncateDecimalPlaces(e,t,i,s){i&&(e=this._roundFormattedValueShownOnFocus(e,t));const[n,h]=e.split(t.decimalCharacter);if(h&&h.length>s)if(s>0){const u=h.substring(0,s);e=`${n}${t.decimalCharacter}${u}`}else e=n;return e}static _checkIfInRangeWithOverrideOption(e,t){if(o.isNull(e)&&t.emptyInputBehavior===d.options.emptyInputBehavior.null||t.overrideMinMaxLimits===d.options.overrideMinMaxLimits.ignore||t.overrideMinMaxLimits===d.options.overrideMinMaxLimits.invalid)return[!0,!0];e=e.toString(),e=e.replace(",",".");const i=o.parseStr(t.minimumValue),s=o.parseStr(t.maximumValue),n=o.parseStr(e);let h;switch(t.overrideMinMaxLimits){case d.options.overrideMinMaxLimits.floor:h=[o.testMinMax(i,n)>-1,!0];break;case d.options.overrideMinMaxLimits.ceiling:h=[!0,o.testMinMax(s,n)<1];break;default:h=[o.testMinMax(i,n)>-1,o.testMinMax(s,n)<1]}return h}static _isWithinRangeWithOverrideOption(e,t){const[i,s]=this._checkIfInRangeWithOverrideOption(e,t);return i&&s}static _cleanValueForRangeParse(e){return e=e.toString().replace(",","."),o.parseStr(e)}static _isMinimumRangeRespected(e,t){return o.testMinMax(o.parseStr(t.minimumValue),this._cleanValueForRangeParse(e))>-1}static _isMaximumRangeRespected(e,t){return o.testMinMax(o.parseStr(t.maximumValue),this._cleanValueForRangeParse(e))<1}_triggerRangeEvents(e,t){e||this._triggerEvent(d.events.minRangeExceeded,this.domElement),t||this._triggerEvent(d.events.maxRangeExceeded,this.domElement)}_setInvalidState(){this.isInputElement?o.setInvalidState(this.domElement):this._addCSSClass(this.settings.invalidClass),this._triggerEvent(d.events.invalidValue,this.domElement),this.validState=!1}_setValidState(){this.isInputElement?o.setValidState(this.domElement):this._removeCSSClass(this.settings.invalidClass),this.validState||this._triggerEvent(d.events.correctedValue,this.domElement),this.validState=!0}_setValidOrInvalidState(e){if(this.settings.overrideMinMaxLimits===d.options.overrideMinMaxLimits.invalid){const t=this.constructor._isMinimumRangeRespected(e,this.settings),i=this.constructor._isMaximumRangeRespected(e,this.settings);t&&i?this._setValidState():this._setInvalidState(),this._triggerRangeEvents(t,i)}}_keepAnOriginalSettingsCopy(){this.originalDigitGroupSeparator=this.settings.digitGroupSeparator,this.originalCurrencySymbol=this.settings.currencySymbol,this.originalSuffixText=this.settings.suffixText}_trimLeadingAndTrailingZeros(e){if(e===""||e===null)return e;if(this.settings.leadingZero!==d.options.leadingZero.keep){if(Number(e)===0)return"0";e=e.replace(/^(-)?0+(?=\d)/g,"$1")}return o.contains(e,".")&&(e=e.replace(/(\.[0-9]*?)0+$/,"$1")),e=e.replace(/\.$/,""),e}_setPersistentStorageName(){this.settings.saveValueToSessionStorage&&(this.domElement.name!==""&&!o.isUndefined(this.domElement.name)?this.rawValueStorageName=`${this.storageNamePrefix}${decodeURIComponent(this.domElement.name)}`:this.rawValueStorageName=`${this.storageNamePrefix}${this.domElement.id}`)}_saveValueToPersistentStorage(){this.settings.saveValueToSessionStorage&&sessionStorage.setItem(this.rawValueStorageName,this.rawValue)}_getValueFromPersistentStorage(){return this.settings.saveValueToSessionStorage?sessionStorage.getItem(this.rawValueStorageName):(o.warning("`_getValueFromPersistentStorage()` is called but `settings.saveValueToSessionStorage` is false. There must be an error that needs fixing.",this.settings.showWarnings),null)}_removeValueFromPersistentStorage(){this.settings.saveValueToSessionStorage&&sessionStorage.removeItem(this.rawValueStorageName)}_getDefaultValue(e){const t=e.getAttribute("value");return o.isNull(t)?"":t}_onFocusInAndMouseEnter(e){if(this.isEditing=!1,!this.formulaMode&&this.settings.unformatOnHover&&e.type==="mouseenter"&&e.altKey){this.constructor._unformatAltHovered(this);return}if(e.type==="focus"&&(this.isFocused=!0,this.rawValueOnFocus=this.rawValue),e.type==="focus"&&this.settings.unformatOnHover&&this.hoveredWithAlt&&this.constructor._reformatAltHovered(this),e.type==="focus"||e.type==="mouseenter"&&!this.isFocused){let t=null;this.settings.emptyInputBehavior===d.options.emptyInputBehavior.focus&&this.rawValue<0&&this.settings.negativeBracketsTypeOnBlur!==null&&this.settings.isNegativeSignAllowed&&(t=this.constructor._removeBrackets(o.getElementValue(this.domElement),this.settings));const i=this._getRawValueToFormat(this.rawValue);if(i!==""){const u=this.constructor._roundFormattedValueShownOnFocusOrBlur(i,this.settings,this.isFocused);if(this.settings.showOnlyNumbersOnFocus===d.options.showOnlyNumbersOnFocus.onlyNumbers)this.settings.digitGroupSeparator="",this.settings.currencySymbol="",this.settings.suffixText="",t=u.replace(".",this.settings.decimalCharacter);else{let m;o.isNull(u)?m="":m=this.constructor._addGroupSeparators(u.replace(".",this.settings.decimalCharacter),this.settings,this.isFocused,i),t=m}}o.isNull(t)?this.valueOnFocus="":this.valueOnFocus=t,this.lastVal=this.valueOnFocus;const s=this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(this.valueOnFocus,this.settings),n=this.constructor._orderValueCurrencySymbolAndSuffixText(this.valueOnFocus,this.settings,!0),h=s&&n!==""&&this.settings.emptyInputBehavior===d.options.emptyInputBehavior.focus;h&&(t=n),o.isNull(t)||this._setElementValue(t),h&&n===this.settings.currencySymbol&&this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix&&o.setElementSelection(e.target,0)}}_onFocus(){this.settings.isCancellable&&this._saveCancellableValue()}_onFocusIn(e){this.settings.selectOnFocus?this.select():o.isNull(this.settings.caretPositionOnFocus)||o.setElementSelection(e.target,this._initialCaretPosition(o.getElementValue(this.domElement)))}_enterFormulaMode(){this.settings.formulaMode&&(this.formulaMode=!0,o.setElementValue(this.domElement,"="),o.setElementSelection(this.domElement,1))}_exitFormulaMode(){let e=o.getElementValue(this.domElement);e=e.replace(/^\s*=/,"");let t;try{const i=new Na(e,this.settings.decimalCharacter);t=new Ea().evaluate(i)}catch{this._triggerEvent(d.events.invalidFormula,this.domElement,{formula:e,aNElement:this}),this.reformat(),this.formulaMode=!1;return}this._triggerEvent(d.events.validFormula,this.domElement,{formula:e,result:t,aNElement:this}),this.set(t),this.formulaMode=!1}_acceptNonPrintableKeysInFormulaMode(){return this.eventKey===T.keyName.Backspace||this.eventKey===T.keyName.Delete||this.eventKey===T.keyName.LeftArrow||this.eventKey===T.keyName.RightArrow||this.eventKey===T.keyName.Home||this.eventKey===T.keyName.End}_onKeydown(e){if(this.formatted=!1,this.isEditing=!0,!this.formulaMode&&!this.isFocused&&this.settings.unformatOnHover&&e.altKey&&this.domElement===o.getHoveredElement()){this.constructor._unformatAltHovered(this);return}if(this._updateEventKeyInfo(e),this.keydownEventCounter+=1,this.keydownEventCounter===1&&(this.initialValueOnFirstKeydown=o.getElementValue(e.target),this.initialRawValueOnFirstKeydown=this.rawValue),this.formulaMode){if(this.eventKey===T.keyName.Esc){this.formulaMode=!1,this.reformat();return}if(this.eventKey===T.keyName.Enter){this._exitFormulaMode();return}if(this._acceptNonPrintableKeysInFormulaMode())return}else{if(this.eventKey===T.keyName.Equal){this._enterFormulaMode();return}if(this.settings.modifyValueOnUpDownArrow&&(this.eventKey===T.keyName.UpArrow||this.eventKey===T.keyName.DownArrow)){this.upDownArrowAction(e);return}}if(this.domElement.readOnly||this.settings.readOnly||this.domElement.disabled){this.processed=!0;return}this.eventKey===T.keyName.Esc&&(e.preventDefault(),this.settings.isCancellable&&this.rawValue!==this.savedCancellableValue&&(this.set(this.savedCancellableValue),this._triggerEvent(d.events.native.input,e.target)),this.select());let t=o.getElementValue(e.target);if(this.eventKey===T.keyName.Enter&&this.rawValue!==this.rawValueOnFocus&&(this._triggerEvent(d.events.native.change,e.target),this.valueOnFocus=t,this.rawValueOnFocus=this.rawValue,this.settings.isCancellable&&this._saveCancellableValue()),this._updateInternalProperties(e),this._processNonPrintableKeysAndShortcuts(e)){this.processed=!0;return}if(this.eventKey===T.keyName.Backspace||this.eventKey===T.keyName.Delete){const i=this._processCharacterDeletion(e);if(this.processed=!0,!i){e.preventDefault();return}this._formatValue(e),t=o.getElementValue(e.target),t!==this.lastVal&&this.throwInput&&(this._triggerEvent(d.events.native.input,e.target),e.preventDefault()),this.lastVal=t,this.throwInput=!0}}_onKeypress(e){if(this.formulaMode){if(this._acceptNonPrintableKeysInFormulaMode()||this.settings.formulaChars.test(this.eventKey))return;e.preventDefault();return}if(this.eventKey===T.keyName.Insert)return;const t=this.processed;if(this._updateInternalProperties(e),this._processNonPrintableKeysAndShortcuts(e))return;if(t){e.preventDefault();return}if(this._processCharacterInsertion()){this._formatValue(e);const s=o.getElementValue(e.target);if(s!==this.lastVal&&this.throwInput)this._triggerEvent(d.events.native.input,e.target),e.preventDefault();else{if((this.eventKey===this.settings.decimalCharacter||this.eventKey===this.settings.decimalCharacterAlternative)&&o.getElementSelection(e.target).start===o.getElementSelection(e.target).end&&o.getElementSelection(e.target).start===s.indexOf(this.settings.decimalCharacter)){const n=o.getElementSelection(e.target).start+1;o.setElementSelection(e.target,n)}e.preventDefault()}this.lastVal=o.getElementValue(e.target),this.throwInput=!0,this._setValidOrInvalidState(this.rawValue);return}e.preventDefault()}_onKeyup(e){if(this.isEditing=!1,this.keydownEventCounter=0,this.formulaMode)return;if(this.settings.isCancellable&&this.eventKey===T.keyName.Esc){e.preventDefault();return}if(this._updateEventKeyInfo(e),this.eventKey===T.keyName.Z||this.eventKey===T.keyName.z){if(e.ctrlKey&&e.shiftKey){e.preventDefault(),this._historyTableRedo(),this._triggerEvent(d.events.native.input,e.target),this.onGoingRedo=!0;return}else if(e.ctrlKey&&!e.shiftKey)if(this.onGoingRedo)this.onGoingRedo=!1;else{e.preventDefault(),this._historyTableUndo(),this._triggerEvent(d.events.native.input,e.target);return}}else if((this.eventKey===T.keyName.Y||this.eventKey===T.keyName.y)&&e.ctrlKey){e.preventDefault(),this._historyTableRedo(),this._triggerEvent(d.events.native.input,e.target),this.onGoingRedo=!0;return}if(this.onGoingRedo&&(e.ctrlKey||e.shiftKey)&&(this.onGoingRedo=!1),(e.ctrlKey||e.metaKey)&&(this.eventKey===T.keyName.X||this.eventKey===T.keyName.x)){const s=o.getElementSelection(this.domElement).start,n=this.constructor._toNumericValue(o.getElementValue(e.target),this.settings);this.set(n),this._setCaretPosition(s)}if(this.eventKey===T.keyName.Alt&&this.settings.unformatOnHover&&this.hoveredWithAlt){this.constructor._reformatAltHovered(this);return}if((e.ctrlKey||e.metaKey)&&(this.eventKey===T.keyName.Backspace||this.eventKey===T.keyName.Delete)){const s=o.getElementValue(e.target);this._setRawValue(this._formatOrUnformatOther(!1,s));return}this._updateInternalProperties(e);const t=this._processNonPrintableKeysAndShortcuts(e);delete this.valuePartsBeforePaste;const i=o.getElementValue(e.target);if(!(t||i===""&&this.initialValueOnFirstKeydown==="")&&(i===this.settings.currencySymbol?this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix?o.setElementSelection(e.target,0):o.setElementSelection(e.target,this.settings.currencySymbol.length):this.eventKey===T.keyName.Tab&&o.setElementSelection(e.target,0,i.length),(i===this.settings.suffixText||this.rawValue===""&&this.settings.currencySymbol!==""&&this.settings.suffixText!=="")&&o.setElementSelection(e.target,0),this.settings.decimalPlacesShownOnFocus!==null&&this._saveValueToPersistentStorage(),this.formatted||this._formatValue(e),this._setValidOrInvalidState(this.rawValue),this._saveRawValueForAndroid(),i!==this.initialValueOnFirstKeydown&&this._triggerEvent(d.events.formatted,e.target,{oldValue:this.initialValueOnFirstKeydown,newValue:i,oldRawValue:this.initialRawValueOnFirstKeydown,newRawValue:this.rawValue,isPristine:this.isPristine(!1),error:null,aNElement:this}),this.historyTable.length>1)){const s=o.getElementSelection(this.domElement);this.selectionStart=s.start,this.selectionEnd=s.end,this.historyTable[this.historyTableIndex].start=this.selectionStart,this.historyTable[this.historyTableIndex].end=this.selectionEnd}}_saveRawValueForAndroid(){if(this.eventKey===T.keyName.AndroidDefault){let e=this.constructor._stripAllNonNumberCharactersExceptCustomDecimalChar(this.getFormatted(),this.settings,!0,this.isFocused);e=this.constructor._convertToNumericString(e,this.settings),this._setRawValue(e)}}_onFocusOutAndMouseLeave(e){if(this.isEditing=!1,!(e.type==="mouseleave"&&this.formulaMode)){if(this.settings.unformatOnHover&&e.type==="mouseleave"&&this.hoveredWithAlt){this.constructor._reformatAltHovered(this);return}if(e.type==="mouseleave"&&!this.isFocused||e.type==="blur"){e.type==="blur"&&this.formulaMode&&this._exitFormulaMode(),this._saveValueToPersistentStorage(),this.settings.showOnlyNumbersOnFocus===d.options.showOnlyNumbersOnFocus.onlyNumbers&&(this.settings.digitGroupSeparator=this.originalDigitGroupSeparator,this.settings.currencySymbol=this.originalCurrencySymbol,this.settings.suffixText=this.originalSuffixText);const t=this._getRawValueToFormat(this.rawValue),i=o.isNull(t),[s,n]=this.constructor._checkIfInRangeWithOverrideOption(t,this.settings);let h=!1;if(t!==""&&!i&&(this._triggerRangeEvents(s,n),this.settings.valuesToStrings&&this._checkValuesToStrings(t)&&(this._setElementValue(this.settings.valuesToStrings[t]),h=!0)),!h){let u;if(i||t===""?u=t:u=String(t),t!==""&&!i)s&&n&&!this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(t,this.settings)?(u=this._modifyNegativeSignAndDecimalCharacterForRawValue(u),this.settings.divisorWhenUnfocused&&!o.isNull(u)&&(u=u/this.settings.divisorWhenUnfocused,u=u.toString()),u=this.constructor._roundFormattedValueShownOnBlur(u,this.settings),u=this.constructor._modifyNegativeSignAndDecimalCharacterForFormattedValue(u,this.settings)):this._triggerRangeEvents(s,n);else if(t==="")switch(this.settings.emptyInputBehavior){case d.options.emptyInputBehavior.zero:this._setRawValue("0"),u=this.constructor._roundValue("0",this.settings,0);break;case d.options.emptyInputBehavior.min:this._setRawValue(this.settings.minimumValue),u=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.minimumValue,this.settings,this.isFocused);break;case d.options.emptyInputBehavior.max:this._setRawValue(this.settings.maximumValue),u=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.maximumValue,this.settings,this.isFocused);break;default:o.isNumber(this.settings.emptyInputBehavior)&&(this._setRawValue(this.settings.emptyInputBehavior),u=this.constructor._roundFormattedValueShownOnFocusOrBlur(this.settings.emptyInputBehavior,this.settings,this.isFocused))}let m=this.constructor._orderValueCurrencySymbolAndSuffixText(u,this.settings,!1);this.constructor._isElementValueEmptyOrOnlyTheNegativeSign(u,this.settings)||i&&this.settings.emptyInputBehavior===d.options.emptyInputBehavior.null||(m=this.constructor._addGroupSeparators(u,this.settings,!1,t)),(m!==t||t===""||this.settings.allowDecimalPadding===d.options.allowDecimalPadding.never||this.settings.allowDecimalPadding===d.options.allowDecimalPadding.floats)&&(this.settings.symbolWhenUnfocused&&t!==""&&t!==null&&(m=`${m}${this.settings.symbolWhenUnfocused}`),this._setElementValue(m))}this._setValidOrInvalidState(this.rawValue),e.type==="blur"&&this._onBlur(e)}}}_onPaste(e){if(e.preventDefault(),this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)return;let t;e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):o.throwError("Unable to retrieve the pasted value. Please use a modern browser (i.e. Firefox or Chromium).");let i;e.target.tagName?i=e.target:i=e.explicitOriginalTarget;const s=o.getElementValue(i),n=i.selectionStart||0,h=i.selectionEnd||0,u=h-n;if(u===s.length){const q=this._preparePastedText(t),z=o.arabicToLatinNumbers(q,!1,!1,!1);if(z==="."||z===""||z!=="."&&!o.isNumber(z)){this.formatted=!0,this.settings.onInvalidPaste===d.options.onInvalidPaste.error&&o.throwError(`The pasted value '${t}' is not a valid paste content.`);return}this.set(z),this.formatted=!0,this._triggerEvent(d.events.native.input,i);return}const m=o.isNegativeStrict(t,this.settings.negativeSignCharacter);m&&(t=t.slice(1,t.length));const g=this._preparePastedText(t);let v;if(g==="."?v=".":v=o.arabicToLatinNumbers(g,!1,!1,!1),v!=="."&&(!o.isNumber(v)||v==="")){this.formatted=!0,this.settings.onInvalidPaste===d.options.onInvalidPaste.error&&o.throwError(`The pasted value '${t}' is not a valid paste content.`);return}let y,O=o.isNegativeStrict(this.getNumericString(),this.settings.negativeSignCharacter),N,w;m&&!O?(O=!0,N=!0):N=!1;const k=s.slice(0,n),b=s.slice(h,s.length);n!==h?w=this._preparePastedText(k+b):w=this._preparePastedText(s),O&&(w=o.setRawNegativeSign(w)),y=o.convertCharacterCountToIndexPosition(o.countNumberCharactersOnTheCaretLeftSide(s,n,this.settings.decimalCharacter)),N&&y++;let E=w.slice(0,y),x=w.slice(y,w.length),A=!1;v==="."&&(o.contains(E,".")&&(A=!0,E=E.replace(".","")),x=x.replace(".",""));let B=!1;switch(E===""&&x==="-"&&(E="-",x="",B=!0),this.settings.onInvalidPaste){case d.options.onInvalidPaste.truncate:case d.options.onInvalidPaste.replace:const q=o.parseStr(this.settings.minimumValue),z=o.parseStr(this.settings.maximumValue);let ae=w,se=0,ge=E;for(;se<v.length&&(ge+=v[se],w=ge+x,!!this.constructor._checkIfInRange(w,q,z));)ae=w,se++;if(y+=se,B&&y++,this.settings.onInvalidPaste===d.options.onInvalidPaste.truncate){w=ae,A&&y--;break}let fe=y;const at=ae.length;for(;se<v.length&&fe<at;){if(ae[fe]==="."){fe++;continue}if(w=o.replaceCharAt(ae,fe,v[se]),!this.constructor._checkIfInRange(w,q,z))break;ae=w,se++,fe++}y=fe,A&&y--,w=ae;break;case d.options.onInvalidPaste.error:case d.options.onInvalidPaste.ignore:case d.options.onInvalidPaste.clamp:default:if(w=`${E}${v}${x}`,n===h)y=o.convertCharacterCountToIndexPosition(o.countNumberCharactersOnTheCaretLeftSide(s,n,this.settings.decimalCharacter))+v.length;else if(x==="")y=o.convertCharacterCountToIndexPosition(o.countNumberCharactersOnTheCaretLeftSide(s,n,this.settings.decimalCharacter))+v.length,B&&y++;else{const Be=o.convertCharacterCountToIndexPosition(o.countNumberCharactersOnTheCaretLeftSide(s,h,this.settings.decimalCharacter)),lt=o.getElementValue(i).slice(n,h);y=Be-u+o.countCharInText(this.settings.digitGroupSeparator,lt)+v.length}N&&y++,A&&y--}if(!o.isNumber(w)||w===""){this.settings.onInvalidPaste===d.options.onInvalidPaste.error&&o.throwError(`The pasted value '${t}' would result into an invalid content '${w}'.`);return}let I=!1,U=!1;try{this.set(w),I=!0}catch{let z;switch(this.settings.onInvalidPaste){case d.options.onInvalidPaste.clamp:z=o.clampToRangeLimits(w,this.settings);try{this.set(z)}catch{o.throwError(`Fatal error: Unable to set the clamped value '${z}'.`)}U=!0,I=!0,w=z;break;case d.options.onInvalidPaste.error:case d.options.onInvalidPaste.truncate:case d.options.onInvalidPaste.replace:o.throwError(`The pasted value '${t}' results in a value '${w}' that is outside of the minimum [${this.settings.minimumValue}] and maximum [${this.settings.maximumValue}] value range.`);case d.options.onInvalidPaste.ignore:default:return}}const j=o.getElementValue(i);let H;if(I)switch(this.settings.onInvalidPaste){case d.options.onInvalidPaste.clamp:if(U){this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix?o.setElementSelection(i,j.length-this.settings.currencySymbol.length):o.setElementSelection(i,j.length);break}case d.options.onInvalidPaste.error:case d.options.onInvalidPaste.ignore:case d.options.onInvalidPaste.truncate:case d.options.onInvalidPaste.replace:default:H=o.findCaretPositionInFormattedNumber(w,y,j,this.settings.decimalCharacter),o.setElementSelection(i,H)}I&&s!==j&&this._triggerEvent(d.events.native.input,i)}_onBlur(e){this.isFocused=!1,this.isEditing=!1,o.trimPaddedZerosFromDecimalPlaces(this.rawValue)!==o.trimPaddedZerosFromDecimalPlaces(this.rawValueOnFocus)&&this._triggerEvent(d.events.native.change,e.target),this.rawValueOnFocus=void 0}_wheelAndUpDownActions(e,t,i,s){const n=e.target.selectionStart||0,h=e.target.selectionEnd||0,u=this.rawValue;let m;if(o.isUndefinedOrNullOrEmpty(u)?this.settings.minimumValue>0||this.settings.maximumValue<0?t?m=this.settings.minimumValue:m=this.settings.maximumValue:m=0:m=u,m=+m,o.isNumber(s)){const g=+s;t?m+=g:i&&(m-=g)}else t?m=o.addAndRoundToNearestAuto(m,this.settings.decimalPlacesRawValue):i&&(m=o.subtractAndRoundToNearestAuto(m,this.settings.decimalPlacesRawValue));m=o.clampToRangeLimits(m,this.settings),m!==+u&&(this.set(m),this._triggerEvent(d.events.native.input,e.target)),e.preventDefault(),this._setSelection(n,h)}upDownArrowAction(e){if(this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled)return;let t=!1,i=!1;this.eventKey===T.keyName.UpArrow?t=!0:this.eventKey===T.keyName.DownArrow?i=!0:o.throwError("Something has gone wrong since neither an Up or Down arrow key is detected, but the function was still called!"),this._wheelAndUpDownActions(e,t,i,this.settings.upDownStep)}_onWheel(e){this.formulaMode||this.settings.readOnly||this.domElement.readOnly||this.domElement.disabled||this.settings.modifyValueOnWheel&&(this.settings.wheelOn===d.options.wheelOn.focus?this.isFocused?e.shiftKey||this.wheelAction(e):e.shiftKey&&this.wheelAction(e):this.settings.wheelOn===d.options.wheelOn.hover?e.shiftKey?(e.preventDefault(),window.scrollBy(0,o.isNegativeStrict(String(e.deltaY))?-50:50)):this.wheelAction(e):o.throwError("Unknown `wheelOn` option."))}wheelAction(e){this.isWheelEvent=!0;let t=!1,i=!1,s=!1;o.isWheelUpEvent(e)?t=!0:o.isWheelDownEvent(e)?i=!0:o.isWheelEventWithZeroDeltaY(e)?s=!0:o.throwError("The event is not a 'wheel' event."),s||this._wheelAndUpDownActions(e,t,i,this.settings.wheelStep),this.isWheelEvent=!1}_onDrop(e){if(this.formulaMode)return;this.isDropEvent=!0,e.preventDefault();const t=e.dataTransfer.getData("text/plain"),i=this.unformatOther(t),s=this.rawValue;this.set(i),this.isDropEvent=!1;const n=this.constructor._toNumericValue(i,this.settings);isNaN(Number(n))||o.trimPaddedZerosFromDecimalPlaces(s)!==o.trimPaddedZerosFromDecimalPlaces(n)&&this._triggerEvent(d.events.native.change,this.domElement)}_onFormSubmit(){return this._getFormAutoNumericChildren(this.parentForm).map(i=>this.constructor.getAutoNumericElement(i)).forEach(i=>i._unformatOnSubmit()),!0}_onFormReset(){this._getFormAutoNumericChildren(this.parentForm).map(i=>this.constructor.getAutoNumericElement(i)).forEach(i=>{const s=this._getDefaultValue(i.node());setTimeout(()=>i.set(s),0)})}_unformatOnSubmit(){this.settings.unformatOnSubmit&&this._setElementValue(this.rawValue)}_onKeydownGlobal(e){if(o.character(e)===T.keyName.Alt){const t=o.getHoveredElement();if(d.isManagedByAutoNumeric(t)){const i=d.getAutoNumericElement(t);!i.formulaMode&&i.settings.unformatOnHover&&this.constructor._unformatAltHovered(i)}}}_onKeyupGlobal(e){if(o.character(e)===T.keyName.Alt){const t=o.getHoveredElement();if(d.isManagedByAutoNumeric(t)){const i=d.getAutoNumericElement(t);if(i.formulaMode||!i.settings.unformatOnHover)return;this.constructor._reformatAltHovered(i)}}}_isElementTagSupported(){return o.isElement(this.domElement)||o.throwError(`The DOM element is not valid, ${this.domElement} given.`),o.isInArray(this.domElement.tagName.toLowerCase(),this.allowedTagList)}_isInputElement(){return this.domElement.tagName.toLowerCase()==="input"}_isInputTypeSupported(){return this.domElement.type==="text"||this.domElement.type==="hidden"||this.domElement.type==="tel"||o.isUndefinedOrNullOrEmpty(this.domElement.type)}_checkElement(){const e=this.domElement.tagName.toLowerCase();this._isElementTagSupported()||o.throwError(`The <${e}> tag is not supported by autoNumeric`),this._isInputElement()?(this._isInputTypeSupported()||o.throwError(`The input type "${this.domElement.type}" is not supported by autoNumeric`),this.isInputElement=!0):(this.isInputElement=!1,this.isContentEditable=this._isContentEditable(this.domElement))}_isContentEditable(e){return e.hasAttribute("contenteditable")&&e.getAttribute("contenteditable")==="true"}_formatDefaultValueOnPageLoad(e=null){let t=!0,i;if(o.isNull(e)?(i=o.getElementValue(this.domElement).trim(),this.domElement.setAttribute("value",i)):i=e,this.isInputElement||this.isContentEditable){const s=this.constructor._toNumericValue(i,this.settings);if(!this.domElement.hasAttribute("value")||this.domElement.getAttribute("value")==="")!isNaN(Number(s))&&s!==1/0?(this.set(s),t=!1):o.throwError(`The value [${i}] used in the input is not a valid value autoNumeric can work with.`);else if(this.settings.defaultValueOverride!==null&&this.settings.defaultValueOverride.toString()!==i||this.settings.defaultValueOverride===null&&i!==""&&i!==this.domElement.getAttribute("value")||i!==""&&this.domElement.getAttribute("type")==="hidden"&&!o.isNumber(s)){if(this.settings.saveValueToSessionStorage&&(this.settings.decimalPlacesShownOnFocus!==null||this.settings.divisorWhenUnfocused)&&this._setRawValue(this._getValueFromPersistentStorage()),!this.settings.saveValueToSessionStorage){const n=this.constructor._removeBrackets(i,this.settings);(this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix)&&this.settings.negativeSignCharacter!==""&&o.isNegative(i,this.settings.negativeSignCharacter)?this._setRawValue(`-${this.constructor._stripAllNonNumberCharacters(n,this.settings,!0,this.isFocused)}`):this._setRawValue(this.constructor._stripAllNonNumberCharacters(n,this.settings,!0,this.isFocused))}t=!1}if(i==="")switch(this.settings.emptyInputBehavior){case d.options.emptyInputBehavior.focus:case d.options.emptyInputBehavior.press:break;case d.options.emptyInputBehavior.always:this._setElementValue(this.settings.currencySymbol);break;case d.options.emptyInputBehavior.min:this.set(this.settings.minimumValue);break;case d.options.emptyInputBehavior.max:this.set(this.settings.maximumValue);break;case d.options.emptyInputBehavior.zero:this.set("0");break;case d.options.emptyInputBehavior.null:this.set(null);break;default:this.set(this.settings.emptyInputBehavior)}else t&&i===this.domElement.getAttribute("value")&&this.set(i)}else(this.settings.defaultValueOverride===null||this.settings.defaultValueOverride===i)&&this.set(i)}static _correctNegativePositiveSignPlacementOption(e){if(o.isNull(e.negativePositiveSignPlacement))if(!o.isUndefined(e)&&o.isUndefinedOrNullOrEmpty(e.negativePositiveSignPlacement)&&!o.isUndefinedOrNullOrEmpty(e.currencySymbol))switch(e.currencySymbolPlacement){case d.options.currencySymbolPlacement.suffix:e.negativePositiveSignPlacement=d.options.negativePositiveSignPlacement.prefix;break;case d.options.currencySymbolPlacement.prefix:e.negativePositiveSignPlacement=d.options.negativePositiveSignPlacement.left;break}else e.negativePositiveSignPlacement=d.options.negativePositiveSignPlacement.left}static _correctCaretPositionOnFocusAndSelectOnFocusOptions(e){return o.isNull(e)?null:(!o.isUndefinedOrNullOrEmpty(e.caretPositionOnFocus)&&o.isUndefinedOrNullOrEmpty(e.selectOnFocus)&&(e.selectOnFocus=d.options.selectOnFocus.doNotSelect),o.isUndefinedOrNullOrEmpty(e.caretPositionOnFocus)&&!o.isUndefinedOrNullOrEmpty(e.selectOnFocus)&&e.selectOnFocus===d.options.selectOnFocus.select&&(e.caretPositionOnFocus=d.options.caretPositionOnFocus.doNoForceCaretPosition),e)}static _calculateDecimalPlacesOnInit(e){this._validateDecimalPlacesRawValue(e),e.decimalPlacesShownOnFocus===d.options.decimalPlacesShownOnFocus.useDefault&&(e.decimalPlacesShownOnFocus=e.decimalPlaces),e.decimalPlacesShownOnBlur===d.options.decimalPlacesShownOnBlur.useDefault&&(e.decimalPlacesShownOnBlur=e.decimalPlaces),e.decimalPlacesRawValue===d.options.decimalPlacesRawValue.useDefault&&(e.decimalPlacesRawValue=e.decimalPlaces);let t=0;e.rawValueDivisor&&e.rawValueDivisor!==d.options.rawValueDivisor.none&&(t=String(e.rawValueDivisor).length-1,t<0&&(t=0)),e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+t,Number(e.originalDecimalPlacesRawValue)+t)}static _calculateDecimalPlacesOnUpdate(e,t=null){this._validateDecimalPlacesRawValue(e),o.isNull(t)&&o.throwError("When updating the settings, the previous ones should be passed as an argument.");const i="decimalPlaces"in e;if(!(i||"decimalPlacesRawValue"in e||"decimalPlacesShownOnFocus"in e||"decimalPlacesShownOnBlur"in e||"rawValueDivisor"in e))return;i?((!("decimalPlacesShownOnFocus"in e)||e.decimalPlacesShownOnFocus===d.options.decimalPlacesShownOnFocus.useDefault)&&(e.decimalPlacesShownOnFocus=e.decimalPlaces),(!("decimalPlacesShownOnBlur"in e)||e.decimalPlacesShownOnBlur===d.options.decimalPlacesShownOnBlur.useDefault)&&(e.decimalPlacesShownOnBlur=e.decimalPlaces),(!("decimalPlacesRawValue"in e)||e.decimalPlacesRawValue===d.options.decimalPlacesRawValue.useDefault)&&(e.decimalPlacesRawValue=e.decimalPlaces)):(o.isUndefined(e.decimalPlacesShownOnFocus)&&(e.decimalPlacesShownOnFocus=t.decimalPlacesShownOnFocus),o.isUndefined(e.decimalPlacesShownOnBlur)&&(e.decimalPlacesShownOnBlur=t.decimalPlacesShownOnBlur));let s=0;e.rawValueDivisor&&e.rawValueDivisor!==d.options.rawValueDivisor.none&&(s=String(e.rawValueDivisor).length-1,s<0&&(s=0)),!e.decimalPlaces&&!e.decimalPlacesRawValue?e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+s,Number(t.originalDecimalPlacesRawValue)+s):e.decimalPlacesRawValue=Math.max(Math.max(e.decimalPlacesShownOnBlur,e.decimalPlacesShownOnFocus)+s,Number(e.decimalPlacesRawValue)+s)}_calculateVMinAndVMaxIntegerSizes(){let[e]=this.settings.maximumValue.toString().split("."),[t]=!this.settings.minimumValue&&this.settings.minimumValue!==0?[]:this.settings.minimumValue.toString().split(".");e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),this.settings.mIntPos=Math.max(e.length,1),this.settings.mIntNeg=Math.max(t.length,1)}_calculateValuesToStringsKeys(){this.settings.valuesToStrings?this.valuesToStringsKeys=Object.keys(this.settings.valuesToStrings):this.valuesToStringsKeys=[]}static _cachesUsualRegularExpressions(e,t){let i;e.negativeSignCharacter!==d.options.negativeSignCharacter.hyphen?i=`([-\\${e.negativeSignCharacter}]?)`:i="(-?)",t.aNegRegAutoStrip=i,e.allowedAutoStrip=new RegExp(`[^-0123456789\\${e.decimalCharacter}]`,"g"),e.numRegAutoStrip=new RegExp(`${i}(?:\\${e.decimalCharacter}?([0-9]+\\${e.decimalCharacter}[0-9]+)|([0-9]*(?:\\${e.decimalCharacter}[0-9]*)?))`),e.stripReg=new RegExp(`^${t.aNegRegAutoStrip}0*([0-9])`),e.formulaChars=new RegExp(`[0-9${e.decimalCharacter}+\\-*/() ]`)}_transformOptionsValuesToDefaultTypes(){for(const e in this.settings)if(Object.prototype.hasOwnProperty.call(this.settings,e)){const t=this.settings[e];(t==="true"||t==="false")&&(this.settings[e]=t==="true"),typeof t=="number"&&(this.settings[e]=t.toString())}}static _convertOldOptionsToNewOnes(e){const t={aSep:"digitGroupSeparator",nSep:"showOnlyNumbersOnFocus",dGroup:"digitalGroupSpacing",aDec:"decimalCharacter",altDec:"decimalCharacterAlternative",aSign:"currencySymbol",pSign:"currencySymbolPlacement",pNeg:"negativePositiveSignPlacement",aSuffix:"suffixText",oLimits:"overrideMinMaxLimits",vMax:"maximumValue",vMin:"minimumValue",mDec:"decimalPlacesOverride",eDec:"decimalPlacesShownOnFocus",scaleDecimal:"decimalPlacesShownOnBlur",aStor:"saveValueToSessionStorage",mRound:"roundingMethod",aPad:"allowDecimalPadding",nBracket:"negativeBracketsTypeOnBlur",wEmpty:"emptyInputBehavior",lZero:"leadingZero",aForm:"formatOnPageLoad",sNumber:"selectNumberOnly",anDefault:"defaultValueOverride",unSetOnSubmit:"unformatOnSubmit",outputType:"outputFormat",debug:"showWarnings",allowDecimalPadding:!0,alwaysAllowDecimalCharacter:!0,caretPositionOnFocus:!0,createLocalList:!0,currencySymbol:!0,currencySymbolPlacement:!0,decimalCharacter:!0,decimalCharacterAlternative:!0,decimalPlaces:!0,decimalPlacesRawValue:!0,decimalPlacesShownOnBlur:!0,decimalPlacesShownOnFocus:!0,defaultValueOverride:!0,digitalGroupSpacing:!0,digitGroupSeparator:!0,divisorWhenUnfocused:!0,emptyInputBehavior:!0,eventBubbles:!0,eventIsCancelable:!0,failOnUnknownOption:!0,formatOnPageLoad:!0,formulaMode:!0,historySize:!0,isCancellable:!0,leadingZero:!0,maximumValue:!0,minimumValue:!0,modifyValueOnUpDownArrow:!0,modifyValueOnWheel:!0,negativeBracketsTypeOnBlur:!0,negativePositiveSignPlacement:!0,negativeSignCharacter:!0,negativePositiveSignBehavior:!0,noEventListeners:!0,onInvalidPaste:!0,outputFormat:!0,overrideMinMaxLimits:!0,positiveSignCharacter:!0,rawValueDivisor:!0,readOnly:!0,roundingMethod:!0,saveValueToSessionStorage:!0,selectNumberOnly:!0,selectOnFocus:!0,serializeSpaces:!0,showOnlyNumbersOnFocus:!0,showPositiveSign:!0,showWarnings:!0,styleRules:!0,suffixText:!0,symbolWhenUnfocused:!0,upDownStep:!0,unformatOnHover:!0,unformatOnSubmit:!0,valuesToStrings:!0,watchExternalChanges:!0,wheelOn:!0,wheelStep:!0,allowedAutoStrip:!0,formulaChars:!0,isNegativeSignAllowed:!0,isPositiveSignAllowed:!0,mIntNeg:!0,mIntPos:!0,numRegAutoStrip:!0,originalDecimalPlaces:!0,originalDecimalPlacesRawValue:!0,stripReg:!0};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t[i]===!0)continue;Object.prototype.hasOwnProperty.call(t,i)?(o.warning(`You are using the deprecated option name '${i}'. Please use '${t[i]}' instead from now on. The old option name will be dropped very soon.`,!0),e[t[i]]=e[i],delete e[i]):e.failOnUnknownOption&&o.throwError(`Option name '${i}' is unknown. Please fix the options passed to autoNumeric`)}"mDec"in e&&o.warning("The old `mDec` option has been deprecated in favor of more accurate options ; `decimalPlaces`, `decimalPlacesRawValue`, `decimalPlacesShownOnFocus` and `decimalPlacesShownOnBlur`.",!0)}_setSettings(e,t=!1){(t||!o.isNull(e))&&this.constructor._convertOldOptionsToNewOnes(e),t?("decimalPlacesRawValue"in e&&(this.settings.originalDecimalPlacesRawValue=e.decimalPlacesRawValue),"decimalPlaces"in e&&(this.settings.originalDecimalPlaces=e.decimalPlaces),this.constructor._calculateDecimalPlacesOnUpdate(e,this.settings),this._mergeSettings(e)):(this.settings={},this._mergeSettings(this.constructor.getDefaultConfig(),this.domElement.dataset,e,{rawValue:this.defaultRawValue}),this.caretFix=!1,this.throwInput=!0,this.allowedTagList=T.allowedTagList,this.runOnce=!1,this.hoveredWithAlt=!1),this._transformOptionsValuesToDefaultTypes(),this._runCallbacksFoundInTheSettingsObject(),this.constructor._correctNegativePositiveSignPlacementOption(this.settings),this.constructor._correctCaretPositionOnFocusAndSelectOnFocusOptions(this.settings),this.constructor._setNegativePositiveSignPermissions(this.settings),t||(o.isNull(e)||!e.decimalPlaces?this.settings.originalDecimalPlaces=null:this.settings.originalDecimalPlaces=e.decimalPlaces,this.settings.originalDecimalPlacesRawValue=this.settings.decimalPlacesRawValue,this.constructor._calculateDecimalPlacesOnInit(this.settings)),this._calculateVMinAndVMaxIntegerSizes(),this._setTrailingNegativeSignInfo(),this.regex={},this.constructor._cachesUsualRegularExpressions(this.settings,this.regex),this.constructor._setBrackets(this.settings),this._calculateValuesToStringsKeys(),o.isEmptyObj(this.settings)&&o.throwError("Unable to set the settings, those are invalid ; an empty object was given."),this.constructor.validate(this.settings,!1,e),this._keepAnOriginalSettingsCopy()}static _setNegativePositiveSignPermissions(e){e.isNegativeSignAllowed=e.minimumValue<0,e.isPositiveSignAllowed=e.maximumValue>=0}static _toNumericValue(e,t){let i;return o.isNumber(Number(e))?(o.isNumberStrict(e)||(e=String(e).trim()),i=o.scientificToDecimal(e)):(i=this._convertToNumericString(e.toString(),t),o.isNumber(Number(i))||(o.warning(`The given value "${e}" cannot be converted to a numeric one and therefore cannot be used appropriately.`,t.showWarnings),i=NaN)),i}_preparePastedText(e){return this.constructor._stripAllNonNumberCharacters(e,this.settings,!0,this.isFocused)}static _checkIfInRange(e,t,i){const s=o.parseStr(e);return o.testMinMax(t,s)>-1&&o.testMinMax(i,s)<1}_updateInternalProperties(){this.selection=o.getElementSelection(this.domElement),this.processed=!1}_updateEventKeyInfo(e){this.eventKey=o.character(e)}_saveCancellableValue(){this.savedCancellableValue=this.rawValue}_setSelection(e,t){e=Math.max(e,0),t=Math.min(t,o.getElementValue(this.domElement).length),this.selection={start:e,end:t,length:t-e},o.setElementSelection(this.domElement,e,t)}_setCaretPosition(e){this._setSelection(e,e)}_getLeftAndRightPartAroundTheSelection(){const e=o.getElementValue(this.domElement),t=e.substring(0,this.selection.start),i=e.substring(this.selection.end,e.length);return[t,i]}_getUnformattedLeftAndRightPartAroundTheSelection(){let[e,t]=this._getLeftAndRightPartAroundTheSelection();if(e===""&&t==="")return["",""];let i=!0;return(this.eventKey===T.keyName.Hyphen||this.eventKey===T.keyName.Minus)&&Number(e)===0&&(i=!1),this.isTrailingNegative&&(o.isNegative(t,this.settings.negativeSignCharacter)&&!o.isNegative(e,this.settings.negativeSignCharacter)||t===""&&o.isNegative(e,this.settings.negativeSignCharacter,!0))&&(e=e.replace(this.settings.negativeSignCharacter,""),t=t.replace(this.settings.negativeSignCharacter,""),e=e.replace("-",""),t=t.replace("-",""),e=`-${e}`),e=d._stripAllNonNumberCharactersExceptCustomDecimalChar(e,this.settings,i,this.isFocused),t=d._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,!1,this.isFocused),[e,t]}_normalizeParts(e,t){let i=!0;(this.eventKey===T.keyName.Hyphen||this.eventKey===T.keyName.Minus)&&Number(e)===0&&(i=!1),this.isTrailingNegative&&o.isNegative(t,this.settings.negativeSignCharacter)&&!o.isNegative(e,this.settings.negativeSignCharacter)&&(e=`-${e}`,t=t.replace(this.settings.negativeSignCharacter,"")),e=d._stripAllNonNumberCharactersExceptCustomDecimalChar(e,this.settings,i,this.isFocused),t=d._stripAllNonNumberCharactersExceptCustomDecimalChar(t,this.settings,!1,this.isFocused),this.settings.leadingZero===d.options.leadingZero.deny&&(this.eventKey===T.keyName.num0||this.eventKey===T.keyName.numpad0)&&Number(e)===0&&!o.contains(e,this.settings.decimalCharacter)&&t!==""&&(e=e.substring(0,e.length-1));let s=e+t;if(this.settings.decimalCharacter){const n=s.match(new RegExp(`^${this.regex.aNegRegAutoStrip}\\${this.settings.decimalCharacter}`));n&&(e=e.replace(n[1],n[1]+"0"),s=e+t)}return[e,t,s]}_setValueParts(e,t,i=!1){const[s,n,h]=this._normalizeParts(e,t),[u,m]=d._checkIfInRangeWithOverrideOption(h,this.settings);if(u&&m){const v=d._truncateDecimalPlaces(h,this.settings,i,this.settings.decimalPlacesRawValue).replace(this.settings.decimalCharacter,".");if(v===""||v===this.settings.negativeSignCharacter){let N;switch(this.settings.emptyInputBehavior){case d.options.emptyInputBehavior.focus:case d.options.emptyInputBehavior.press:case d.options.emptyInputBehavior.always:N="";break;case d.options.emptyInputBehavior.min:N=this.settings.minimumValue;break;case d.options.emptyInputBehavior.max:N=this.settings.maximumValue;break;case d.options.emptyInputBehavior.zero:N="0";break;case d.options.emptyInputBehavior.null:N=null;break;default:N=this.settings.emptyInputBehavior}this._setRawValue(N)}else this._setRawValue(this._trimLeadingAndTrailingZeros(v));const y=d._truncateDecimalPlaces(h,this.settings,i,this.settings.decimalPlacesShownOnFocus);let O=s.length;return O>y.length&&(O=y.length),O===1&&s==="0"&&this.settings.leadingZero===d.options.leadingZero.deny&&(n===""||s==="0"&&n!==""?O=1:O=0),this._setElementValue(y,!1),this._setCaretPosition(O),!0}return this._triggerRangeEvents(u,m),!1}_getSignPosition(){let e;if(this.settings.currencySymbol){const t=this.settings.currencySymbol.length,i=o.getElementValue(this.domElement);if(this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix)this.settings.negativeSignCharacter&&i&&i.charAt(0)===this.settings.negativeSignCharacter?e=[1,t+1]:e=[0,t];else{const s=i.length;e=[s-t,s]}}else e=[1e3,-1];return e}_expandSelectionOnSign(){const[e,t]=this._getSignPosition(),i=this.selection;i.start<t&&i.end>e&&((i.start<e||i.end>t)&&o.getElementValue(this.domElement).substring(Math.max(i.start,e),Math.min(i.end,t)).match(/^\s*$/)?i.start<e?this._setSelection(i.start,e):this._setSelection(t,i.end):this._setSelection(Math.min(i.start,e),Math.max(i.end,t)))}_checkPaste(){if(!this.formatted&&!o.isUndefined(this.valuePartsBeforePaste)){const e=this.valuePartsBeforePaste,[t,i]=this._getLeftAndRightPartAroundTheSelection();delete this.valuePartsBeforePaste;const s=t.substr(0,e[0].length)+d._stripAllNonNumberCharactersExceptCustomDecimalChar(t.substr(e[0].length),this.settings,!0,this.isFocused);this._setValueParts(s,i,!0)||(this._setElementValue(e.join(""),!1),this._setCaretPosition(e[0].length))}}static _shouldSkipEventKey(e){const t=o.isInArray(e,T.keyName._allFnKeys),i=e===T.keyName.OSLeft||e===T.keyName.OSRight,s=e===T.keyName.ContextMenu,n=o.isInArray(e,T.keyName._someNonPrintableKeys),h=e===T.keyName.NumLock||e===T.keyName.ScrollLock||e===T.keyName.Insert||e===T.keyName.Command,u=e===T.keyName.Unidentified;return t||i||s||n||u||h}_processNonPrintableKeysAndShortcuts(e){if((e.ctrlKey||e.metaKey)&&e.type==="keyup"&&!o.isUndefined(this.valuePartsBeforePaste)||e.shiftKey&&this.eventKey===T.keyName.Insert)return this._checkPaste(),!1;if(this.constructor._shouldSkipEventKey(this.eventKey))return!0;if((e.ctrlKey||e.metaKey)&&this.eventKey===T.keyName.a)return this.settings.selectNumberOnly&&(e.preventDefault(),this.selectNumber()),!0;if((e.ctrlKey||e.metaKey)&&(this.eventKey===T.keyName.c||this.eventKey===T.keyName.v||this.eventKey===T.keyName.x))return e.type==="keydown"&&this._expandSelectionOnSign(),(this.eventKey===T.keyName.v||this.eventKey===T.keyName.Insert)&&(e.type==="keydown"||e.type==="keypress"?o.isUndefined(this.valuePartsBeforePaste)&&(this.valuePartsBeforePaste=this._getLeftAndRightPartAroundTheSelection()):this._checkPaste()),e.type==="keydown"||e.type==="keypress"||this.eventKey===T.keyName.c;if(e.ctrlKey||e.metaKey)return!(this.eventKey===T.keyName.Z||this.eventKey===T.keyName.z);if(this.eventKey===T.keyName.LeftArrow||this.eventKey===T.keyName.RightArrow){if(e.type==="keydown"&&!e.shiftKey){const t=o.getElementValue(this.domElement);this.eventKey===T.keyName.LeftArrow&&(t.charAt(this.selection.start-2)===this.settings.digitGroupSeparator||t.charAt(this.selection.start-2)===this.settings.decimalCharacter)?this._setCaretPosition(this.selection.start-1):this.eventKey===T.keyName.RightArrow&&(t.charAt(this.selection.start+1)===this.settings.digitGroupSeparator||t.charAt(this.selection.start+1)===this.settings.decimalCharacter)&&this._setCaretPosition(this.selection.start+1)}return!0}return o.isInArray(this.eventKey,T.keyName._directionKeys)}_processCharacterDeletionIfTrailingNegativeSign([e,t]){const i=o.getElementValue(this.domElement),s=o.isNegative(i,this.settings.negativeSignCharacter);if(this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.suffix&&(this.eventKey===T.keyName.Backspace?(this.caretFix=this.selection.start>=i.indexOf(this.settings.suffixText)&&this.settings.suffixText!=="",i.charAt(this.selection.start-1)==="-"?e=e.substring(1):this.selection.start<=i.length-this.settings.suffixText.length&&(e=e.substring(0,e.length-1))):(this.caretFix=this.selection.start>=i.indexOf(this.settings.suffixText)&&this.settings.suffixText!=="",this.selection.start>=i.indexOf(this.settings.currencySymbol)+this.settings.currencySymbol.length&&(t=t.substring(1,t.length)),o.isNegative(e,this.settings.negativeSignCharacter)&&i.charAt(this.selection.start)==="-"&&(e=e.substring(1)))),this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix)switch(this.settings.negativePositiveSignPlacement){case d.options.negativePositiveSignPlacement.left:this.caretFix=this.selection.start>=i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===T.keyName.Backspace?this.selection.start===i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length&&s?e=e.substring(1):e!=="-"&&(this.selection.start<=i.indexOf(this.settings.negativeSignCharacter)||!s)&&(e=e.substring(0,e.length-1)):(e[0]==="-"&&(t=t.substring(1)),this.selection.start===i.indexOf(this.settings.negativeSignCharacter)&&s&&(e=e.substring(1)));break;case d.options.negativePositiveSignPlacement.right:this.caretFix=this.selection.start>=i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length,this.eventKey===T.keyName.Backspace?this.selection.start===i.indexOf(this.settings.negativeSignCharacter)+this.settings.negativeSignCharacter.length?e=e.substring(1):(e!=="-"&&this.selection.start<=i.indexOf(this.settings.negativeSignCharacter)-this.settings.currencySymbol.length||e!==""&&!s)&&(e=e.substring(0,e.length-1)):(this.caretFix=this.selection.start>=i.indexOf(this.settings.currencySymbol)&&this.settings.currencySymbol!=="",this.selection.start===i.indexOf(this.settings.negativeSignCharacter)&&(e=e.substring(1)),t=t.substring(1));break}return[e,t]}_processCharacterDeletion(e){let t,i;return this.selection.length?(this._expandSelectionOnSign(),[t,i]=this._getUnformattedLeftAndRightPartAroundTheSelection()):([t,i]=this._getUnformattedLeftAndRightPartAroundTheSelection(),t===""&&i===""&&(this.throwInput=!1),this.isTrailingNegative&&o.isNegative(o.getElementValue(this.domElement),this.settings.negativeSignCharacter)?[t,i]=this._processCharacterDeletionIfTrailingNegativeSign([t,i]):this.eventKey===T.keyName.Backspace?t=t.substring(0,t.length-1):i=i.substring(1,i.length)),!this.constructor._isWithinRangeWithOverrideOption(`${t}${i}`,this.settings)||o.getElementValue(e.target)===this.settings.currencySymbol?!1:(this._setValueParts(t,i),!0)}_isDecimalCharacterInsertionAllowed(){return String(this.settings.decimalPlacesShownOnFocus)!==String(d.options.decimalPlacesShownOnFocus.none)&&String(this.settings.decimalPlaces)!==String(d.options.decimalPlaces.none)}_processCharacterInsertion(){let[e,t]=this._getUnformattedLeftAndRightPartAroundTheSelection();if(this.eventKey!==T.keyName.AndroidDefault&&(this.throwInput=!0),this.eventKey===this.settings.decimalCharacter||this.settings.decimalCharacterAlternative&&this.eventKey===this.settings.decimalCharacterAlternative){if(!this._isDecimalCharacterInsertionAllowed()||!this.settings.decimalCharacter)return!1;if(this.settings.alwaysAllowDecimalCharacter)e=e.replace(this.settings.decimalCharacter,""),t=t.replace(this.settings.decimalCharacter,"");else{if(o.contains(e,this.settings.decimalCharacter)||t.indexOf(this.settings.decimalCharacter)>0)return!0;t.indexOf(this.settings.decimalCharacter)===0&&(t=t.substr(1))}return this.settings.negativeSignCharacter&&o.contains(t,this.settings.negativeSignCharacter)&&(e=`${this.settings.negativeSignCharacter}${e}`,t=t.replace(this.settings.negativeSignCharacter,"")),this._setValueParts(e+this.settings.decimalCharacter,t),!0}if((this.eventKey==="-"||this.eventKey==="+")&&this.settings.isNegativeSignAllowed)return e===""&&o.contains(t,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="+")&&(t=t.replace("-","")):o.isNegativeStrict(e,"-")?(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="+")&&(e=e.replace("-","")):(this.settings.negativePositiveSignBehavior||!this.settings.negativePositiveSignBehavior&&this.eventKey==="-")&&(e=`${this.settings.negativeSignCharacter}${e}`),this._setValueParts(e,t),!0;const i=Number(this.eventKey);return i>=0&&i<=9?(this.settings.isNegativeSignAllowed&&e===""&&o.contains(t,"-")&&(e="-",t=t.substring(1,t.length)),this.settings.maximumValue<=0&&this.settings.minimumValue<this.settings.maximumValue&&!o.contains(o.getElementValue(this.domElement),this.settings.negativeSignCharacter)&&this.eventKey!=="0"&&(e=`-${e}`),this._setValueParts(`${e}${this.eventKey}`,t),!0):(this.throwInput=!1,!1)}_formatValue(e){const t=o.getElementValue(this.domElement);let[i]=this._getUnformattedLeftAndRightPartAroundTheSelection();if((this.settings.digitGroupSeparator===""||this.settings.digitGroupSeparator!==""&&!o.contains(t,this.settings.digitGroupSeparator))&&(this.settings.currencySymbol===""||this.settings.currencySymbol!==""&&!o.contains(t,this.settings.currencySymbol))){let[h]=t.split(this.settings.decimalCharacter),u="";o.isNegative(h,this.settings.negativeSignCharacter)&&(u=this.settings.negativeSignCharacter,h=h.replace(this.settings.negativeSignCharacter,""),i=i.replace("-","")),u===""&&h.length>this.settings.mIntPos&&i.charAt(0)==="0"&&(i=i.slice(1)),u===this.settings.negativeSignCharacter&&h.length>this.settings.mIntNeg&&i.charAt(0)==="0"&&(i=i.slice(1)),this.isTrailingNegative||(i=`${u}${i}`)}const s=this.constructor._addGroupSeparators(t,this.settings,this.isFocused,this.rawValue);let n=s.length;if(s){const h=i.split("");if((this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.suffix||this.settings.negativePositiveSignPlacement!==d.options.negativePositiveSignPlacement.prefix&&this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix)&&h[0]===this.settings.negativeSignCharacter&&!this.settings.isNegativeSignAllowed&&(h.shift(),(this.eventKey===T.keyName.Backspace||this.eventKey===T.keyName.Delete)&&this.caretFix&&((this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.left||this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix&&this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.suffix)&&(h.push(this.settings.negativeSignCharacter),this.caretFix=e.type==="keydown"),this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix&&this.settings.negativePositiveSignPlacement===d.options.negativePositiveSignPlacement.right))){const g=this.settings.currencySymbol.split(""),v=["\\","^","$",".","|","?","*","+","(",")","["],y=[];g.forEach((O,N)=>{N=g[O],o.isInArray(N,v)?y.push("\\"+N):y.push(N)}),this.eventKey===T.keyName.Backspace&&this.settings.negativeSignCharacter==="-"&&y.push("-"),h.push(y.join("")),this.caretFix=e.type==="keydown"}for(let g=0;g<h.length;g++)h[g].match("\\d")||(h[g]="\\"+h[g]);let u;this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix?u=new RegExp(`^.*?${h.join(".*?")}`):u=new RegExp(`^.*?[${this.settings.currencySymbol}]*${h.join(".*?")}`);const m=s.match(u);m?(n=m[0].length,this.settings.showPositiveSign&&(n===0&&m.input.charAt(0)===this.settings.positiveSignCharacter&&(n=m.input.indexOf(this.settings.currencySymbol)===1?this.settings.currencySymbol.length+1:1),n===0&&m.input.charAt(this.settings.currencySymbol.length)===this.settings.positiveSignCharacter&&(n=this.settings.currencySymbol.length+1)),(n===0&&s.charAt(0)!==this.settings.negativeSignCharacter||n===1&&s.charAt(0)===this.settings.negativeSignCharacter)&&this.settings.currencySymbol&&this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.prefix&&(n=this.settings.currencySymbol.length+(o.isNegativeStrict(s,this.settings.negativeSignCharacter)?1:0))):(this.settings.currencySymbol&&this.settings.currencySymbolPlacement===d.options.currencySymbolPlacement.suffix&&(n-=this.settings.currencySymbol.length),this.settings.suffixText&&(n-=this.settings.suffixText.length))}s!==t&&(this._setElementValue(s,!1),this._setCaretPosition(n)),this.formatted=!0}static _serialize(e,t=!1,i="unformatted",s="+",n=null){const h=[];typeof e=="object"&&e.nodeName.toLowerCase()==="form"&&Array.prototype.slice.call(e.elements).forEach(m=>{if(m.name&&!m.disabled&&["file","reset","submit","button"].indexOf(m.type)===-1){if(m.type==="select-multiple")Array.prototype.slice.call(m.options).forEach(g=>{g.selected&&(t?h.push({name:m.name,value:g.value}):h.push(`${encodeURIComponent(m.name)}=${encodeURIComponent(g.value)}`))});else if(["checkbox","radio"].indexOf(m.type)===-1||m.checked){let g;if(this.isManagedByAutoNumeric(m)){let v;switch(i){case"unformatted":v=this.getAutoNumericElement(m),o.isNull(v)||(g=this.unformat(m,v.getSettings()));break;case"localized":if(v=this.getAutoNumericElement(m),!o.isNull(v)){const y=o.cloneObject(v.getSettings());o.isNull(n)||(y.outputFormat=n),g=this.localize(m,y)}break;case"formatted":default:g=m.value}}else g=m.value;o.isUndefined(g)&&o.throwError("This error should never be hit. If it has, something really wrong happened!"),t?h.push({name:m.name,value:g}):h.push(`${encodeURIComponent(m.name)}=${encodeURIComponent(g)}`)}}});let u;return t?u=h:(u=h.join("&"),s==="+"&&(u=u.replace(/%20/g,"+"))),u}static _serializeNumericString(e,t="+"){return this._serialize(e,!1,"unformatted",t)}static _serializeFormatted(e,t="+"){return this._serialize(e,!1,"formatted",t)}static _serializeLocalized(e,t="+",i=null){return this._serialize(e,!1,"localized",t,i)}static _serializeNumericStringArray(e,t="+"){return this._serialize(e,!0,"unformatted",t)}static _serializeFormattedArray(e,t="+"){return this._serialize(e,!0,"formatted",t)}static _serializeLocalizedArray(e,t="+",i=null){return this._serialize(e,!0,"localized",t,i)}};Ae(d,"options"),Ae(d,"events"),Ae(d,"defaultSettings"),Ae(d,"predefinedOptions");let S=d;S.multiple=(a,e=null,t=null)=>{const i=[];if(o.isObject(e)&&(t=e,e=null),o.isString(a))a=[...document.querySelectorAll(a)];else if(o.isObject(a)){Object.prototype.hasOwnProperty.call(a,"rootElement")||o.throwError("The object passed to the 'multiple' function is invalid ; no 'rootElement' attribute found.");const N=[...a.rootElement.querySelectorAll("input")];Object.prototype.hasOwnProperty.call(a,"exclude")?(Array.isArray(a.exclude)||o.throwError("The 'exclude' array passed to the 'multiple' function is invalid."),a=o.filterOut(N,a.exclude)):a=N}else o.isArray(a)||o.throwError("The given parameters to the 'multiple' function are invalid.");if(a.length===0){let N=!0;return!o.isNull(t)&&o.isBoolean(t.showWarnings)&&(N=t.showWarnings),o.warning("No valid DOM elements were given hence no AutoNumeric objects were instantiated.",N),[]}const n=o.isArray(e)&&e.length>=1;let h=!1,u=!1;if(n){const N=typeof Number(e[0]);h=N==="number"&&!isNaN(Number(e[0])),h||(N==="string"||isNaN(N)||N==="object")&&(u=!0)}const m=o.isArray(t)&&t.length>=1;let g=!1;if(m){const N=typeof t[0];(N==="string"||N==="object")&&(g=!0)}let v;u?v=S.mergeOptions(e):g?v=S.mergeOptions(t):v=t;const y=o.isNumber(e);let O;return h&&(O=e.length),a.forEach((N,w)=>{y?i.push(new S(N,e,v)):h&&w<=O?i.push(new S(N,e[w],v)):i.push(new S(N,null,v))}),i};S.events={correctedValue:"autoNumeric:correctedValue",initialized:"autoNumeric:initialized",invalidFormula:"autoNumeric:invalidFormula",invalidValue:"autoNumeric:invalidValue",formatted:"autoNumeric:formatted",rawValueModified:"autoNumeric:rawValueModified",minRangeExceeded:"autoNumeric:minExceeded",maxRangeExceeded:"autoNumeric:maxExceeded",native:{input:"input",change:"change"},validFormula:"autoNumeric:validFormula"};Object.freeze(S.events.native);Object.freeze(S.events);Object.defineProperty(S,"events",{configurable:!1,writable:!1});S.options={allowDecimalPadding:{always:!0,never:!1,floats:"floats"},alwaysAllowDecimalCharacter:{alwaysAllow:!0,doNotAllow:!1},caretPositionOnFocus:{start:"start",end:"end",decimalLeft:"decimalLeft",decimalRight:"decimalRight",doNoForceCaretPosition:null},createLocalList:{createList:!0,doNotCreateList:!1},currencySymbol:{none:"",currencySign:"",austral:"",australCentavo:"",baht:"",cedi:"",cent:"",colon:"",cruzeiro:"",dollar:"$",dong:"",drachma:"",dram:"",european:"",euro:"",florin:"",franc:"",guarani:"",hryvnia:"",kip:"",att:"",lepton:".",lira:"",liraOld:"",lari:"",mark:"",mill:"",naira:"",peseta:"",peso:"",pfennig:"",pound:"",real:"R$ ",riel:"",ruble:"",rupee:"",rupeeOld:"",shekel:"",shekelAlt:"",taka:"",tenge:"",togrog:"",won:"",yen:""},currencySymbolPlacement:{prefix:"p",suffix:"s"},decimalCharacter:{comma:",",dot:".",middleDot:"",arabicDecimalSeparator:"",decimalSeparatorKeySymbol:""},decimalCharacterAlternative:{none:null,comma:",",dot:"."},decimalPlaces:{none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesRawValue:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnBlur:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},decimalPlacesShownOnFocus:{useDefault:null,none:0,one:1,two:2,three:3,four:4,five:5,six:6},defaultValueOverride:{doNotOverride:null},digitalGroupSpacing:{two:"2",twoThree:"2t",twoScaled:"2s",three:"3",four:"4"},digitGroupSeparator:{comma:",",dot:".",normalSpace:" ",thinSpace:"",narrowNoBreakSpace:"",noBreakSpace:"",noSeparator:"",apostrophe:"'",arabicThousandsSeparator:"",dotAbove:"",privateUseTwo:""},divisorWhenUnfocused:{none:null,percentage:100,permille:1e3,basisPoint:1e4},emptyInputBehavior:{focus:"focus",press:"press",always:"always",zero:"zero",min:"min",max:"max",null:"null"},eventBubbles:{bubbles:!0,doesNotBubble:!1},eventIsCancelable:{isCancelable:!0,isNotCancelable:!1},failOnUnknownOption:{fail:!0,ignore:!1},formatOnPageLoad:{format:!0,doNotFormat:!1},formulaMode:{enabled:!0,disabled:!1},historySize:{verySmall:5,small:10,medium:20,large:50,veryLarge:100,insane:Number.MAX_SAFE_INTEGER},invalidClass:"an-invalid",isCancellable:{cancellable:!0,notCancellable:!1},leadingZero:{allow:"allow",deny:"deny",keep:"keep"},maximumValue:{tenTrillions:"10000000000000",oneBillion:"1000000000",zero:"0"},minimumValue:{tenTrillions:"-10000000000000",oneBillion:"-1000000000",zero:"0"},modifyValueOnUpDownArrow:{modifyValue:!0,doNothing:!1},modifyValueOnWheel:{modifyValue:!0,doNothing:!1},negativeBracketsTypeOnBlur:{parentheses:"(,)",brackets:"[,]",chevrons:"<,>",curlyBraces:"{,}",angleBrackets:",",japaneseQuotationMarks:",",halfBrackets:",",whiteSquareBrackets:",",quotationMarks:",",guillemets:",",none:null},negativePositiveSignPlacement:{prefix:"p",suffix:"s",left:"l",right:"r",none:null},negativeSignCharacter:{hyphen:"-",minus:"",heavyMinus:"",fullWidthHyphen:"",circledMinus:"",squaredMinus:"",triangleMinus:"",plusMinus:"",minusPlus:"",dotMinus:"",minusTilde:"",not:""},negativePositiveSignBehavior:{toggle:!0,doNotToggle:!1},noEventListeners:{noEvents:!0,addEvents:!1},onInvalidPaste:{error:"error",ignore:"ignore",clamp:"clamp",truncate:"truncate",replace:"replace"},outputFormat:{string:"string",number:"number",dot:".",negativeDot:"-.",comma:",",negativeComma:"-,",dotNegative:".-",commaNegative:",-",none:null},overrideMinMaxLimits:{ceiling:"ceiling",floor:"floor",ignore:"ignore",invalid:"invalid",doNotOverride:null},positiveSignCharacter:{plus:"+",fullWidthPlus:"",heavyPlus:"",doublePlus:"",triplePlus:"",circledPlus:"",squaredPlus:"",trianglePlus:"",plusMinus:"",minusPlus:"",dotPlus:"",altHebrewPlus:"",normalSpace:" ",thinSpace:"",narrowNoBreakSpace:"",noBreakSpace:""},rawValueDivisor:{none:null,percentage:100,permille:1e3,basisPoint:1e4},readOnly:{readOnly:!0,readWrite:!1},roundingMethod:{halfUpSymmetric:"S",halfUpAsymmetric:"A",halfDownSymmetric:"s",halfDownAsymmetric:"a",halfEvenBankersRounding:"B",upRoundAwayFromZero:"U",downRoundTowardZero:"D",toCeilingTowardPositiveInfinity:"C",toFloorTowardNegativeInfinity:"F",toNearest05:"N05",toNearest05Alt:"CHF",upToNext05:"U05",downToNext05:"D05"},saveValueToSessionStorage:{save:!0,doNotSave:!1},selectNumberOnly:{selectNumbersOnly:!0,selectAll:!1},selectOnFocus:{select:!0,doNotSelect:!1},serializeSpaces:{plus:"+",percent:"%20"},showOnlyNumbersOnFocus:{onlyNumbers:!0,showAll:!1},showPositiveSign:{show:!0,hide:!1},showWarnings:{show:!0,hide:!1},styleRules:{none:null,positiveNegative:{positive:"autoNumeric-positive",negative:"autoNumeric-negative"},range0To100With4Steps:{ranges:[{min:0,max:25,class:"autoNumeric-red"},{min:25,max:50,class:"autoNumeric-orange"},{min:50,max:75,class:"autoNumeric-yellow"},{min:75,max:100,class:"autoNumeric-green"}]},evenOdd:{userDefined:[{callback:a=>a%2===0,classes:["autoNumeric-even","autoNumeric-odd"]}]},rangeSmallAndZero:{userDefined:[{callback:a=>a>=-1&&a<0?0:Number(a)===0?1:a>0&&a<=1?2:null,classes:["autoNumeric-small-negative","autoNumeric-zero","autoNumeric-small-positive"]}]}},suffixText:{none:"",percentage:"%",permille:"",basisPoint:""},symbolWhenUnfocused:{none:null,percentage:"%",permille:"",basisPoint:""},unformatOnHover:{unformat:!0,doNotUnformat:!1},unformatOnSubmit:{unformat:!0,keepCurrentValue:!1},upDownStep:{progressive:"progressive"},valuesToStrings:{none:null,zeroDash:{0:"-"},oneAroundZero:{"-1":"Min",1:"Max"}},watchExternalChanges:{watch:!0,doNotWatch:!1},wheelOn:{focus:"focus",hover:"hover"},wheelStep:{progressive:"progressive"}};function Ta(a){return Object.getOwnPropertyNames(a).forEach(e=>{e==="valuesToStrings"?Object.getOwnPropertyNames(a.valuesToStrings).forEach(i=>{a.valuesToStrings[i]!==null&&Object.freeze(a.valuesToStrings[i])}):e!=="styleRules"&&a[e]!==null&&Object.freeze(a[e])}),Object.freeze(a)}Ta(S.options);Object.defineProperty(S,"options",{configurable:!1,writable:!1});S.defaultSettings={allowDecimalPadding:S.options.allowDecimalPadding.always,alwaysAllowDecimalCharacter:S.options.alwaysAllowDecimalCharacter.doNotAllow,caretPositionOnFocus:S.options.caretPositionOnFocus.doNoForceCaretPosition,createLocalList:S.options.createLocalList.createList,currencySymbol:S.options.currencySymbol.none,currencySymbolPlacement:S.options.currencySymbolPlacement.prefix,decimalCharacter:S.options.decimalCharacter.dot,decimalCharacterAlternative:S.options.decimalCharacterAlternative.none,decimalPlaces:S.options.decimalPlaces.two,decimalPlacesRawValue:S.options.decimalPlacesRawValue.useDefault,decimalPlacesShownOnBlur:S.options.decimalPlacesShownOnBlur.useDefault,decimalPlacesShownOnFocus:S.options.decimalPlacesShownOnFocus.useDefault,defaultValueOverride:S.options.defaultValueOverride.doNotOverride,digitalGroupSpacing:S.options.digitalGroupSpacing.three,digitGroupSeparator:S.options.digitGroupSeparator.comma,divisorWhenUnfocused:S.options.divisorWhenUnfocused.none,emptyInputBehavior:S.options.emptyInputBehavior.focus,eventBubbles:S.options.eventBubbles.bubbles,eventIsCancelable:S.options.eventIsCancelable.isCancelable,failOnUnknownOption:S.options.failOnUnknownOption.ignore,formatOnPageLoad:S.options.formatOnPageLoad.format,formulaMode:S.options.formulaMode.disabled,historySize:S.options.historySize.medium,invalidClass:S.options.invalidClass,isCancellable:S.options.isCancellable.cancellable,leadingZero:S.options.leadingZero.deny,maximumValue:S.options.maximumValue.tenTrillions,minimumValue:S.options.minimumValue.tenTrillions,modifyValueOnUpDownArrow:S.options.modifyValueOnUpDownArrow.modifyValue,modifyValueOnWheel:S.options.modifyValueOnWheel.modifyValue,negativeBracketsTypeOnBlur:S.options.negativeBracketsTypeOnBlur.none,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.none,negativeSignCharacter:S.options.negativeSignCharacter.hyphen,negativePositiveSignBehavior:S.options.negativePositiveSignBehavior.doNotToggle,noEventListeners:S.options.noEventListeners.addEvents,onInvalidPaste:S.options.onInvalidPaste.error,outputFormat:S.options.outputFormat.none,overrideMinMaxLimits:S.options.overrideMinMaxLimits.doNotOverride,positiveSignCharacter:S.options.positiveSignCharacter.plus,rawValueDivisor:S.options.rawValueDivisor.none,readOnly:S.options.readOnly.readWrite,roundingMethod:S.options.roundingMethod.halfUpSymmetric,saveValueToSessionStorage:S.options.saveValueToSessionStorage.doNotSave,selectNumberOnly:S.options.selectNumberOnly.selectNumbersOnly,selectOnFocus:S.options.selectOnFocus.select,serializeSpaces:S.options.serializeSpaces.plus,showOnlyNumbersOnFocus:S.options.showOnlyNumbersOnFocus.showAll,showPositiveSign:S.options.showPositiveSign.hide,showWarnings:S.options.showWarnings.show,styleRules:S.options.styleRules.none,suffixText:S.options.suffixText.none,symbolWhenUnfocused:S.options.symbolWhenUnfocused.none,unformatOnHover:S.options.unformatOnHover.unformat,unformatOnSubmit:S.options.unformatOnSubmit.keepCurrentValue,upDownStep:"1",valuesToStrings:S.options.valuesToStrings.none,watchExternalChanges:S.options.watchExternalChanges.doNotWatch,wheelOn:S.options.wheelOn.focus,wheelStep:S.options.wheelStep.progressive};Object.freeze(S.defaultSettings);Object.defineProperty(S,"defaultSettings",{configurable:!1,writable:!1});const de={digitGroupSeparator:S.options.digitGroupSeparator.dot,decimalCharacter:S.options.decimalCharacter.comma,decimalCharacterAlternative:S.options.decimalCharacterAlternative.dot,currencySymbol:"",currencySymbolPlacement:S.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.prefix},Ce={digitGroupSeparator:S.options.digitGroupSeparator.comma,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:S.options.currencySymbol.dollar,currencySymbolPlacement:S.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.right},Vi={digitGroupSeparator:S.options.digitGroupSeparator.comma,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:S.options.currencySymbol.yen,currencySymbolPlacement:S.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.right},ka=o.cloneObject(de);ka.formulaMode=S.options.formulaMode.enabled;const dn=o.cloneObject(de);dn.minimumValue=0;const $t=o.cloneObject(de);$t.maximumValue=0;$t.negativePositiveSignPlacement=S.options.negativePositiveSignPlacement.prefix;const nt=o.cloneObject(de);nt.digitGroupSeparator=S.options.digitGroupSeparator.normalSpace;const fn=o.cloneObject(nt);fn.minimumValue=0;const jt=o.cloneObject(nt);jt.maximumValue=0;jt.negativePositiveSignPlacement=S.options.negativePositiveSignPlacement.prefix;const me=o.cloneObject(de);me.currencySymbol=S.options.currencySymbol.none;me.suffixText=`${S.options.suffixText.percentage}`;me.wheelStep=1e-4;me.rawValueDivisor=S.options.rawValueDivisor.percentage;const zt=o.cloneObject(me);zt.minimumValue=0;const st=o.cloneObject(me);st.maximumValue=0;st.negativePositiveSignPlacement=S.options.negativePositiveSignPlacement.prefix;const mn=o.cloneObject(me);mn.decimalPlaces=3;const pn=o.cloneObject(zt);pn.decimalPlaces=3;const gn=o.cloneObject(st);gn.decimalPlaces=3;const xa=o.cloneObject(Ce);xa.formulaMode=S.options.formulaMode.enabled;const vn=o.cloneObject(Ce);vn.minimumValue=0;const rt=o.cloneObject(Ce);rt.maximumValue=0;rt.negativePositiveSignPlacement=S.options.negativePositiveSignPlacement.prefix;const yn=o.cloneObject(rt);yn.negativeBracketsTypeOnBlur=S.options.negativeBracketsTypeOnBlur.parentheses;const pe=o.cloneObject(Ce);pe.currencySymbol=S.options.currencySymbol.none;pe.suffixText=S.options.suffixText.percentage;pe.wheelStep=1e-4;pe.rawValueDivisor=S.options.rawValueDivisor.percentage;const Ht=o.cloneObject(pe);Ht.minimumValue=0;const ot=o.cloneObject(pe);ot.maximumValue=0;ot.negativePositiveSignPlacement=S.options.negativePositiveSignPlacement.prefix;const bn=o.cloneObject(pe);bn.decimalPlaces=3;const Sn=o.cloneObject(Ht);Sn.decimalPlaces=3;const wn=o.cloneObject(ot);wn.decimalPlaces=3;const Pn=o.cloneObject(de);Pn.currencySymbol=S.options.currencySymbol.lira;S.predefinedOptions={euro:de,euroPos:dn,euroNeg:$t,euroSpace:nt,euroSpacePos:fn,euroSpaceNeg:jt,percentageEU2dec:me,percentageEU2decPos:zt,percentageEU2decNeg:st,percentageEU3dec:mn,percentageEU3decPos:pn,percentageEU3decNeg:gn,dollar:Ce,dollarPos:vn,dollarNeg:rt,dollarNegBrackets:yn,percentageUS2dec:pe,percentageUS2decPos:Ht,percentageUS2decNeg:ot,percentageUS3dec:bn,percentageUS3decPos:Sn,percentageUS3decNeg:wn,French:de,Spanish:de,NorthAmerican:Ce,British:{digitGroupSeparator:S.options.digitGroupSeparator.comma,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:S.options.currencySymbol.pound,currencySymbolPlacement:S.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.right},Swiss:{digitGroupSeparator:S.options.digitGroupSeparator.apostrophe,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:"CHF",currencySymbolPlacement:S.options.currencySymbolPlacement.suffix,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.prefix},Japanese:Vi,Chinese:Vi,Brazilian:{digitGroupSeparator:S.options.digitGroupSeparator.dot,decimalCharacter:S.options.decimalCharacter.comma,currencySymbol:S.options.currencySymbol.real,currencySymbolPlacement:S.options.currencySymbolPlacement.prefix,negativePositiveSignPlacement:S.options.negativePositiveSignPlacement.right},Turkish:Pn,dotDecimalCharCommaSeparator:{digitGroupSeparator:S.options.digitGroupSeparator.comma,decimalCharacter:S.options.decimalCharacter.dot},commaDecimalCharDotSeparator:{digitGroupSeparator:S.options.digitGroupSeparator.dot,decimalCharacter:S.options.decimalCharacter.comma,decimalCharacterAlternative:S.options.decimalCharacterAlternative.dot},integer:{decimalPlaces:0},integerPos:{minimumValue:S.options.minimumValue.zero,decimalPlaces:0},integerNeg:{maximumValue:S.options.maximumValue.zero,decimalPlaces:0},float:{allowDecimalPadding:S.options.allowDecimalPadding.never},floatPos:{allowDecimalPadding:S.options.allowDecimalPadding.never,minimumValue:S.options.minimumValue.zero,maximumValue:S.options.maximumValue.tenTrillions},floatNeg:{allowDecimalPadding:S.options.allowDecimalPadding.never,minimumValue:S.options.minimumValue.tenTrillions,maximumValue:S.options.maximumValue.zero},numeric:{digitGroupSeparator:S.options.digitGroupSeparator.noSeparator,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:S.options.currencySymbol.none},numericPos:{digitGroupSeparator:S.options.digitGroupSeparator.noSeparator,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:S.options.currencySymbol.none,minimumValue:S.options.minimumValue.zero,maximumValue:S.options.maximumValue.tenTrillions},numericNeg:{digitGroupSeparator:S.options.digitGroupSeparator.noSeparator,decimalCharacter:S.options.decimalCharacter.dot,currencySymbol:S.options.currencySymbol.none,minimumValue:S.options.minimumValue.tenTrillions,maximumValue:S.options.maximumValue.zero}};Object.getOwnPropertyNames(S.predefinedOptions).forEach(a=>{Object.freeze(S.predefinedOptions[a])});Object.freeze(S.predefinedOptions);Object.defineProperty(S,"predefinedOptions",{configurable:!1,writable:!1});document.addEventListener("DOMContentLoaded",()=>{new S("#currency",{currencySymbol:"Rp. ",decimalPlaces:2}),new S(".percent",{suffixText:"%",decimalPlaces:2}),new S(".number",{decimalPlaces:0})});
